{"version":3,"file":"WalletsManagement-B4QYl-Sx-CNmEEzPU.js","sources":["../../assets/WalletsManagement-B4QYl-Sx.js"],"sourcesContent":["import{J as Z,r as x,u as q,c as X,j as e,W as Y,X as J,Y as G,Z as K,I as N,B as f,S as V,at as se,aq as I,au as z,a as te,ar as P}from\"./index-tnWDkOuX.js\";import{C as B,a as re,b as ae,d as H}from\"./card-SlwaggFS.js\";import{B as ne}from\"./badge-Cq-GDK1F.js\";import{T as de,P as M}from\"./progress-BOoGedvV.js\";import{L as j}from\"./label-_mnIMROJ.js\";import{S as oe,a as ce,b as me,c as le,d as _}from\"./select-QKdc2TYn.js\";import{L as he}from\"./dropdown-menu-MkPhHRIa.js\";import{S as xe}from\"./square-pen-CHl7RpbW.js\";/**\r\n * @license lucide-react v0.462.0 - ISC\r\n *\r\n * This source code is licensed under the ISC license.\r\n * See the LICENSE file in the root directory of this source tree.\r\n */const ge=Z(\"ToggleLeft\",[[\"rect\",{width:\"20\",height:\"12\",x:\"2\",y:\"6\",rx:\"6\",ry:\"6\",key:\"f2vt7d\"}],[\"circle\",{cx:\"8\",cy:\"12\",r:\"2\",key:\"1nvbw3\"}]]);/**\r\n * @license lucide-react v0.462.0 - ISC\r\n *\r\n * This source code is licensed under the ISC license.\r\n * See the LICENSE file in the root directory of this source tree.\r\n */const ue=Z(\"ToggleRight\",[[\"rect\",{width:\"20\",height:\"12\",x:\"2\",y:\"6\",rx:\"6\",ry:\"6\",key:\"f2vt7d\"}],[\"circle\",{cx:\"16\",cy:\"12\",r:\"2\",key:\"4ma0v8\"}]]);function fe({open:p,onOpenChange:b,wallet:s,onSuccess:D}){const[t,o]=x.useState({provider:(s==null?void 0:s.provider)||\"\",msisdn:(s==null?void 0:s.msisdn)||\"\",dailyLimit:(s==null?void 0:s.dailyLimit)||0,monthlyLimit:(s==null?void 0:s.monthlyLimit)||0,transferLimit:(s==null?void 0:s.transferLimit)||2e5,withdrawLimit:(s==null?void 0:s.withdrawLimit)||2e5,dailyTransferLimit:(s==null?void 0:s.dailyTransferLimit)||6e4,dailyWithdrawLimit:(s==null?void 0:s.dailyWithdrawLimit)||1e5,monthlyTransferLimit:(s==null?void 0:s.monthlyTransferLimit)||(s==null?void 0:s.transferLimit)||2e5,monthlyWithdrawLimit:(s==null?void 0:s.monthlyWithdrawLimit)||(s==null?void 0:s.withdrawLimit)||2e5,ownerName:(s==null?void 0:s.ownerName)||\"\",nationalId:(s==null?void 0:s.nationalId)||\"\"}),[m,W]=x.useState(!1),[F,g]=x.useState(null),{user:l,userSubscription:y}=q(),{toast:S}=X();x.useEffect(()=>{p&&s?(o({provider:s.provider||\"\",msisdn:s.msisdn||\"\",dailyLimit:s.dailyLimit??0,monthlyLimit:s.monthlyLimit??0,transferLimit:s.transferLimit??2e5,withdrawLimit:s.withdrawLimit??2e5,dailyTransferLimit:s.dailyTransferLimit??6e4,dailyWithdrawLimit:s.dailyWithdrawLimit??1e5,monthlyTransferLimit:s.monthlyTransferLimit??s.transferLimit??2e5,monthlyWithdrawLimit:s.monthlyWithdrawLimit??s.withdrawLimit??2e5,ownerName:s.ownerName||\"\",nationalId:s.nationalId||\"\"}),g(null)):p&&!s&&(o({provider:\"\",msisdn:\"\",dailyLimit:0,monthlyLimit:0,transferLimit:2e5,withdrawLimit:2e5,dailyTransferLimit:6e4,dailyWithdrawLimit:1e5,monthlyTransferLimit:2e5,monthlyWithdrawLimit:2e5,ownerName:\"\",nationalId:\"\"}),g(null))},[s,p]);const T=(a,u)=>{const r=a.slice(0,3);return u===\"vodafone_cash\"&&r===\"010\"||u===\"orange_cash\"&&r===\"012\"||u===\"etisalat_cash\"&&r===\"011\"||u===\"instapay\"&&r===\"015\"},k=a=>{switch(a){case\"INVALID_MSISDN\":return\"رقم المحفظة غير صالح.\";case\"PROVIDER_MISMATCH\":return\"المزوّد لا يطابق مقدمة الرقم.\";case\"ALREADY_EXISTS\":return\"المحفظة مضافة قبل كده.\";case\"RLS_DENIED\":return\"ليست لديك صلاحية لإضافة المحفظة.\";default:return\"خطأ غير متوقع.\"}},C=async a=>{var u;if(a.preventDefault(),g(null),!/^01\\d{9}$/.test(t.msisdn)){g(\"اكتب رقم 11 رقم يبدأ بـ 01.\");return}if(!T(t.msisdn,t.provider)){g(\"مقدم الخدمة لا يتطابق مع مقدمة الرقم.\");return}if(!(s!=null&&s.id)&&(l!=null&&l.uid))try{let r=!1;const n=((u=y==null?void 0:y.subscription)==null?void 0:u.planType)??(y==null?void 0:y.planType)??null,L=typeof n==\"string\"?n.toLowerCase():null;if(n===V.ZERO||L===\"zero\"||n===0||L===\"0\")r=!0;else{const h=await se(l.uid),U=(h==null?void 0:h.planType)??(h==null?void 0:h.plan)??null,E=typeof U==\"string\"?U.toLowerCase():null;r=U===V.ZERO||E===\"zero\"||U===0||E===\"0\"}if(r&&(await I.getByMerchantId(l.uid)).length>=5){g(\"باقة زيرو تسمح بإضافة 5 محافظ فقط. قم بالترقية.\"),S({title:\"تحذير\",description:\"لا يمكنك إضافة أكثر من 5 محافظ في باقة زيرو. قم بالترقية.\",variant:\"destructive\"});return}}catch(r){console.warn(\"Zero plan limit check failed:\",r)}W(!0);try{if(!(l!=null&&l.uid)){console.warn(\"يجب تسجيل الدخول قبل حفظ/إضافة المحفظة\");return}const r={...t,merchantUserId:l==null?void 0:l.uid,isActive:!0,provider:t.provider};if(console.log(\"Saving wallet data:\",r),s!=null&&s.id)await I.update(s.id,r),await z.setLimits(s.id,{dailyTransferLimit:t.dailyTransferLimit,dailyWithdrawLimit:t.dailyWithdrawLimit,monthlyTransferLimit:t.monthlyTransferLimit??t.transferLimit,monthlyWithdrawLimit:t.monthlyWithdrawLimit??t.withdrawLimit}),console.log(\"Wallet updated successfully\"),D();else{console.log(\"Creating new wallet...\");const n=await I.create(r);console.log(\"Wallet created with ID:\",n),await z.setLimits(n,{dailyTransferLimit:t.dailyTransferLimit,dailyWithdrawLimit:t.dailyWithdrawLimit,monthlyTransferLimit:t.monthlyTransferLimit??t.transferLimit,monthlyWithdrawLimit:t.monthlyWithdrawLimit??t.withdrawLimit});const L={id:n,...r,dailyUsage:0,monthlyUsage:0};console.log(\"Final wallet object:\",L),D(L)}S({title:\"تم إضافة المحفظة\",description:`تم ${s!=null&&s.id?\"تحديث\":\"إضافة\"} المحفظة بنجاح`}),b(!1)}catch(r){console.error(\"Error saving wallet:\",r);let n=\"حصل خطأ أثناء الإضافة\";r.code?n=k(r.code):r.message&&(n=r.message),S({title:\"خطأ\",description:n,variant:\"destructive\"})}finally{W(!1)}};return e.jsx(Y,{open:p,onOpenChange:b,children:e.jsxs(J,{className:\"sm:max-w-md\",children:[e.jsx(G,{children:e.jsx(K,{children:s!=null&&s.id?\"تعديل المحفظة\":\"إضافة محفظة جديدة\"})}),e.jsxs(\"form\",{onSubmit:C,className:\"space-y-4\",children:[e.jsxs(\"div\",{className:\"space-y-2\",children:[e.jsx(j,{htmlFor:\"provider\",children:\"المزود\"}),e.jsxs(oe,{value:t.provider,onValueChange:a=>o({...t,provider:a}),disabled:m,children:[e.jsx(ce,{children:e.jsx(me,{placeholder:\"اختر المزود\"})}),e.jsxs(le,{children:[e.jsx(_,{value:\"vodafone_cash\",children:\"Vodafone Cash\"}),e.jsx(_,{value:\"etisalat_cash\",children:\"Etisalat Cash\"}),e.jsx(_,{value:\"orange_cash\",children:\"Orange Cash\"}),e.jsx(_,{value:\"instapay\",children:\"InstaPay\"})]})]})]}),e.jsxs(\"div\",{className:\"space-y-2\",children:[e.jsx(j,{htmlFor:\"msisdn\",children:\"رقم الهاتف\"}),e.jsx(N,{id:\"msisdn\",placeholder:\"01xxxxxxxxx\",value:t.msisdn,onChange:a=>o({...t,msisdn:a.target.value}),disabled:m,required:!0})]}),e.jsxs(\"div\",{className:\"space-y-2\",children:[e.jsx(j,{htmlFor:\"ownerName\",children:\"اسم صاحب المحفظة (اختياري)\"}),e.jsx(N,{id:\"ownerName\",type:\"text\",value:t.ownerName,onChange:a=>o({...t,ownerName:a.target.value}),disabled:m,placeholder:\"اكتب اسم صاحب المحفظة\"})]}),e.jsxs(\"div\",{className:\"space-y-2\",children:[e.jsx(j,{htmlFor:\"nationalId\",children:\"الرقم القومي (اختياري)\"}),e.jsx(N,{id:\"nationalId\",type:\"text\",value:t.nationalId,onChange:a=>o({...t,nationalId:a.target.value}),disabled:m,placeholder:\"الرقم القومي\"})]}),e.jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[e.jsxs(\"div\",{className:\"space-y-2\",children:[e.jsx(j,{htmlFor:\"dailyWithdrawLimit\",children:\"حد السحب اليومي (ج.م)\"}),e.jsx(N,{id:\"dailyWithdrawLimit\",type:\"number\",min:\"0\",step:\"0.01\",value:t.dailyWithdrawLimit,onChange:a=>o({...t,dailyWithdrawLimit:parseFloat(a.target.value)||0}),disabled:m,placeholder:\"100000\"})]}),e.jsxs(\"div\",{className:\"space-y-2\",children:[e.jsx(j,{htmlFor:\"dailyTransferLimit\",children:\"حد التحويل اليومي (ج.م)\"}),e.jsx(N,{id:\"dailyTransferLimit\",type:\"number\",min:\"0\",step:\"0.01\",value:t.dailyTransferLimit,onChange:a=>o({...t,dailyTransferLimit:parseFloat(a.target.value)||0}),disabled:m,placeholder:\"60000\"})]})]}),e.jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[e.jsxs(\"div\",{className:\"space-y-2\",children:[e.jsx(j,{htmlFor:\"monthlyWithdrawLimit\",children:\"حد السحب الشهري (ج.م)\"}),e.jsx(N,{id:\"monthlyWithdrawLimit\",type:\"number\",min:\"0\",step:\"0.01\",value:t.monthlyWithdrawLimit,onChange:a=>o({...t,monthlyWithdrawLimit:parseFloat(a.target.value)||2e5}),disabled:m,placeholder:\"200000\"})]}),e.jsxs(\"div\",{className:\"space-y-2\",children:[e.jsx(j,{htmlFor:\"monthlyTransferLimit\",children:\"حد التحويل الشهري (ج.م)\"}),e.jsx(N,{id:\"monthlyTransferLimit\",type:\"number\",min:\"0\",step:\"0.01\",value:t.monthlyTransferLimit,onChange:a=>o({...t,monthlyTransferLimit:parseFloat(a.target.value)||2e5}),disabled:m,placeholder:\"200000\"})]})]}),F&&e.jsx(\"div\",{className:\"text-red-600 text-sm mt-2\",children:F}),e.jsxs(\"div\",{className:\"flex justify-end gap-2 pt-4\",children:[e.jsx(f,{type:\"button\",variant:\"outline\",onClick:()=>b(!1),disabled:m,children:\"إلغاء\"}),e.jsx(f,{type:\"submit\",disabled:m,className:\"btn-primary\",children:m?e.jsxs(e.Fragment,{children:[e.jsx(he,{className:\"mr-2 h-4 w-4 animate-spin\"}),\"جارِ الإضافة…\"]}):s!=null&&s.id?\"تحديث المحفظة\":\"إضافة المحفظة\"})]})]})]})})}function Se({showAddButton:p=!0,showUsageBars:b=!0,showLimitCards:s=!0,showEditButton:D=!0}){const[t,o]=x.useState([]),[m,W]=x.useState(!0),[F,g]=x.useState(!1),[l,y]=x.useState(null),[S,T]=x.useState(p),[k,C]=x.useState(!1),[a,u]=x.useState(null),{user:r}=q(),{toast:n}=X(),L=te();x.useEffect(()=>{r!=null&&r.uid&&h()},[r==null?void 0:r.uid]);const h=async()=>{try{if(!(r!=null&&r.uid)){o([]),W(!1);return}W(!0);const c=(await I.getByMerchantId(r.uid)).map(d=>({...d,dailyUsage:d.dailyUsage||0,monthlyUsage:d.monthlyUsage||0,transferUsage:d.transferUsage||0,withdrawUsage:d.withdrawUsage||0}));o(c)}catch(i){console.error(\"Error fetching wallets from Firebase:\",i),n({title:\"خطأ\",description:\"فشل في تحميل المحافظ من الخادم. يرجى المحاولة مرة أخرى.\",variant:\"destructive\"}),o([])}finally{W(!1)}},U=async(i,c)=>{try{await I.update(i,{isActive:!c});const d=t.map(v=>v.id===i?{...v,isActive:!v.isActive}:v);o(d),n({title:\"تم التحديث\",description:`تم ${c?\"إلغاء تفعيل\":\"تفعيل\"} المحفظة بنجاح`})}catch(d){console.error(\"Error toggling wallet status:\",d),n({title:\"خطأ\",description:\"فشل في تحديث حالة المحفظة\",variant:\"destructive\"})}},E=async(i,c)=>{u({id:i,msisdn:c}),C(!0)},Q=async()=>{if(a)try{await I.delete(a.id);const i=t.filter(c=>c.id!==a.id);o(i),r!=null&&r.uid&&await h(),n({title:\"تم الحذف\",description:`تم حذف المحفظة ${a.msisdn} بنجاح`})}catch(i){console.error(\"Error deleting wallet:\",i),n({title:\"خطأ\",description:\"فشل في حذف المحفظة\",variant:\"destructive\"})}finally{C(!1),u(null)}},A=(i,c)=>{if(c===0)return\"bg-muted\";const d=i/c*100;return d>=100?\"bg-destructive\":d>=80?\"bg-warning\":\"bg-success\"},w=i=>{switch(i){case\"vodafone_cash\":return\"bg-red-600\";case\"etisalat_cash\":return\"bg-green-600\";case\"orange_cash\":return\"bg-orange-600\";case\"instapay\":return\"bg-blue-600\";default:return\"bg-gray-600\"}},ee=i=>{switch(i){case\"vodafone_cash\":return\"#dc2626\";case\"etisalat_cash\":return\"#16a34a\";case\"orange_cash\":return\"#ea580c\";case\"instapay\":return\"#2563eb\";default:return\"#6b7280\"}},ie=i=>{switch(i){case\"vodafone_cash\":return\"فودافون كاش\";case\"etisalat_cash\":return\"اتصالات كاش\";case\"orange_cash\":return\"أورانج كاش\";case\"instapay\":return\"إنستاباي\";default:return String(i).replace(/_/g,\" \")}};return m?e.jsxs(\"div\",{className:\"flex flex-col items-center justify-center h-64 space-y-4\",children:[e.jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent\"}),e.jsx(\"p\",{className:\"text-muted-foreground animate-pulse\",children:\"جاري تحميل المحافظ...\"})]}):e.jsxs(\"div\",{className:\"space-y-6\",children:[e.jsxs(\"div\",{className:\"flex justify-between items-center\",children:[e.jsxs(\"div\",{className:\"flex items-center gap-4\",children:[e.jsx(\"h2\",{className:\"text-2xl font-bold\",children:\"محافظي\"}),e.jsxs(f,{variant:\"outline\",size:\"sm\",onClick:h,disabled:m,className:\"flex items-center gap-2\",children:[e.jsx(\"svg\",{className:`w-4 h-4 ${m?\"animate-spin\":\"\"}`,fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:e.jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"})}),\"تحديث\"]})]}),p&&S&&e.jsxs(f,{onClick:()=>{g(!0),T(!1)},className:\"btn-primary\",children:[e.jsx(P,{className:\"ml-2 h-4 w-4\"}),\"إضافة محفظة جديدة\"]})]}),e.jsxs(\"div\",{className:\"grid gap-6\",children:[t.map(i=>{var c,d,v,R,$,O;return e.jsxs(B,{className:\"card-glass hover:shadow-lg transition-all duration-300 border-l-4\",style:{borderLeftColor:ee(i.provider)},children:[e.jsx(re,{className:\"pb-4\",children:e.jsxs(\"div\",{className:\"flex justify-between items-start\",children:[e.jsx(\"div\",{className:\"flex items-center gap-4\",children:e.jsxs(\"div\",{className:\"flex flex-col gap-2\",children:[e.jsxs(\"div\",{className:\"flex items-center gap-3\",children:[e.jsx(ne,{className:`${w(i.provider)} text-white font-medium px-3 py-1`,children:ie(i.provider)}),e.jsx(\"div\",{className:`w-3 h-3 rounded-full ${i.isActive?\"bg-green-500\":\"bg-gray-400\"}`,title:i.isActive?\"نشط\":\"غير نشط\"})]}),e.jsx(ae,{className:\"text-xl font-bold text-primary\",children:i.msisdn}),i.label&&e.jsxs(\"span\",{className:\"text-sm text-muted-foreground font-medium\",children:[\"(\",i.label,\")\"]})]})}),e.jsxs(\"div\",{className:\"flex items-center gap-2 bg-muted/50 rounded-lg p-2\",children:[D&&e.jsx(f,{variant:\"ghost\",size:\"sm\",onClick:()=>{L(`/user/add-wallet?edit=1&id=${i.id}`)},children:e.jsx(xe,{className:\"h-4 w-4\"})}),e.jsx(f,{variant:\"ghost\",size:\"sm\",onClick:()=>U(i.id,i.isActive),children:i.isActive?e.jsx(ue,{className:\"h-5 w-5 text-success\"}):e.jsx(ge,{className:\"h-5 w-5 text-muted-foreground\"})}),e.jsx(f,{variant:\"ghost\",size:\"sm\",onClick:()=>E(i.id,i.msisdn),className:\"text-destructive hover:text-destructive\",children:e.jsx(de,{className:\"h-4 w-4\"})})]})]})}),e.jsx(H,{className:\"pt-4\",children:e.jsxs(\"div\",{className:\"space-y-6\",children:[e.jsxs(\"div\",{className:\"bg-gradient-to-r from-gray-50 to-gray-100 p-3 rounded-md border border-gray-200 shadow-sm\",children:[e.jsxs(\"div\",{className:\"text-xs text-gray-600 font-medium mb-2 text-center\",children:[\"الحدود الشهرية: \",i.provider,\" - \",i.msisdn]}),e.jsxs(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2 overflow-hidden flex\",children:[e.jsx(\"div\",{className:\"w-1/2 bg-red-200 relative\",children:e.jsx(\"div\",{className:\"bg-gradient-to-r from-red-400 to-red-600 h-2 transition-all duration-200 ease-out\",style:{width:`${i.withdrawLimit?Math.min((i.withdrawUsage||0)/i.withdrawLimit*100,100):0}%`}})}),e.jsx(\"div\",{className:\"w-1/2 bg-blue-200 relative\",children:e.jsx(\"div\",{className:\"bg-gradient-to-r from-blue-400 to-blue-600 h-2 transition-all duration-200 ease-out\",style:{width:`${i.transferLimit?Math.min((i.transferUsage||0)/i.transferLimit*100,100):0}%`}})})]}),e.jsxs(\"div\",{className:\"flex justify-between items-center mt-1\",children:[e.jsxs(\"div\",{className:\"text-xs text-red-600 font-medium\",children:[\"متبقي سحب: \",Math.max((i.withdrawLimit||0)-(i.withdrawUsage||0),0).toLocaleString(),\" جنيه\"]}),e.jsxs(\"div\",{className:\"text-xs text-blue-600 font-medium\",children:[\"متبقي تحويل: \",Math.max((i.transferLimit||0)-(i.transferUsage||0),0).toLocaleString(),\" جنيه\"]})]})]}),b&&e.jsxs(\"div\",{className:\"bg-muted/30 rounded-lg p-4\",children:[e.jsxs(\"div\",{className:\"flex justify-between items-center text-sm mb-3\",children:[e.jsx(\"span\",{className:\"font-medium text-muted-foreground\",children:\"الاستخدام اليومي\"}),e.jsxs(\"span\",{className:\"font-bold\",children:[(c=i.dailyUsage)==null?void 0:c.toLocaleString(),\" / \",i.dailyLimit>0?i.dailyLimit.toLocaleString():\"∞\",\" جنيه\"]})]}),e.jsx(M,{value:i.dailyLimit>0?Math.min((i.dailyUsage||0)/i.dailyLimit*100,100):0,className:`h-3 ${A(i.dailyUsage||0,i.dailyLimit)}`}),e.jsxs(\"div\",{className:\"text-xs text-muted-foreground mt-1 text-right\",children:[i.dailyLimit>0?((i.dailyUsage||0)/i.dailyLimit*100).toFixed(1):0,\"% مستخدم\"]})]}),b&&e.jsxs(\"div\",{className:\"bg-muted/30 rounded-lg p-4\",children:[e.jsxs(\"div\",{className:\"flex justify-between items-center text-sm mb-3\",children:[e.jsx(\"span\",{className:\"font-medium text-muted-foreground\",children:\"الاستخدام الشهري\"}),e.jsxs(\"span\",{className:\"font-bold\",children:[(d=i.monthlyUsage)==null?void 0:d.toLocaleString(),\" / \",i.monthlyLimit>0?i.monthlyLimit.toLocaleString():\"∞\",\" جنيه\"]})]}),e.jsx(M,{value:i.monthlyLimit>0?Math.min((i.monthlyUsage||0)/i.monthlyLimit*100,100):0,className:`h-3 ${A(i.monthlyUsage||0,i.monthlyLimit)}`}),e.jsxs(\"div\",{className:\"text-xs text-muted-foreground mt-1 text-right\",children:[i.monthlyLimit>0?((i.monthlyUsage||0)/i.monthlyLimit*100).toFixed(1):0,\"% مستخدم\"]})]}),s&&e.jsxs(\"div\",{className:\"bg-blue-50 rounded-lg p-4 border border-blue-200\",children:[e.jsxs(\"div\",{className:\"flex justify-between items-center text-sm mb-3\",children:[e.jsx(\"span\",{className:\"font-medium text-blue-700\",children:\"حد التحويل\"}),e.jsxs(\"span\",{className:\"font-bold text-blue-900\",children:[((v=i.transferUsage)==null?void 0:v.toLocaleString())||0,\" / \",((R=i.transferLimit)==null?void 0:R.toLocaleString())||2e5,\" جنيه\"]})]}),e.jsx(M,{value:i.transferLimit?Math.min((i.transferUsage||0)/i.transferLimit*100,100):0,className:\"h-3 bg-blue-100\"}),e.jsxs(\"div\",{className:\"text-xs text-blue-600 mt-1 text-right\",children:[i.transferLimit?((i.transferUsage||0)/i.transferLimit*100).toFixed(1):0,\"% مستخدم\"]}),e.jsxs(\"div\",{className:\"text-xs text-blue-700 mt-1 text-right font-medium\",children:[\"المتبقي: \",Math.max((i.transferLimit||0)-(i.transferUsage||0),0).toLocaleString(),\" جنيه\"]})]}),s&&e.jsxs(\"div\",{className:\"bg-green-50 rounded-lg p-4 border border-green-200\",children:[e.jsxs(\"div\",{className:\"flex justify-between items-center text-sm mb-3\",children:[e.jsx(\"span\",{className:\"font-medium text-green-700\",children:\"حد السحب\"}),e.jsxs(\"span\",{className:\"font-bold text-green-900\",children:[(($=i.withdrawUsage)==null?void 0:$.toLocaleString())||0,\" / \",((O=i.withdrawLimit)==null?void 0:O.toLocaleString())||2e5,\" جنيه\"]})]}),e.jsx(M,{value:i.withdrawLimit?Math.min((i.withdrawUsage||0)/i.withdrawLimit*100,100):0,className:\"h-3 bg-green-100\"}),e.jsxs(\"div\",{className:\"text-xs text-green-600 mt-1 text-right\",children:[i.withdrawLimit?((i.withdrawUsage||0)/i.withdrawLimit*100).toFixed(1):0,\"% مستخدم\"]}),e.jsxs(\"div\",{className:\"text-xs text-green-700 mt-1 text-right font-medium\",children:[\"المتبقي: \",Math.max((i.withdrawLimit||0)-(i.withdrawUsage||0),0).toLocaleString(),\" جنيه\"]})]})]})})]},i.id)}),t.length===0&&e.jsx(B,{className:\"card-glass\",children:e.jsxs(H,{className:\"text-center py-16\",children:[e.jsx(\"div\",{className:\"bg-muted/30 rounded-full w-24 h-24 mx-auto mb-6 flex items-center justify-center\",children:e.jsx(P,{className:\"w-12 h-12 text-muted-foreground\"})}),e.jsx(\"h3\",{className:\"text-xl font-semibold mb-2\",children:\"لا توجد محافظ\"}),e.jsx(\"p\",{className:\"text-muted-foreground mb-6 max-w-md mx-auto\",children:\"ابدأ بإضافة محفظتك الأولى لتتمكن من استقبال المدفوعات من عملائك\"}),p&&S&&e.jsxs(f,{onClick:()=>{g(!0),T(!1)},size:\"lg\",className:\"btn-primary px-8\",children:[e.jsx(P,{className:\"w-5 h-5 ml-2\"}),\"إضافة محفظة جديدة\"]})]})})]}),e.jsx(fe,{open:F,onOpenChange:i=>{g(i),i||(y(null),T(!0))},wallet:l,onSuccess:i=>{console.log(\"onSuccess called with:\",i),console.log(\"editingWallet:\",l),i&&!l?(console.log(\"Adding new wallet to list\"),o(c=>{const d=[...c,i];return console.log(\"Updated wallets list:\",d),d})):(console.log(\"Refreshing wallets from Firebase\"),h()),g(!1),y(null),T(!0)}}),e.jsx(Y,{open:k,onOpenChange:C,children:e.jsxs(J,{children:[e.jsx(G,{children:e.jsx(K,{children:\"تأكيد حذف المحفظة\"})}),e.jsxs(\"div\",{className:\"space-y-4\",children:[e.jsxs(\"p\",{className:\"text-sm text-muted-foreground\",children:[\"هل أنت متأكد من حذف المحفظة \",a==null?void 0:a.msisdn,\"؟ هذا الإجراء لا يمكن التراجع عنه.\"]}),e.jsxs(\"div\",{className:\"flex justify-end gap-2\",children:[e.jsx(f,{variant:\"outline\",onClick:()=>C(!1),children:\"إلغاء\"}),e.jsx(f,{variant:\"destructive\",onClick:Q,children:\"حذف\"})]})]})]})})]})}export{Se as W};\r\n//# sourceMappingURL=WalletsManagement-B4QYl-Sx.js.map\r\n"],"names":["ge","Z","ue","p","b","s","D","t","o","x","m","W","g","l","y","q","S","X","T","a","u","r","k","C","L","V","h","se","E","I","z","e","Y","J","G","K","j","oe","ce","me","le","_","N","f","he","te","c","d","i","v","Q","A","w","ie","P","$","O","B","re","ne","ae","xe","de","H","M"],"mappings":"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"}