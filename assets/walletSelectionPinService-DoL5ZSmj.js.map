{"version":3,"file":"walletSelectionPinService-DoL5ZSmj.js","sources":["../../src/components/PinModal.tsx","../../src/utils/walletSelectionPinService.ts"],"sourcesContent":["import React, { useState } from 'react';\n\ntype Props = {\n  open: boolean;\n  onClose: () => void;\n  onSubmit: (deviceId: string, pin: string) => void;\n  deviceId: string | null;\n  recipientMsisdn?: string;\n  helperMessage?: string;\n};\n\nexport default function PinModal({ open, onClose, onSubmit, deviceId, recipientMsisdn, helperMessage }: Props) {\n  const [pin, setPin] = useState('');\n  if (!open) return null;\n\n  return (\n    <div style={backdrop}>\n      <div style={modal}>\n        <h3>üîê ÿ•ÿØÿÆÿßŸÑ ÿßŸÑÿ±ŸÇŸÖ ÿßŸÑÿ≥ÿ±Ÿä</h3>\n        <p style={confirmText}>\n          ÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿßŸÑÿ±ŸÇŸÖ ŸÇÿ®ŸÑ ÿßŸÑÿ•ÿ±ÿ≥ÿßŸÑ\n          {recipientMsisdn ? (\n            <>\n              : <span style={{ direction: 'ltr', unicodeBidi: 'plaintext', marginInlineStart: 6, color: '#dc2626', fontWeight: 700 }}>{recipientMsisdn}</span>\n            </>\n          ) : null}\n        </p>\n        {helperMessage ? (<p style={hintText}>{helperMessage}</p>) : null}\n        \n        <input\n          type=\"password\"\n          value={pin}\n          onChange={(e) => setPin(e.target.value)}\n          onKeyDown={(e) => {\n            if (e.key === 'Enter') {\n              if (deviceId) {\n                onSubmit(deviceId, pin);\n                setPin('');\n              }\n            }\n          }}\n          placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\n          style={input}\n          autoFocus\n        />\n        <div style={{ display: 'flex', justifyContent: 'flex-end', gap: 10 }}>\n          <button onClick={onClose} style={cancelBtn}>ÿ•ŸÑÿ∫ÿßÿ°</button>\n          <button\n            onClick={() => {\n              if (deviceId) {\n                onSubmit(deviceId, pin);\n                setPin('');\n              }\n            }}\n            style={okBtn}\n          >\n            ÿ•ÿ±ÿ≥ÿßŸÑ\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst backdrop: React.CSSProperties = {\n  position: 'fixed',\n  inset: 0 as any,\n  background: 'rgba(0,0,0,0.4)',\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  zIndex: 1000,\n};\n\nconst modal: React.CSSProperties = {\n  background: '#fff',\n  padding: 20,\n  borderRadius: 10,\n  width: 400,\n  boxShadow: '0 10px 30px rgba(0,0,0,0.3)',\n};\n\nconst input: React.CSSProperties = {\n  width: '100%',\n  padding: 10,\n  borderRadius: 8,\n  border: '1px solid #ddd',\n  marginBottom: 15,\n  fontSize: 16,\n  textAlign: 'center',\n};\n\nconst okBtn: React.CSSProperties = { background: '#22c55e', color: '#fff', border: 'none', padding: '8px 14px', borderRadius: 6 };\nconst cancelBtn: React.CSSProperties = { background: '#f3f4f6', border: 'none', padding: '8px 14px', borderRadius: 6 };\n\nconst hintText: React.CSSProperties = {\n  fontSize: 12,\n  color: '#6b7280',\n  marginTop: 4,\n  marginBottom: 8,\n  textAlign: 'right',\n};\n\nconst confirmText: React.CSSProperties = {\n  fontSize: 13,\n  color: '#111827',\n  marginBottom: 6,\n  textAlign: 'right',\n  fontWeight: 600,\n};\n","/**\n * ÿÆÿØŸÖÿ© ÿ•ÿØÿßÿ±ÿ© ÿ¥ÿ±ÿ∑ ÿ∑ŸÑÿ® ÿßŸÑÿ±ŸÇŸÖ ÿßŸÑÿ≥ÿ±Ÿä ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿä ÿπŸÜÿØ ÿ™ÿ∫ŸäŸäÿ±/ÿßÿÆÿ™Ÿäÿßÿ± ÿßŸÑŸÖÿ≠ŸÅÿ∏ÿ©.\n * ÿßŸÑÿ™ÿÆÿ≤ŸäŸÜ ŸÖÿ≠ŸÑŸä ÿπÿ®ÿ± localStorage ŸÖÿπ ŸÖŸÅÿ™ÿßÿ≠ Ÿäÿπÿ™ŸÖÿØ ÿπŸÑŸâ ŸÖÿπÿ±ŸÅ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿπŸÜÿØ ÿ™ŸàŸÅÿ±Ÿá.\n */\n\nconst KEY_BASE = 'wallet_selection_pin_required';\n\nfunction getKey(userId?: string) {\n  return userId ? `${KEY_BASE}_${userId}` : KEY_BASE;\n}\n\nexport const walletSelectionPinService = {\n  isEnabled(userId?: string): boolean {\n    try {\n      const val = localStorage.getItem(getKey(userId));\n      return val === 'true';\n    } catch {\n      return false;\n    }\n  },\n  setEnabled(enabled: boolean, userId?: string): void {\n    try {\n      localStorage.setItem(getKey(userId), enabled ? 'true' : 'false');\n    } catch {}\n  }\n};"],"names":["PinModal","open","onClose","onSubmit","deviceId","recipientMsisdn","helperMessage","pin","setPin","useState","backdrop","jsxs","modal","jsx","confirmText","Fragment","hintText","e","input","cancelBtn","okBtn","KEY_BASE","getKey","userId","walletSelectionPinService","enabled"],"mappings":"+CAWA,SAAwBA,EAAS,CAAE,KAAAC,EAAM,QAAAC,EAAS,SAAAC,EAAU,SAAAC,EAAU,gBAAAC,EAAiB,cAAAC,GAAwB,CAC7G,KAAM,CAACC,EAAKC,CAAM,EAAIC,EAAAA,SAAS,EAAE,EACjC,OAAKR,QAGF,MAAA,CAAI,MAAOS,EACV,SAAAC,EAAAA,KAAC,MAAA,CAAI,MAAOC,EACV,SAAA,CAAAC,EAAAA,IAAC,MAAG,SAAA,sBAAA,CAAoB,EACxBF,EAAAA,KAAC,IAAA,CAAE,MAAOG,EAAa,SAAA,CAAA,4BAEpBT,EACCM,EAAAA,KAAAI,WAAA,CAAE,SAAA,CAAA,KACEF,EAAAA,IAAC,OAAA,CAAK,MAAO,CAAE,UAAW,MAAO,YAAa,YAAa,kBAAmB,EAAG,MAAO,UAAW,WAAY,GAAA,EAAQ,SAAAR,CAAA,CAAgB,CAAA,CAAA,CAC3I,EACE,IAAA,EACN,EACCC,EAAiBO,EAAAA,IAAC,IAAA,CAAE,MAAOG,EAAW,WAAc,EAAQ,KAE7DH,EAAAA,IAAC,QAAA,CACC,KAAK,WACL,MAAON,EACP,SAAWU,GAAMT,EAAOS,EAAE,OAAO,KAAK,EACtC,UAAYA,GAAM,CACZA,EAAE,MAAQ,SACRb,IACFD,EAASC,EAAUG,CAAG,EACtBC,EAAO,EAAE,EAGf,EACA,YAAY,OACZ,MAAOU,EACP,UAAS,EAAA,CAAA,EAEXP,EAAAA,KAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,eAAgB,WAAY,IAAK,EAAA,EAC9D,SAAA,CAAAE,MAAC,SAAA,CAAO,QAASX,EAAS,MAAOiB,EAAW,SAAA,QAAK,EACjDN,EAAAA,IAAC,SAAA,CACC,QAAS,IAAM,CACTT,IACFD,EAASC,EAAUG,CAAG,EACtBC,EAAO,EAAE,EAEb,EACA,MAAOY,EACR,SAAA,OAAA,CAAA,CAED,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,EA/CgB,IAiDpB,CAEA,MAAMV,EAAgC,CACpC,SAAU,QACV,MAAO,EACP,WAAY,kBACZ,QAAS,OACT,eAAgB,SAChB,WAAY,SACZ,OAAQ,GACV,EAEME,EAA6B,CACjC,WAAY,OACZ,QAAS,GACT,aAAc,GACd,MAAO,IACP,UAAW,6BACb,EAEMM,EAA6B,CACjC,MAAO,OACP,QAAS,GACT,aAAc,EACd,OAAQ,iBACR,aAAc,GACd,SAAU,GACV,UAAW,QACb,EAEME,EAA6B,CAAE,WAAY,UAAW,MAAO,OAAQ,OAAQ,OAAQ,QAAS,WAAY,aAAc,CAAA,EACxHD,EAAiC,CAAE,WAAY,UAAW,OAAQ,OAAQ,QAAS,WAAY,aAAc,CAAA,EAE7GH,EAAgC,CACpC,SAAU,GACV,MAAO,UACP,UAAW,EACX,aAAc,EACd,UAAW,OACb,EAEMF,EAAmC,CACvC,SAAU,GACV,MAAO,UACP,aAAc,EACd,UAAW,QACX,WAAY,GACd,ECxGMO,EAAW,gCAEjB,SAASC,EAAOC,EAAiB,CAC/B,OAAOA,EAAS,GAAGF,CAAQ,IAAIE,CAAM,GAAKF,CAC5C,CAEO,MAAMG,EAA4B,CACvC,UAAUD,EAA0B,CAClC,GAAI,CAEF,OADY,aAAa,QAAQD,EAAOC,CAAM,CAAC,IAChC,MACjB,MAAQ,CACN,MAAO,EACT,CACF,EACA,WAAWE,EAAkBF,EAAuB,CAClD,GAAI,CACF,aAAa,QAAQD,EAAOC,CAAM,EAAGE,EAAU,OAAS,OAAO,CACjE,MAAQ,CAAC,CACX,CACF"}