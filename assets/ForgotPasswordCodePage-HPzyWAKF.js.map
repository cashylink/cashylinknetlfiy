{"version":3,"file":"ForgotPasswordCodePage-HPzyWAKF.js","sources":["../../src/pages/ForgotPasswordCodePage.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { sendPasswordResetEmail } from 'firebase/auth';\nimport { auth } from '@/firebase';\n\nconst ForgotPasswordCodePage: React.FC = () => {\n  const navigate = useNavigate();\n  const [email, setEmail] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState<string | null>(null);\n  const [error, setError] = useState<string | null>(null);\n\n  const handleSendReset = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setMessage(null);\n    setError(null);\n    try {\n      await sendPasswordResetEmail(auth, email.trim());\n      setMessage('تم إرسال رابط إعادة تعيين كلمة المرور إلى بريدك الإلكتروني.');\n    } catch (err: any) {\n      console.error('ForgotPassword error:', err);\n      setError(\n        err?.message === 'Firebase: Error (auth/invalid-email).'\n          ? 'البريد الإلكتروني غير صالح'\n          : 'حدث خطأ أثناء إرسال رابط الاستعادة، حاول مرة أخرى'\n      );\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 p-4\">\n      <div className=\"bg-white rounded-lg shadow-lg w-full max-w-md p-6\">\n        <h1 className=\"text-2xl font-bold text-gray-800 mb-2\">استعادة كلمة المرور</h1>\n        <p className=\"text-sm text-gray-600 mb-6\">\n          أدخل بريدك الإلكتروني لإرسال رابط إعادة تعيين كلمة المرور.\n        </p>\n\n        {message && (\n          <div className=\"mb-4 rounded-md bg-green-50 border border-green-200 p-3 text-green-700 text-sm\">\n            {message}\n          </div>\n        )}\n        {error && (\n          <div className=\"mb-4 rounded-md bg-red-50 border border-red-200 p-3 text-red-700 text-sm\">\n            {error}\n          </div>\n        )}\n\n        <form onSubmit={handleSendReset} className=\"space-y-4\">\n          <div>\n            <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n              البريد الإلكتروني\n            </label>\n            <input\n              id=\"email\"\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              className=\"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n              placeholder=\"example@email.com\"\n              required\n            />\n          </div>\n\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className=\"w-full bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition-colors disabled:opacity-60\"\n          >\n            {loading ? 'جارٍ الإرسال...' : 'إرسال رابط الاستعادة'}\n          </button>\n        </form>\n\n        <button\n          onClick={() => navigate('/user/login')}\n          className=\"mt-4 w-full bg-gray-100 text-gray-800 px-4 py-2 rounded-md hover:bg-gray-200 transition-colors\"\n        >\n          العودة لتسجيل الدخول\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default ForgotPasswordCodePage;"],"names":["ForgotPasswordCodePage","navigate","useNavigate","email","setEmail","useState","loading","setLoading","message","setMessage","error","setError","handleSendReset","e","sendPasswordResetEmail","auth","err","jsxs","jsx"],"mappings":"oEAKA,MAAMA,EAAmC,IAAM,CAC7C,MAAMC,EAAWC,EAAA,EACX,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAAS,EAAE,EAC/B,CAACC,EAASC,CAAU,EAAIF,EAAAA,SAAS,EAAK,EACtC,CAACG,EAASC,CAAU,EAAIJ,EAAAA,SAAwB,IAAI,EACpD,CAACK,EAAOC,CAAQ,EAAIN,EAAAA,SAAwB,IAAI,EAEhDO,EAAkB,MAAOC,GAAuB,CACpDA,EAAE,eAAA,EACFN,EAAW,EAAI,EACfE,EAAW,IAAI,EACfE,EAAS,IAAI,EACb,GAAI,CACF,MAAMG,EAAuBC,EAAMZ,EAAM,KAAA,CAAM,EAC/CM,EAAW,6DAA6D,CAC1E,OAASO,EAAU,CACjB,QAAQ,MAAM,wBAAyBA,CAAG,EAC1CL,GACEK,GAAA,YAAAA,EAAK,WAAY,wCACb,6BACA,mDAAA,CAER,QAAA,CACET,EAAW,EAAK,CAClB,CACF,EAEA,aACG,MAAA,CAAI,UAAU,+DACb,SAAAU,EAAAA,KAAC,MAAA,CAAI,UAAU,oDACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,wCAAwC,SAAA,sBAAmB,EACzEA,EAAAA,IAAC,IAAA,CAAE,UAAU,6BAA6B,SAAA,6DAE1C,EAECV,GACCU,EAAAA,IAAC,MAAA,CAAI,UAAU,iFACZ,SAAAV,EACH,EAEDE,GACCQ,EAAAA,IAAC,MAAA,CAAI,UAAU,2EACZ,SAAAR,EACH,EAGFO,EAAAA,KAAC,OAAA,CAAK,SAAUL,EAAiB,UAAU,YACzC,SAAA,CAAAK,OAAC,MAAA,CACC,SAAA,CAAAC,MAAC,QAAA,CAAM,QAAQ,QAAQ,UAAU,+CAA+C,SAAA,oBAEhF,EACAA,EAAAA,IAAC,QAAA,CACC,GAAG,QACH,KAAK,QACL,MAAOf,EACP,SAAWU,GAAMT,EAASS,EAAE,OAAO,KAAK,EACxC,UAAU,mHACV,YAAY,oBACZ,SAAQ,EAAA,CAAA,CACV,EACF,EAEAK,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,SAAUZ,EACV,UAAU,iHAET,WAAU,kBAAoB,sBAAA,CAAA,CACjC,EACF,EAEAY,EAAAA,IAAC,SAAA,CACC,QAAS,IAAMjB,EAAS,aAAa,EACrC,UAAU,iGACX,SAAA,sBAAA,CAAA,CAED,CAAA,CACF,CAAA,CACF,CAEJ"}