{"version":3,"file":"contentService-eGqn7LRB.js","sources":["../../node_modules/lucide-react/dist/esm/icons/infinity.js","../../src/utils/contentService.ts"],"sourcesContent":["/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8\", key: \"18ogeb\" }]\n];\nconst Infinity = createLucideIcon(\"infinity\", __iconNode);\n\nexport { __iconNode, Infinity as default };\n//# sourceMappingURL=infinity.js.map\n","import { doc, setDoc, getDoc, updateDoc } from 'firebase/firestore';\nimport { db } from '../firebase';\n\n// واجهة بيانات الخطة\nexport interface PlanData {\n  name: string;\n  price: string;\n  period: string;\n  description: string;\n  features: string[];\n}\n\n// واجهة بيانات المحتوى\nexport interface ContentData {\n  monthly: PlanData;\n  quarterly: PlanData;\n  halfYearly: PlanData;\n  yearly: PlanData;\n  lifetime: PlanData;\n}\n\n// البيانات الافتراضية للمحتوى\nexport const defaultContentData: ContentData = {\n  monthly: {\n    name: 'الباقة الشهرية',\n    price: '200 جنيه',\n    period: 'شهرياً',\n    description: 'مثالية للمبتدئين والتجار الصغار',\n    features: [\n      'إدارة محافظ متعددة',\n      'تتبع المعاملات اليومية',\n      'تقارير شهرية',\n      'دعم فني أساسي',\n      'واجهة سهلة الاستخدام'\n    ]\n  },\n  quarterly: {\n    name: 'الباقة الربع سنوية',\n    price: '450 جنيه',\n    period: '3 شهور',\n    description: 'خيار ممتاز للتوفير والالتزام قصير المدى',\n    features: [\n      'إدارة متقدمة للمحافظ',\n      'تتبع المعاملات اليومية',\n      'تقارير ربع سنوية',\n      'دعم فني متميز',\n      'واجهة سهلة الاستخدام',\n      'خصم مقارنة بالدفع الشهري'\n    ]\n  },\n  halfYearly: {\n    name: 'الباقة النصف سنوية',\n    price: '750 جنيه',\n    period: '6 شهور',\n    description: 'توازن مثالي بين التوفير والمرونة',\n    features: [\n      'دعم ممتاز',\n      'عدد محافظ مفتوح',\n      'التحويل المباشر من التطبيق',\n      'استقبال السحب والتحويل الاوتوماتيك'\n    ]\n  },\n  yearly: {\n    name: 'الباقة السنوية',\n    price: '1450 جنيه',\n    period: 'سنوياً',\n    description: 'الأفضل للتجار المحترفين - وفر أكثر',\n    features: [\n      'إدارة محافظ متعددة',\n      'تتبع المعاملات المتقدم',\n      'تقارير تفصيلية',\n      'دعم فني متقدم',\n      'تحليلات مالية',\n      'نسخ احتياطية تلقائية'\n    ]\n  },\n  lifetime: {\n    name: 'الباقة مدى الحياة',\n    price: '4000 جنيه',\n    period: 'دفعة واحدة',\n    description: 'استثمار واحد لمدي الحياه',\n    features: [\n      'إدارة محافظ متعددة',\n      'تتبع المعاملات المتقدم',\n      'تقارير تفصيلية',\n      'دعم فني متقدم',\n      'تحليلات مالية',\n      'نسخ احتياطية تلقائية',\n      'دعم فني مدى الحياة',\n      'تحديثات مجانية مدى الحياة'\n    ]\n  }\n};\n\n/**\n * حفظ محتوى الخطط في Firebase\n */\nexport const saveContentToFirebase = async (contentData: ContentData, adminId: string): Promise<void> => {\n  try {\n    const contentRef = doc(db, 'siteContent', 'plans');\n    await setDoc(contentRef, {\n      ...contentData,\n      lastUpdated: new Date(),\n      updatedBy: adminId\n    });\n    \n    console.log('✅ تم حفظ المحتوى في Firebase بنجاح');\n  } catch (error) {\n    console.error('❌ خطأ في حفظ المحتوى:', error);\n    throw new Error('فشل في حفظ المحتوى في قاعدة البيانات');\n  }\n};\n\n/**\n * تحميل محتوى الخطط من Firebase\n */\nexport const loadContentFromFirebase = async (): Promise<ContentData> => {\n  try {\n    const contentRef = doc(db, 'siteContent', 'plans');\n    const contentSnap = await getDoc(contentRef);\n    \n    if (contentSnap.exists()) {\n      const data = contentSnap.data();\n      // إزالة الحقول الإضافية والاحتفاظ بالمحتوى فقط\n      const { lastUpdated, updatedBy, ...contentData } = data;\n      return contentData as ContentData;\n    } else {\n      // إذا لم يوجد محتوى محفوظ، إرجاع البيانات الافتراضية\n      console.log('لا يوجد محتوى محفوظ، استخدام البيانات الافتراضية');\n      return defaultContentData;\n    }\n  } catch (error) {\n    console.error('❌ خطأ في تحميل المحتوى:', error);\n    // في حالة الخطأ، إرجاع البيانات الافتراضية\n    return defaultContentData;\n  }\n};\n\n/**\n * تحديث خطة واحدة فقط\n */\nexport const updateSinglePlan = async (\n  planType: keyof ContentData, \n  planData: PlanData, \n  adminId: string\n): Promise<void> => {\n  try {\n    const contentRef = doc(db, 'siteContent', 'plans');\n    await updateDoc(contentRef, {\n      [planType]: planData,\n      lastUpdated: new Date(),\n      updatedBy: adminId\n    });\n    \n    console.log(`✅ تم تحديث خطة ${planType} بنجاح`);\n  } catch (error) {\n    console.error(`❌ خطأ في تحديث خطة ${planType}:`, error);\n    throw new Error(`فشل في تحديث خطة ${planType}`);\n  }\n};\n\n/**\n * الحصول على معلومات آخر تحديث\n */\nexport const getLastUpdateInfo = async (): Promise<{lastUpdated: Date | null, updatedBy: string | null}> => {\n  try {\n    const contentRef = doc(db, 'siteContent', 'plans');\n    const contentSnap = await getDoc(contentRef);\n    \n    if (contentSnap.exists()) {\n      const data = contentSnap.data();\n      return {\n        lastUpdated: data.lastUpdated?.toDate() || null,\n        updatedBy: data.updatedBy || null\n      };\n    }\n    \n    return { lastUpdated: null, updatedBy: null };\n  } catch (error) {\n    console.error('❌ خطأ في الحصول على معلومات التحديث:', error);\n    return { lastUpdated: null, updatedBy: null };\n  }\n};\n"],"names":["__iconNode","Infinity","createLucideIcon","defaultContentData","saveContentToFirebase","contentData","adminId","contentRef","doc","db","setDoc","error","loadContentFromFirebase","contentSnap","getDoc","data","lastUpdated","updatedBy","updateSinglePlan","planType","planData","updateDoc","getLastUpdateInfo","_a"],"mappings":"6EAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMA,EAAa,CACjB,CAAC,OAAQ,CAAE,EAAG,+DAAgE,IAAK,QAAQ,CAAE,CAC/F,EACMC,EAAWC,EAAiB,WAAYF,CAAU,ECU3CG,EAAkC,CAC7C,QAAS,CACP,KAAM,iBACN,MAAO,WACP,OAAQ,SACR,YAAa,kCACb,SAAU,CACR,qBACA,yBACA,eACA,gBACA,sBAAA,CACF,EAEF,UAAW,CACT,KAAM,qBACN,MAAO,WACP,OAAQ,SACR,YAAa,0CACb,SAAU,CACR,uBACA,yBACA,mBACA,gBACA,uBACA,0BAAA,CACF,EAEF,WAAY,CACV,KAAM,qBACN,MAAO,WACP,OAAQ,SACR,YAAa,mCACb,SAAU,CACR,YACA,kBACA,6BACA,oCAAA,CACF,EAEF,OAAQ,CACN,KAAM,iBACN,MAAO,YACP,OAAQ,SACR,YAAa,qCACb,SAAU,CACR,qBACA,yBACA,iBACA,gBACA,gBACA,sBAAA,CACF,EAEF,SAAU,CACR,KAAM,oBACN,MAAO,YACP,OAAQ,aACR,YAAa,2BACb,SAAU,CACR,qBACA,yBACA,iBACA,gBACA,gBACA,uBACA,qBACA,2BAAA,CACF,CAEJ,EAKaC,EAAwB,MAAOC,EAA0BC,IAAmC,CACvG,GAAI,CACF,MAAMC,EAAaC,EAAIC,EAAI,cAAe,OAAO,EACjD,MAAMC,EAAOH,EAAY,CACvB,GAAGF,EACH,gBAAiB,KACjB,UAAWC,CAAA,CACZ,EAED,QAAQ,IAAI,oCAAoC,CAClD,OAASK,EAAO,CACd,cAAQ,MAAM,wBAAyBA,CAAK,EACtC,IAAI,MAAM,sCAAsC,CACxD,CACF,EAKaC,EAA0B,SAAkC,CACvE,GAAI,CACF,MAAML,EAAaC,EAAIC,EAAI,cAAe,OAAO,EAC3CI,EAAc,MAAMC,EAAOP,CAAU,EAE3C,GAAIM,EAAY,SAAU,CACxB,MAAME,EAAOF,EAAY,KAAA,EAEnB,CAAE,YAAAG,EAAa,UAAAC,EAAW,GAAGZ,GAAgBU,EACnD,OAAOV,CACT,KAEE,gBAAQ,IAAI,kDAAkD,EACvDF,CAEX,OAASQ,EAAO,CACd,eAAQ,MAAM,0BAA2BA,CAAK,EAEvCR,CACT,CACF,EAKae,EAAmB,MAC9BC,EACAC,EACAd,IACkB,CAClB,GAAI,CACF,MAAMC,EAAaC,EAAIC,EAAI,cAAe,OAAO,EACjD,MAAMY,EAAUd,EAAY,CAC1B,CAACY,CAAQ,EAAGC,EACZ,gBAAiB,KACjB,UAAWd,CAAA,CACZ,EAED,QAAQ,IAAI,kBAAkBa,CAAQ,QAAQ,CAChD,OAASR,EAAO,CACd,cAAQ,MAAM,sBAAsBQ,CAAQ,IAAKR,CAAK,EAChD,IAAI,MAAM,oBAAoBQ,CAAQ,EAAE,CAChD,CACF,EAKaG,EAAoB,SAA2E,OAC1G,GAAI,CACF,MAAMf,EAAaC,EAAIC,EAAI,cAAe,OAAO,EAC3CI,EAAc,MAAMC,EAAOP,CAAU,EAE3C,GAAIM,EAAY,SAAU,CACxB,MAAME,EAAOF,EAAY,KAAA,EACzB,MAAO,CACL,cAAaU,EAAAR,EAAK,cAAL,YAAAQ,EAAkB,WAAY,KAC3C,UAAWR,EAAK,WAAa,IAAA,CAEjC,CAEA,MAAO,CAAE,YAAa,KAAM,UAAW,IAAA,CACzC,OAASJ,EAAO,CACd,eAAQ,MAAM,uCAAwCA,CAAK,EACpD,CAAE,YAAa,KAAM,UAAW,IAAA,CACzC,CACF","x_google_ignoreList":[0]}