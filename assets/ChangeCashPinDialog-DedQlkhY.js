import{r as t,l as A,j as e,ae as B,af as O,ag as T,ah as G,x as p,I as g,B as c,G as j,H as N,a2 as K,F as M}from"./index-mBSeGJ8K.js";import{D as R}from"./dollar-sign-tQQ_yre_.js";const v=new Map;function J({open:_,onOpenChange:F,userId:w}){const[o,P]=t.useState(""),[l,C]=t.useState(""),[b,y]=t.useState(""),[h,S]=t.useState(!1),[d,k]=t.useState(!1),[m,D]=t.useState(!1),[E,a]=t.useState(""),[x,r]=t.useState(!1),{toast:L}=A(),u=w?`cash_drawer_pin_${w}`:"cash_drawer_pin",n=()=>v.has(u),z=s=>{const i=v.get(u);if(!i)return!1;try{return atob(i)===s}catch{return!1}},H=s=>{const i=btoa(s);v.set(u,i)},I=async s=>{s.preventDefault(),a(""),r(!0);try{if(!l||l.length<4){a("ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ 4 Ø£Ø±Ù‚Ø§Ù… Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„"),r(!1);return}if(l!==b){a("Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯ ÙˆØªØ£ÙƒÙŠØ¯Ù‡ ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚ÙŠÙ†"),r(!1);return}if(n()){if(!o){a("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ø¯Ø±Ø¬ Ø§Ù„Ù†Ù‚Ø¯ÙŠØ©"),r(!1);return}if(!z(o)){a("Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ø¯Ø±Ø¬ Ø§Ù„Ù†Ù‚Ø¯ÙŠØ© ØºÙŠØ± ØµØ­ÙŠØ­"),r(!1);return}}H(l),L({title:n()?"ØªÙ… ØªØºÙŠÙŠØ± Ø±Ù‚Ù… Ø¯Ø±Ø¬ Ø§Ù„Ù†Ù‚Ø¯ÙŠØ©":"ØªÙ… ØªØ¹ÙŠÙŠÙ† Ø±Ù‚Ù… Ø¯Ø±Ø¬ Ø§Ù„Ù†Ù‚Ø¯ÙŠØ©",description:n()?"ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ Ù„Ø¯Ø±Ø¬ Ø§Ù„Ù†Ù‚Ø¯ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­":"ØªÙ… ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ Ù„Ø¯Ø±Ø¬ Ø§Ù„Ù†Ù‚Ø¯ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­"}),f()}catch{a("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­ÙØ¸ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ Ù„Ø¯Ø±Ø¬ Ø§Ù„Ù†Ù‚Ø¯ÙŠØ©")}finally{r(!1)}},f=()=>{P(""),C(""),y(""),a(""),S(!1),k(!1),D(!1),F(!1)};return e.jsx(B,{open:_,onOpenChange:f,children:e.jsxs(O,{className:"sm:max-w-md",dir:"rtl",children:[e.jsx(T,{children:e.jsxs(G,{className:"flex items-center gap-2 text-right",children:[e.jsx(R,{className:"h-5 w-5 text-green-600"}),n()?"ØªØºÙŠÙŠØ± Ø±Ù‚Ù… Ø¯Ø±Ø¬ Ø§Ù„Ù†Ù‚Ø¯ÙŠØ©":"ØªØ¹ÙŠÙŠÙ† Ø±Ù‚Ù… Ø¯Ø±Ø¬ Ø§Ù„Ù†Ù‚Ø¯ÙŠØ©"]})}),e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground text-right",children:n()?"Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ Ø§Ù„Ø­Ø§Ù„ÙŠ ÙˆØ§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ù„Ø¯Ø±Ø¬ Ø§Ù„Ù†Ù‚Ø¯ÙŠØ©":"Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯ Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ Ù„Ø­Ù…Ø§ÙŠØ© Ø¯Ø±Ø¬ Ø§Ù„Ù†Ù‚Ø¯ÙŠØ©"}),n()&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"currentPin",className:"text-right block",children:"Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ø¯Ø±Ø¬ Ø§Ù„Ù†Ù‚Ø¯ÙŠØ©"}),e.jsxs("div",{className:"relative",children:[e.jsx(g,{id:"currentPin",type:h?"text":"password",autoComplete:"off",value:o,onChange:s=>P(s.target.value),placeholder:"Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ Ø§Ù„Ø­Ø§Ù„ÙŠ",className:"pr-10",dir:"ltr"}),e.jsx(c,{type:"button",variant:"ghost",size:"sm",className:"absolute left-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>S(!h),children:h?e.jsx(j,{className:"h-4 w-4"}):e.jsx(N,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"newPin",className:"text-right block",children:"Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ù„Ø¯Ø±Ø¬ Ø§Ù„Ù†Ù‚Ø¯ÙŠØ©"}),e.jsxs("div",{className:"relative",children:[e.jsx(g,{id:"newPin",type:d?"text":"password",autoComplete:"off",value:l,onChange:s=>C(s.target.value),placeholder:"Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯",className:"pr-10",dir:"ltr"}),e.jsx(c,{type:"button",variant:"ghost",size:"sm",className:"absolute left-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>k(!d),children:d?e.jsx(j,{className:"h-4 w-4"}):e.jsx(N,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"confirmPin",className:"text-right block",children:"ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯"}),e.jsxs("div",{className:"relative",children:[e.jsx(g,{id:"confirmPin",type:m?"text":"password",autoComplete:"off",value:b,onChange:s=>y(s.target.value),placeholder:"Ø£Ø¹Ø¯ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯",className:"pr-10",dir:"ltr"}),e.jsx(c,{type:"button",variant:"ghost",size:"sm",className:"absolute left-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>D(!m),children:m?e.jsx(j,{className:"h-4 w-4"}):e.jsx(N,{className:"h-4 w-4"})})]})]}),E&&e.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm",children:[e.jsx(K,{className:"h-4 w-4"}),E]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsxs(c,{type:"submit",disabled:x,className:"flex-1 bg-green-600 hover:bg-green-700",children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),x?"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸...":n()?"ØªØºÙŠÙŠØ± Ø±Ù‚Ù… Ø¯Ø±Ø¬ Ø§Ù„Ù†Ù‚Ø¯ÙŠØ©":"ØªØ¹ÙŠÙŠÙ† Ø±Ù‚Ù… Ø¯Ø±Ø¬ Ø§Ù„Ù†Ù‚Ø¯ÙŠØ©"]}),e.jsx(c,{type:"button",variant:"outline",onClick:f,disabled:x,children:"Ø¥Ù„ØºØ§Ø¡"})]})]}),e.jsx("div",{className:"text-xs text-gray-500 text-center mt-2",children:"ğŸ’° Ù‡Ø°Ø§ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ Ø®Ø§Øµ Ø¨Ø­Ù…Ø§ÙŠØ© Ø¯Ø±Ø¬ Ø§Ù„Ù†Ù‚Ø¯ÙŠØ© ÙÙ‚Ø·"})]})})}export{J as ChangeCashPinDialog};
//# sourceMappingURL=ChangeCashPinDialog-DedQlkhY.js.map
