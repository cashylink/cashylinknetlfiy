{"version":3,"file":"SimCardsDialog-Dk2f3tEb.js","sources":["../../node_modules/lucide-react/dist/esm/icons/globe.js","../../src/components/DistributorsDialog.tsx","../../src/components/SimCardsDialog.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20\", key: \"13o1zl\" }],\n  [\"path\", { d: \"M2 12h20\", key: \"9i4pu4\" }]\n];\nconst Globe = createLucideIcon(\"globe\", __iconNode);\n\nexport { __iconNode, Globe as default };\n//# sourceMappingURL=globe.js.map\n","import React, { useState, useEffect } from 'react';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Plus, Trash2, Users } from 'lucide-react';\nimport { collection, addDoc, query, where, getDocs, deleteDoc, doc, serverTimestamp, onSnapshot } from 'firebase/firestore';\nimport { db } from '@/firebase';\nimport { useFirebaseAuth } from '@/contexts/FirebaseAuthContext';\nimport { useToast } from '@/hooks/use-toast';\nimport { SimCard } from './SimCardsDialog';\n\nexport interface Distributor {\n  id: string;\n  name: string;\n  number: string;\n  userId: string;\n}\n\ninterface DistributorsDialogProps {\n  isOpen: boolean;\n  onClose: () => void;\n  simCards: SimCard[];\n}\n\nexport function DistributorsDialog({ isOpen, onClose, simCards }: DistributorsDialogProps) {\n  const { user } = useFirebaseAuth();\n  const [distributors, setDistributors] = useState<Distributor[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [isAdding, setIsAdding] = useState(false);\n  const { toast } = useToast();\n\n  useEffect(() => {\n    if (!user || !isOpen) return;\n\n    const q = query(\n      collection(db, 'distributors'), \n      where('userId', '==', user.uid)\n    );\n\n    const unsubscribe = onSnapshot(q, (snapshot) => {\n      const items: Distributor[] = [];\n      snapshot.forEach((doc) => {\n        items.push({ id: doc.id, ...doc.data() } as Distributor);\n      });\n      setDistributors(items);\n    }, (error) => {\n      console.error(\"Error fetching distributors:\", error);\n    });\n\n    return () => unsubscribe();\n  }, [isOpen]);\n\n  const handleAdd = async () => {\n    if (!user) {\n      toast({ title: 'خطأ', description: 'يجب تسجيل الدخول أولاً', variant: 'destructive' });\n      return;\n    }\n    if (!newName || !newNumber) {\n      toast({ title: 'خطأ', description: 'يرجى إدخال الاسم والرقم', variant: 'destructive' });\n      return;\n    }\n\n    setIsAdding(true);\n    try {\n      await addDoc(collection(db, 'distributors'), {\n        name: newName,\n        number: newNumber,\n        userId: user.uid,\n        createdAt: serverTimestamp()\n      });\n      \n      setNewName('');\n      setNewNumber('');\n      toast({ title: 'تم', description: 'تم إضافة الموزع بنجاح' });\n    } catch (error) {\n      console.error(error);\n      toast({ title: 'خطأ', description: 'حدث خطأ أثناء الإضافة', variant: 'destructive' });\n    } finally {\n      setIsAdding(false);\n    }\n  };\n\n  const handleDelete = async (id: string) => {\n    if (!confirm('هل أنت متأكد من الحذف؟')) return;\n    \n    try {\n      await deleteDoc(doc(db, 'distributors', id));\n      toast({ title: 'تم', description: 'تم حذف الموزع' });\n    } catch (error) {\n      console.error(error);\n      toast({ title: 'خطأ', description: 'حدث خطأ أثناء الحذف', variant: 'destructive' });\n    }\n  };\n\n  const getCardCount = (distributorNumber: string) => {\n    return simCards.filter(card => card.simNumber === distributorNumber).length;\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={(open) => !open && onClose()}>\n      <DialogContent className=\"sm:max-w-[425px]\" dir=\"rtl\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <Users className=\"h-5 w-5\" />\n            إدارة الموزعين\n          </DialogTitle>\n          <DialogDescription>\n            إضافة وحذف أرقام الموزعين لاستخدامها عند إضافة الخطوط\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-4 py-4\">\n          {/* Add Form */}\n          <div className=\"flex flex-col gap-3 p-3 bg-gray-50 dark:bg-gray-900/50 rounded-lg border\">\n            <Label className=\"text-xs font-semibold text-gray-500\">إضافة موزع جديد</Label>\n            <div className=\"grid grid-cols-2 gap-2\">\n              <Input \n                placeholder=\"الاسم\" \n                value={newName} \n                onChange={(e) => setNewName(e.target.value)}\n                className=\"h-8 text-sm\"\n              />\n              <Input \n                placeholder=\"الرقم\" \n                value={newNumber} \n                onChange={(e) => setNewNumber(e.target.value)}\n                className=\"h-8 text-sm\"\n              />\n            </div>\n            <Button onClick={handleAdd} disabled={isAdding} size=\"sm\" className=\"w-full h-8 gap-2 bg-purple-600 hover:bg-purple-700 text-white\">\n              <Plus className=\"h-4 w-4\" />\n              إضافة\n            </Button>\n          </div>\n\n          {/* List */}\n          <div className=\"space-y-2 max-h-[300px] overflow-y-auto\">\n            {distributors.length === 0 ? (\n              <div className=\"text-center text-gray-400 py-4 text-sm\">لا يوجد موزعين مضافين</div>\n            ) : (\n              distributors.map((dist) => (\n                <div key={dist.id} className=\"flex items-center justify-between p-2 rounded-md border hover:bg-gray-50 dark:hover:bg-gray-900/50 transition-colors\">\n                  <div className=\"flex flex-col\">\n                    <span className=\"font-medium text-sm\">{dist.name}</span>\n                    <span className=\"text-xs text-gray-500 font-mono\">{dist.number}</span>\n                  </div>\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 px-2 py-0.5 rounded-full text-xs font-bold flex items-center gap-1\">\n                      <span>{getCardCount(dist.number)}</span>\n                      <span className=\"text-[10px] font-normal\">خط</span>\n                    </div>\n                    <Button \n                      variant=\"ghost\" \n                      size=\"icon\" \n                      onClick={() => handleDelete(dist.id)}\n                      className=\"h-7 w-7 text-red-500 hover:text-red-700 hover:bg-red-50\"\n                    >\n                      <Trash2 className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","\nimport React, { useState, useEffect } from 'react';\nimport { \n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from \"@/components/ui/alert-dialog\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Label } from '@/components/ui/label';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { Plus, Search, Smartphone, Save, X, Trash2, Edit2, Phone, User, Hash, Globe, Banknote, Clock, Wifi, MessageCircle, Users } from 'lucide-react';\nimport { useToast } from '@/components/ui/use-toast';\nimport { collection, addDoc, query, where, orderBy, onSnapshot, serverTimestamp, doc, updateDoc, deleteDoc, getDoc, writeBatch } from 'firebase/firestore';\nimport { db } from '@/firebase';\nimport { useFirebaseAuth } from '@/contexts/FirebaseAuthContext';\nimport { formatMoney } from '@/lib/utils';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { DistributorsDialog, Distributor } from './DistributorsDialog';\n\nexport interface SimCard {\n  id: string;\n  name: string;\n  simNumber: string;\n  lineNumber: string;\n  callsPackage: string;\n  internetPackage: string;\n  adslPackage?: string;\n  totalAmount: number;\n  remainingAmount: number;\n  userId: string;\n  shopId?: string;\n  createdAt: any;\n  nationalId?: string;\n  whatsappNumber?: string;\n  isPaid?: boolean;\n  isDeferred?: boolean;\n  debtId?: string;\n  notes?: string;\n}\n\ninterface PaymentReceipt {\n  id: string;\n  cardId: string;\n  cardName: string;\n  amount: number;\n  userId: string;\n  createdAt: any;\n  type: 'payment';\n}\n\nexport function SimCardsDialog({ \n  isOpen, \n  onClose,\n  shopId,\n  onOpenAdsl\n}: { \n  isOpen: boolean; \n  onClose: () => void;\n  shopId?: string;\n  onOpenAdsl?: () => void;\n}) {\n  const { user } = useFirebaseAuth();\n  const { toast } = useToast();\n  const [cards, setCards] = useState<SimCard[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [statusFilter, setStatusFilter] = useState<'all' | 'paid' | 'unpaid' | 'deferred'>('all');\n  \n  // Add/Edit Form State\n  const [isFormOpen, setIsFormOpen] = useState(false);\n  const [editingCard, setEditingCard] = useState<SimCard | null>(null);\n  \n  const [formData, setFormData] = useState({\n    name: '',\n    simNumber: '',\n    lineNumber: '',\n    callsPackage: '',\n    internetPackage: '',\n    adslPackage: '',\n    totalAmount: '',\n    remainingAmount: '',\n    nationalId: '',\n    whatsappNumber: '',\n    notes: '',\n    isPaid: false\n  });\n\n  // Deferred Debt State\n  const [isDeferredDialogOpen, setIsDeferredDialogOpen] = useState(false);\n  const [deferredCard, setDeferredCard] = useState<SimCard | null>(null);\n  const [deferredName, setDeferredName] = useState('');\n  const [deferredAmount, setDeferredAmount] = useState('');\n\n  const [isConfirmResetOpen, setIsConfirmResetOpen] = useState(false);\n  \n  // Delete Confirmation State\n  const [deleteCardId, setDeleteCardId] = useState<string | null>(null);\n  \n  // Distributors State\n  const [isDistributorsOpen, setIsDistributorsOpen] = useState(false);\n  const [distributors, setDistributors] = useState<Distributor[]>([]);\n\n  useEffect(() => {\n    if (!user) return;\n    const q = query(collection(db, 'distributors'), where('userId', '==', user.uid));\n    const unsubscribe = onSnapshot(q, (snapshot) => {\n      const items: Distributor[] = [];\n      snapshot.forEach((doc) => {\n        items.push({ id: doc.id, ...doc.data() } as Distributor);\n      });\n      setDistributors(items);\n    });\n    return () => unsubscribe();\n  }, [user]);\n  \n  // Receipts State\n  const [isReceiptsOpen, setIsReceiptsOpen] = useState(false);\n  const [allReceipts, setAllReceipts] = useState<PaymentReceipt[]>([]);\n  const [receiptSearchTerm, setReceiptSearchTerm] = useState('');\n  const [receiptDateFilter, setReceiptDateFilter] = useState<string>(() => {\n    const d = new Date();\n    const year = d.getFullYear();\n    const month = String(d.getMonth() + 1).padStart(2, '0');\n    const day = String(d.getDate()).padStart(2, '0');\n    return `${year}-${month}-${day}`;\n  });\n  const [receiptFilterType, setReceiptFilterType] = useState<'day' | 'month'>('day');\n\n  // Fetch Cards\n  useEffect(() => {\n    if (!user?.uid) return;\n\n    // Load from localStorage first\n    const localKey = `simCards_${user.uid}`;\n    try {\n      const localData = localStorage.getItem(localKey);\n      if (localData) {\n        setCards(JSON.parse(localData));\n        setIsLoading(false);\n      }\n    } catch (e) {\n      console.warn(\"Error loading sim cards from localStorage\", e);\n    }\n\n    if (!isOpen) return;\n\n    setIsLoading(true);\n    const q = query(\n      collection(db, 'simCards'),\n      where('userId', '==', user.uid)\n    );\n\n    const unsubscribe = onSnapshot(q, (snapshot) => {\n      const data = snapshot.docs\n        .map(doc => ({ id: doc.id, ...doc.data() } as SimCard))\n        .sort((a, b) => {\n          // Sort by simNumber (Distributor) first\n          const simA = a.simNumber || '';\n          const simB = b.simNumber || '';\n          if (simA !== simB) {\n            // Put empty distributor numbers at the end\n            if (!simA) return 1;\n            if (!simB) return -1;\n            return simA.localeCompare(simB);\n          }\n\n          // Then sort by createdAt desc\n          const timeA = a.createdAt?.seconds || 0;\n          const timeB = b.createdAt?.seconds || 0;\n          return timeB - timeA;\n        });\n      \n      console.log(\"Fetched SIM cards:\", data);\n      setCards(data);\n      setIsLoading(false);\n      \n      // Save to localStorage\n      try {\n        localStorage.setItem(localKey, JSON.stringify(data));\n      } catch (e) {\n        console.warn(\"Error saving sim cards to localStorage\", e);\n      }\n    }, (error) => {\n      console.error(\"Error fetching sim cards:\", error);\n      setIsLoading(false);\n    });\n\n    return () => unsubscribe();\n  }, [user?.uid, isOpen]);\n\n  const handleOpenForm = (card?: SimCard) => {\n    if (card) {\n      setEditingCard(card);\n      setFormData({\n        name: card.name,\n        simNumber: card.simNumber,\n        lineNumber: card.lineNumber,\n        callsPackage: card.callsPackage,\n        internetPackage: card.internetPackage,\n        adslPackage: card.adslPackage || '',\n        totalAmount: card.totalAmount.toString(),\n        remainingAmount: card.remainingAmount.toString(),\n        nationalId: card.nationalId || '',\n        whatsappNumber: card.whatsappNumber || '',\n        notes: card.notes || '',\n        isPaid: card.isPaid || false\n      });\n    } else {\n      setEditingCard(null);\n      setFormData({\n        name: '',\n        simNumber: '',\n        lineNumber: '',\n        callsPackage: '',\n        internetPackage: '',\n        adslPackage: '',\n        totalAmount: '',\n        remainingAmount: '',\n        nationalId: '',\n        whatsappNumber: '',\n        notes: '',\n        isPaid: false\n      });\n    }\n    setIsFormOpen(true);\n  };\n\n  const handleSave = async () => {\n    if (!user?.uid) return;\n    \n    // Validation - Optional per user request\n    // if (!formData.name.trim()) {\n    //   toast({ title: 'خطأ', description: 'يرجى إدخال الاسم', variant: 'destructive' });\n    //   return;\n    // }\n    // if (!formData.lineNumber.trim()) {\n    //   toast({ title: 'خطأ', description: 'يرجى إدخال رقم الخط', variant: 'destructive' });\n    //   return;\n    // }\n\n    try {\n      const cardData = {\n        name: formData.name || 'بدون اسم',\n        simNumber: formData.simNumber,\n        lineNumber: formData.lineNumber || '',\n        callsPackage: formData.callsPackage,\n        internetPackage: formData.internetPackage,\n        adslPackage: formData.adslPackage,\n        totalAmount: parseFloat(formData.totalAmount) || 0,\n        remainingAmount: parseFloat(formData.remainingAmount) || 0,\n        nationalId: formData.nationalId,\n        whatsappNumber: formData.whatsappNumber,\n        notes: formData.notes,\n        isPaid: formData.isPaid,\n        userId: user.uid,\n        shopId: shopId || user.uid,\n        updatedAt: serverTimestamp()\n      };\n\n      if (editingCard) {\n        await updateDoc(doc(db, 'simCards', editingCard.id), cardData);\n        toast({ title: 'تم التحديث', description: 'تم تحديث بيانات الخط بنجاح' });\n      } else {\n        await addDoc(collection(db, 'simCards'), {\n          ...cardData,\n          createdAt: serverTimestamp()\n        });\n        toast({ title: 'تم الإضافة', description: 'تم إضافة الخط الجديد بنجاح' });\n      }\n      setIsFormOpen(false);\n    } catch (error) {\n      console.error(error);\n      toast({ title: 'خطأ', description: 'حدث خطأ أثناء الحفظ', variant: 'destructive' });\n    }\n  };\n\n  const confirmDelete = (id: string) => {\n    setDeleteCardId(id);\n  };\n\n  const handleDelete = async () => {\n    if (!deleteCardId) return;\n    \n    try {\n      await deleteDoc(doc(db, 'simCards', deleteCardId));\n      toast({ title: 'تم الحذف', description: 'تم حذف الخط بنجاح' });\n    } catch (error) {\n      console.error(error);\n      toast({ title: 'خطأ', description: 'فشل الحذف', variant: 'destructive' });\n    } finally {\n      setDeleteCardId(null);\n    }\n  };\n\n  const handleSetPaid = async (card: SimCard, isPaid: boolean) => {\n    // Optimistic UI update\n    setCards(prevCards => prevCards.map(c => c.id === card.id ? { ...c, isPaid, isDeferred: false } : c));\n\n    try {\n      await updateDoc(doc(db, 'simCards', card.id), {\n        isPaid: isPaid,\n        isDeferred: false,\n        updatedAt: serverTimestamp()\n      });\n\n      if (isPaid) {\n        // Generate Receipt\n        await addDoc(collection(db, 'simCardReceipts'), {\n          cardId: card.id,\n          cardName: card.name,\n          amount: card.totalAmount,\n          userId: user?.uid,\n          createdAt: serverTimestamp(),\n          type: 'payment'\n        });\n      }\n\n      toast({ title: 'تم التحديث', description: isPaid ? 'تم تحديد الخط كمدفوع وتم تسجيل إيصال' : 'تم تحديد الخط كغير مدفوع' });\n    } catch (error) {\n      // Revert optimistic update on error\n      setCards(prevCards => prevCards.map(c => c.id === card.id ? { ...c, isPaid: !isPaid, isDeferred: card.isDeferred } : c));\n      console.error(error);\n      toast({ title: 'خطأ', description: 'حدث خطأ أثناء تحديث الحالة', variant: 'destructive' });\n    }\n  };\n\n  const handleOpenDeferred = (card: SimCard) => {\n    setDeferredCard(card);\n    setDeferredName(card.name || '');\n    setDeferredAmount(card.totalAmount?.toString() || '');\n    setIsDeferredDialogOpen(true);\n  };\n\n  const handleConfirmDeferred = async () => {\n    if (!user?.uid || !deferredCard) return;\n\n    if (!deferredName.trim()) {\n      toast({ title: 'خطأ', description: 'يرجى إدخال اسم العميل', variant: 'destructive' });\n      return;\n    }\n    const amount = parseFloat(deferredAmount);\n    if (isNaN(amount) || amount <= 0) {\n      toast({ title: 'خطأ', description: 'يرجى إدخال مبلغ صحيح', variant: 'destructive' });\n      return;\n    }\n\n    try {\n      const userRef = doc(db, 'users', user.uid);\n      const userSnap = await getDoc(userRef);\n      const userData = userSnap.data() as any;\n      const currentDebts = Array.isArray(userData?.debts) ? userData.debts : [];\n\n      const newDebt = {\n        id: `DEBT-${Date.now()}`,\n        debtorName: deferredName,\n        mobile: deferredCard.lineNumber,\n        amount: amount,\n        reason: 'تمن تسديد باقة',\n        status: 'pending',\n        createdAt: new Date(),\n        paidAmount: 0,\n        partialPayments: []\n      };\n\n      await updateDoc(userRef, {\n        debts: [newDebt, ...currentDebts]\n      });\n\n      // Set card as Deferred (Orange)\n      setCards(prevCards => prevCards.map(c => c.id === deferredCard.id ? { ...c, isPaid: false, isDeferred: true, debtId: newDebt.id } : c));\n      \n      await updateDoc(doc(db, 'simCards', deferredCard.id), {\n        isPaid: false,\n        isDeferred: true,\n        debtId: newDebt.id,\n        updatedAt: serverTimestamp()\n      });\n      \n      toast({ title: 'تم الإضافة', description: 'تم إضافة الدين وتأجيل الخط' });\n      setIsDeferredDialogOpen(false);\n    } catch (error) {\n      console.error(error);\n      toast({ title: 'خطأ', description: 'حدث خطأ أثناء حفظ الدين', variant: 'destructive' });\n    }\n  };\n\n  // Listen for debt payments to auto-update deferred cards\n  useEffect(() => {\n    if (!user?.uid) return;\n    \n    const userRef = doc(db, 'users', user.uid);\n    const unsubscribe = onSnapshot(userRef, async (docSnap) => {\n      if (docSnap.exists()) {\n        const userData = docSnap.data();\n        const debts = userData.debts || [];\n        \n        // Find deferred cards that are not yet paid\n        const deferredCards = cards.filter(c => c.isDeferred && !c.isPaid);\n        \n        for (const card of deferredCards) {\n          let shouldUpdate = false;\n\n          // Match by debtId if available\n          if (card.debtId) {\n            const debt = debts.find((d: any) => d.id === card.debtId);\n            if (debt && debt.status === 'paid') {\n              shouldUpdate = true;\n            }\n          } \n          // Fallback: Match by mobile number OR (Name + Amount) for legacy support\n          else {\n             const paidDebt = debts.find((d: any) => \n              d.status === 'paid' && \n              d.reason === 'تمن تسديد باقة' &&\n              (\n                (d.mobile && d.mobile === card.lineNumber) || \n                // Legacy match for debts created without mobile number\n                (!d.mobile && d.debtorName === card.name && Math.abs(d.amount - card.totalAmount) < 0.1)\n              )\n            );\n            if (paidDebt) {\n              shouldUpdate = true;\n            }\n          }\n\n          if (shouldUpdate) {\n            // Update card to paid\n            await handleSetPaid(card, true);\n          }\n        }\n      }\n    });\n    \n    return () => unsubscribe();\n  }, [user?.uid, cards]);\n\n  const filteredCards = cards.filter(c => {\n    const matchesSearch = c.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      c.lineNumber.includes(searchTerm) ||\n      c.simNumber.includes(searchTerm);\n\n    const matchesStatus = \n      statusFilter === 'all' ? true :\n      statusFilter === 'paid' ? c.isPaid :\n      statusFilter === 'unpaid' ? (!c.isPaid && !c.isDeferred) :\n      statusFilter === 'deferred' ? c.isDeferred : true;\n\n    return matchesSearch && matchesStatus;\n  });\n\n  const paidCount = cards.filter(c => c.isPaid).length;\n  const unpaidCount = cards.filter(c => !c.isPaid && !c.isDeferred).length;\n  const deferredCount = cards.filter(c => c.isDeferred).length;\n\n  const handleResetAllUnpaid = async () => {\n    setIsConfirmResetOpen(true);\n  };\n\n  const confirmResetAll = async () => {\n    if (!user?.uid) return;\n\n    try {\n      const batch = writeBatch(db);\n      // Iterate over all cards (using the main cards state which contains all fetched cards)\n      cards.forEach(card => {\n        if (card.isPaid) {\n          const cardRef = doc(db, 'simCards', card.id);\n          batch.update(cardRef, { \n            isPaid: false,\n            updatedAt: serverTimestamp() \n          });\n        }\n      });\n\n      await batch.commit();\n      \n      // Optimistic update\n      setCards(prevCards => prevCards.map(c => ({ ...c, isPaid: false })));\n      \n      toast({ title: 'تم التحديث', description: 'تم تحويل جميع الخطوط إلى غير مدفوع بنجاح' });\n      setIsConfirmResetOpen(false);\n    } catch (error) {\n      console.error(\"Error resetting cards:\", error);\n      toast({ title: 'خطأ', description: 'حدث خطأ أثناء تحديث الخطوط', variant: 'destructive' });\n      setIsConfirmResetOpen(false);\n    }\n  };\n\n  const handleDeleteReceipt = async (receiptId: string) => {\n    if (!confirm('هل أنت متأكد من حذف هذا الإيصال؟\\nسيتم حذف المبلغ من السجل نهائياً.')) return;\n    try {\n      await deleteDoc(doc(db, 'simCardReceipts', receiptId));\n      toast({ title: 'تم الحذف', description: 'تم حذف الإيصال بنجاح' });\n    } catch (error) {\n      console.error(error);\n      toast({ title: 'خطأ', description: 'فشل حذف الإيصال', variant: 'destructive' });\n    }\n  };\n\n  // Fetch All Receipts (Once when dialog opens)\n  useEffect(() => {\n    if (!isReceiptsOpen || !user?.uid) return;\n\n    const q = query(\n      collection(db, 'simCardReceipts'),\n      where('userId', '==', user.uid)\n    );\n\n    const unsubscribe = onSnapshot(q, (snapshot) => {\n      const data = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as PaymentReceipt));\n      // Sort desc by default\n      data.sort((a, b) => {\n        const timeA = a.createdAt?.seconds || Math.floor(Date.now() / 1000);\n        const timeB = b.createdAt?.seconds || Math.floor(Date.now() / 1000);\n        return timeB - timeA;\n      });\n      setAllReceipts(data);\n    }, (error) => {\n      console.error(\"Error fetching receipts:\", error);\n      toast({ title: 'خطأ', description: 'فشل تحميل السجل', variant: 'destructive' });\n    });\n\n    return () => unsubscribe();\n  }, [isReceiptsOpen, user?.uid]);\n\n  // Derived Filtered Receipts\n  const receipts = allReceipts.filter(item => {\n    // 1. Search Filter (Priority)\n    if (receiptSearchTerm.trim()) {\n      const term = receiptSearchTerm.toLowerCase();\n      const card = cards.find(c => c.id === item.cardId);\n      const nameMatch = item.cardName.toLowerCase().includes(term);\n      const numberMatch = card ? (card.lineNumber.includes(term) || card.simNumber.includes(term)) : false;\n      return nameMatch || numberMatch;\n    }\n\n    // 2. Date Filter (If no search)\n    // If createdAt is missing (pending write), treat as current time\n    const timestamp = item.createdAt?.seconds ? item.createdAt.seconds * 1000 : Date.now();\n    const itemDate = new Date(timestamp);\n    \n    // Parse date safely as local time\n    const [y, m, d] = receiptDateFilter.split('-').map(Number);\n    const start = new Date(y, m - 1, d);\n    const end = new Date(y, m - 1, d);\n\n    if (receiptFilterType === 'day') {\n      start.setHours(0, 0, 0, 0);\n      end.setHours(23, 59, 59, 999);\n    } else {\n      start.setDate(1);\n      start.setHours(0, 0, 0, 0);\n      end.setMonth(end.getMonth() + 1);\n      end.setDate(0);\n      end.setHours(23, 59, 59, 999);\n    }\n\n    return itemDate >= start && itemDate <= end;\n  });\n\n  return (\n    <>\n      <Dialog open={isOpen} onOpenChange={(open) => !open && onClose()}>\n        <DialogContent className=\"max-w-screen w-screen h-screen flex flex-col p-0 gap-0 bg-gray-50 dark:bg-gray-900 rounded-none border-0\">\n          {/* Header */}\n          <div className=\"p-3 border-b bg-white dark:bg-gray-800 flex items-center justify-between\">\n            <div className=\"flex items-center gap-2\">\n              <div className=\"p-1.5 bg-purple-100 dark:bg-purple-900/30 rounded-full text-purple-600\">\n                <Smartphone className=\"h-5 w-5\" />\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <DialogTitle className=\"text-base font-bold\">إدارة الخطوط</DialogTitle>\n                <DialogDescription className=\"text-xs\">سجل ومتابعة خطوط الموبايل والباقات</DialogDescription>\n              </div>\n            </div>\n            <Button onClick={() => onClose()} variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\">\n              <X className=\"h-4 w-4\" />\n            </Button>\n          </div>\n\n          {/* Status Filters */}\n          <div className=\"grid grid-cols-3 gap-2 p-2 bg-gray-50/50 dark:bg-gray-900/50 border-b\">\n            {/* Paid Card */}\n            <div \n              onClick={() => setStatusFilter(statusFilter === 'paid' ? 'all' : 'paid')}\n              className={`cursor-pointer rounded-md border py-1.5 px-2 flex flex-row items-center justify-center gap-2 transition-all hover:shadow-sm ${\n                statusFilter === 'paid' \n                  ? 'bg-green-100 border-green-300 ring-1 ring-green-500 ring-offset-1 dark:ring-offset-gray-900' \n                  : 'bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:border-green-300'\n              }`}\n            >\n              <div className={`p-1 rounded-full ${statusFilter === 'paid' ? 'bg-green-200' : 'bg-green-100'} text-green-700`}>\n                <Banknote className=\"h-3.5 w-3.5\" />\n              </div>\n              <div className=\"flex items-center gap-1.5 leading-none\">\n                <div className=\"text-[10px] font-bold text-gray-600 dark:text-gray-400\">المدفوعة</div>\n                <div className=\"text-sm font-bold text-green-600\">{paidCount}</div>\n              </div>\n            </div>\n\n            {/* Unpaid Card */}\n            <div \n              onClick={() => setStatusFilter(statusFilter === 'unpaid' ? 'all' : 'unpaid')}\n              className={`cursor-pointer rounded-md border py-1.5 px-2 flex flex-row items-center justify-center gap-2 transition-all hover:shadow-sm ${\n                statusFilter === 'unpaid' \n                  ? 'bg-red-100 border-red-300 ring-1 ring-red-500 ring-offset-1 dark:ring-offset-gray-900' \n                  : 'bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:border-red-300'\n              }`}\n            >\n              <div className={`p-1 rounded-full ${statusFilter === 'unpaid' ? 'bg-red-200' : 'bg-red-100'} text-red-700`}>\n                <Clock className=\"h-3.5 w-3.5\" />\n              </div>\n              <div className=\"flex items-center gap-1.5 leading-none\">\n                <div className=\"text-[10px] font-bold text-gray-600 dark:text-gray-400\">غير المدفوعة</div>\n                <div className=\"text-sm font-bold text-red-600\">{unpaidCount}</div>\n              </div>\n            </div>\n\n            {/* Deferred Card */}\n            <div \n              onClick={() => setStatusFilter(statusFilter === 'deferred' ? 'all' : 'deferred')}\n              className={`cursor-pointer rounded-md border py-1.5 px-2 flex flex-row items-center justify-center gap-2 transition-all hover:shadow-sm ${\n                statusFilter === 'deferred' \n                  ? 'bg-orange-100 border-orange-300 ring-1 ring-orange-500 ring-offset-1 dark:ring-offset-gray-900' \n                  : 'bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:border-orange-300'\n              }`}\n            >\n              <div className={`p-1 rounded-full ${statusFilter === 'deferred' ? 'bg-orange-200' : 'bg-orange-100'} text-orange-700`}>\n                <Clock className=\"h-3.5 w-3.5\" />\n              </div>\n              <div className=\"flex items-center gap-1.5 leading-none\">\n                <div className=\"text-[10px] font-bold text-gray-600 dark:text-gray-400\">مؤجلة الدفع</div>\n                <div className=\"text-sm font-bold text-orange-600\">{deferredCount}</div>\n              </div>\n            </div>\n          </div>\n\n          {/* Actions & Search */}\n          <div className=\"p-4 bg-white dark:bg-gray-800 border-b flex flex-col md:flex-row gap-3 justify-between items-center\">\n            <div className=\"relative w-full md:w-64\">\n              <Search className=\"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\n              <Input \n                placeholder=\"بحث بالاسم أو الرقم...\" \n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"pr-9\"\n              />\n            </div>\n            <div className=\"flex gap-2 w-full md:w-auto\">\n              <Button onClick={() => setIsDistributorsOpen(true)} variant=\"outline\" className=\"flex-1 md:flex-none gap-2\">\n                <Users className=\"h-4 w-4\" />\n                الموزع\n              </Button>\n              {onOpenAdsl && (\n                <Button onClick={onOpenAdsl} variant=\"outline\" className=\"flex-1 md:flex-none gap-2 text-blue-600 border-blue-200 hover:bg-blue-50\">\n                   <Wifi className=\"h-4 w-4\" />\n                   ADSL\n                </Button>\n              )}\n              <Button onClick={() => setIsReceiptsOpen(true)} variant=\"outline\" className=\"flex-1 md:flex-none gap-2\">\n                 <Banknote className=\"h-4 w-4\" />\n                 سجل السداد\n              </Button>\n              <Button onClick={() => handleOpenForm()} className=\"flex-1 md:flex-none bg-purple-600 hover:bg-purple-700 text-white gap-2\">\n                <Plus className=\"h-4 w-4\" />\n                إضافة خط جديد\n              </Button>\n              <Button \n                onClick={handleResetAllUnpaid} \n                variant=\"destructive\"\n                className=\"flex-1 md:flex-none gap-2\"\n              >\n                <Clock className=\"h-4 w-4\" />\n                تحويل الكل لغير مدفوع\n              </Button>\n            </div>\n          </div>\n\n          {/* Content */}\n          <div className=\"flex-1 overflow-auto p-4\">\n            {isLoading ? (\n              <div className=\"flex justify-center items-center h-40\">\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600\"></div>\n              </div>\n            ) : filteredCards.length === 0 ? (\n              <div className=\"flex flex-col items-center justify-center h-64 text-gray-500\">\n                <Smartphone className=\"h-12 w-12 mb-3 opacity-20\" />\n                <p>لا توجد خطوط مسجلة</p>\n                <Button variant=\"link\" onClick={() => handleOpenForm()} className=\"text-purple-600\">\n                  إضافة أول خط\n                </Button>\n              </div>\n            ) : (\n              <div className=\"flex flex-col gap-3\">\n                {filteredCards.map(card => (\n                  <div key={card.id} className={`rounded-xl shadow-sm border p-3 hover:shadow-md transition-shadow ${\n                    card.isDeferred\n                      ? 'bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800'\n                      : card.isPaid \n                        ? 'bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800' \n                        : 'bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800'\n                  }`}>\n                    <div className=\"flex flex-col md:flex-row gap-4 items-center\">\n                      \n                      {/* Identity */}\n                      <div className=\"flex items-center gap-3 w-full md:w-auto md:min-w-[200px]\">\n                        <div className={`h-10 w-10 rounded-full flex items-center justify-center font-bold text-sm ${\n                          card.isDeferred\n                            ? 'bg-orange-100 text-orange-700 dark:bg-orange-800 dark:text-orange-100'\n                            : card.isPaid \n                              ? 'bg-green-100 text-green-700 dark:bg-green-800 dark:text-green-100' \n                              : 'bg-red-100 text-red-700 dark:bg-red-800 dark:text-red-100'\n                        }`}>\n                          {card.name.charAt(0)}\n                        </div>\n                        <div>\n                          <h3 className=\"font-bold text-gray-900 dark:text-gray-100 text-sm\">{card.name}</h3>\n                          <div className=\"flex items-center gap-1 text-xs text-gray-500\">\n                            <Phone className=\"h-3 w-3\" />\n                            <span dir=\"ltr\">{card.lineNumber}</span>\n                          </div>\n                        </div>\n                      </div>\n\n                      {/* Details - Horizontal Grid */}\n                      <div className=\"flex-1 w-full grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-x-4 gap-y-2 text-xs\">\n                        {card.nationalId && (\n                          <div className=\"flex flex-col\">\n                            <span className=\"text-gray-500 text-[10px] flex items-center gap-1\"><User className=\"h-3 w-3\" /> القومي</span>\n                            <span className=\"font-mono font-medium truncate\">{card.nationalId}</span>\n                          </div>\n                        )}\n                        <div className=\"flex flex-col\">\n                          <span className=\"text-gray-500 text-[10px] flex items-center gap-1\"><Hash className=\"h-3 w-3\" /> الموزع</span>\n                          <span \n                            className={`font-mono font-medium transition-colors ${card.simNumber ? 'cursor-pointer hover:text-purple-600 hover:underline' : ''}`}\n                            onClick={(e) => {\n                              if (card.simNumber) {\n                                e.stopPropagation();\n                                setSearchTerm(card.simNumber);\n                                toast({ description: `تم تصفية الخطوط للموزع: ${card.simNumber}` });\n                              }\n                            }}\n                            title={card.simNumber ? \"اضغط لعرض جميع خطوط هذا الموزع\" : undefined}\n                          >\n                            {card.simNumber || '-'}\n                          </span>\n                        </div>\n                        <div className=\"flex flex-col\">\n                          <span className=\"text-gray-500 text-[10px] flex items-center gap-1\"><Phone className=\"h-3 w-3\" /> مكالمات</span>\n                          <span className=\"font-medium\">{card.callsPackage || '-'}</span>\n                        </div>\n                        <div className=\"flex flex-col\">\n                          <span className=\"text-gray-500 text-[10px] flex items-center gap-1\"><Globe className=\"h-3 w-3\" /> نت</span>\n                          <span className=\"font-medium\">{card.internetPackage || '-'}</span>\n                        </div>\n                        {card.adslPackage && (\n                          <div className=\"flex flex-col\">\n                            <span className=\"text-gray-500 text-[10px] flex items-center gap-1\"><Wifi className=\"h-3 w-3\" /> ADSL</span>\n                            <span className=\"font-medium\">{card.adslPackage}</span>\n                          </div>\n                        )}\n                        <div className=\"flex flex-col\">\n                          <span className=\"text-gray-500 text-[10px] flex items-center gap-1\"><Banknote className=\"h-3 w-3\" /> الإجمالي</span>\n                          <span className=\"font-bold text-gray-900\">{formatMoney(card.totalAmount)}</span>\n                        </div>\n                      </div>\n\n                      {/* Actions */}\n                      <div className=\"flex flex-col sm:flex-row gap-2 w-full md:w-auto items-center\">\n                         {card.whatsappNumber && (\n                            <Button \n                              variant=\"ghost\" \n                              size=\"icon\" \n                              className=\"h-8 w-8 text-green-600 hover:bg-green-50\"\n                              onClick={() => {\n                                const message = `مرحباً ${card.name}،\\nتذكير بموعد دفع فاتورة الخط رقم ${card.lineNumber}.\\nالمبلغ المطلوب: ${card.totalAmount} جنيه.\\nشكراً لك!`;\n                                const url = `https://wa.me/2${card.whatsappNumber}?text=${encodeURIComponent(message)}`;\n                                window.open(url, '_blank');\n                              }}\n                              title=\"إرسال تذكير واتساب\"\n                            >\n                              <MessageCircle className=\"h-4 w-4\" />\n                            </Button>\n                          )}\n\n                         <div className=\"flex bg-white/50 rounded-lg p-1 gap-1 shadow-sm\">\n                            <Button \n                              size=\"sm\"\n                              className={`h-7 px-2 text-xs font-bold ${\n                                card.isPaid \n                                  ? 'bg-green-600 hover:bg-green-700 text-white' \n                                  : 'bg-white text-green-600 border border-green-200 hover:bg-green-50'\n                              }`}\n                              onClick={() => handleSetPaid(card, true)}\n                            >\n                              مدفوع\n                            </Button>\n                            <Button \n                              size=\"sm\"\n                              variant=\"destructive\"\n                              className={`h-7 px-2 text-xs font-bold ${\n                                !card.isPaid && !card.isDeferred\n                                  ? 'bg-red-600 hover:bg-red-700 text-white' \n                                  : 'bg-white text-red-600 border border-red-200 hover:bg-red-50'\n                              }`}\n                              onClick={() => handleSetPaid(card, false)}\n                            >\n                              غير\n                            </Button>\n                            <Button \n                              size=\"sm\"\n                              variant=\"outline\"\n                              className={`h-7 px-2 text-xs font-bold ${\n                                card.isDeferred\n                                  ? 'bg-orange-600 hover:bg-orange-700 text-white'\n                                  : 'text-orange-600 border-orange-200 hover:bg-orange-50'\n                              }`}\n                              onClick={() => handleOpenDeferred(card)}\n                            >\n                              أجل\n                            </Button>\n                         </div>\n\n                         <div className=\"flex gap-1\">\n                           <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8 text-blue-600 hover:bg-blue-50\" onClick={() => handleOpenForm(card)}>\n                             <Edit2 className=\"h-4 w-4\" />\n                           </Button>\n                           <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8 text-red-600 hover:bg-red-50\" onClick={() => confirmDelete(card.id)}>\n                             <Trash2 className=\"h-4 w-4\" />\n                           </Button>\n                         </div>\n                      </div>\n\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* Distributors Dialog */}\n      <DistributorsDialog \n        isOpen={isDistributorsOpen} \n        onClose={() => setIsDistributorsOpen(false)} \n        simCards={cards}\n      />\n\n      {/* Delete Confirmation Dialog */}\n      <AlertDialog open={!!deleteCardId} onOpenChange={(open) => !open && setDeleteCardId(null)}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>هل أنت متأكد من حذف هذا الخط؟</AlertDialogTitle>\n            <AlertDialogDescription>\n              لا يمكن التراجع عن هذا الإجراء بعد تنفيذه.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>إلغاء</AlertDialogCancel>\n            <AlertDialogAction onClick={handleDelete} className=\"bg-red-600 hover:bg-red-700\">\n              حذف\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n\n      {/* Add/Edit Form Dialog */}\n      <Dialog open={isReceiptsOpen} onOpenChange={setIsReceiptsOpen}>\n        <DialogContent className=\"max-w-2xl h-[80vh] flex flex-col p-0\">\n          <DialogHeader className=\"p-4 border-b\">\n            <DialogTitle>سجل سداد الخطوط</DialogTitle>\n            <DialogDescription>\n              عرض إيصالات السداد حسب التاريخ\n            </DialogDescription>\n          </DialogHeader>\n          \n          <div className=\"p-4 border-b bg-gray-50 flex flex-col gap-4\">\n            {/* Search Input */}\n            <div className=\"relative w-full\">\n              <Search className=\"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\n              <Input \n                placeholder=\"بحث في السجل بالاسم أو الرقم...\" \n                value={receiptSearchTerm}\n                onChange={(e) => setReceiptSearchTerm(e.target.value)}\n                className=\"pr-9 bg-white\"\n              />\n            </div>\n\n            <div className=\"flex flex-col sm:flex-row gap-4 items-end w-full\">\n              <div className=\"space-y-2 flex-1\">\n                <Label>نوع البحث</Label>\n                <div className=\"flex bg-white rounded-md border p-1\">\n                  <button\n                    onClick={() => setReceiptFilterType('day')}\n                    className={`flex-1 px-3 py-1.5 text-sm rounded-sm transition-colors ${\n                      receiptFilterType === 'day' ? 'bg-purple-100 text-purple-700 font-medium' : 'text-gray-600 hover:bg-gray-50'\n                    }`}\n                  >\n                    يومي\n                  </button>\n                  <button\n                    onClick={() => setReceiptFilterType('month')}\n                    className={`flex-1 px-3 py-1.5 text-sm rounded-sm transition-colors ${\n                      receiptFilterType === 'month' ? 'bg-purple-100 text-purple-700 font-medium' : 'text-gray-600 hover:bg-gray-50'\n                    }`}\n                  >\n                    شهري\n                  </button>\n                </div>\n              </div>\n              \n              <div className=\"space-y-2 flex-1\">\n                <Label>{receiptFilterType === 'day' ? 'اختر اليوم' : 'اختر الشهر'}</Label>\n                <Input\n                  type={receiptFilterType === 'day' ? 'date' : 'month'}\n                  value={receiptFilterType === 'day' ? receiptDateFilter : receiptDateFilter.substring(0, 7)}\n                  onChange={(e) => setReceiptDateFilter(e.target.value)}\n                  className=\"bg-white\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                 <div className=\"text-sm font-medium text-gray-500 mb-1\">إجمالي الفترة</div>\n                 <div className=\"text-lg font-bold text-green-600\">\n                   {formatMoney(receipts.reduce((sum, r) => sum + (r.amount || 0), 0))}\n                 </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex-1 overflow-y-auto p-0 relative\">\n            {receipts.length === 0 ? (\n               <div className=\"flex flex-col items-center justify-center h-48 text-gray-500\">\n                 <Banknote className=\"h-12 w-12 mb-2 opacity-20\" />\n                 <p>لا توجد عمليات سداد في هذه الفترة</p>\n               </div>\n            ) : (\n              <Table>\n                <TableHeader className=\"sticky top-0 bg-white z-10 shadow-sm\">\n                  <TableRow>\n                    <TableHead className=\"text-right\">التاريخ</TableHead>\n                    <TableHead className=\"text-right\">اسم الاشتراك</TableHead>\n                    <TableHead className=\"text-right\">المبلغ</TableHead>\n                    <TableHead className=\"w-[50px]\"></TableHead>\n                  </TableRow>\n                </TableHeader>\n                <TableBody>\n                  {receipts.map((receipt) => (\n                    <TableRow key={receipt.id}>\n                      <TableCell className=\"font-mono text-xs text-gray-500\">\n                        {receipt.createdAt?.seconds \n                          ? new Date(receipt.createdAt.seconds * 1000).toLocaleString('ar-EG') \n                          : 'الآن'}\n                      </TableCell>\n                      <TableCell className=\"font-medium\">{receipt.cardName}</TableCell>\n                      <TableCell className=\"font-bold text-green-600\">{formatMoney(receipt.amount)}</TableCell>\n                      <TableCell>\n                        <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8 text-red-600 hover:bg-red-50\" onClick={() => handleDeleteReceipt(receipt.id)}>\n                          <Trash2 className=\"h-4 w-4\" />\n                        </Button>\n                      </TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            )}\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      <Dialog open={isConfirmResetOpen} onOpenChange={setIsConfirmResetOpen}>\n        <DialogContent className=\"max-w-md\">\n          <DialogHeader>\n            <DialogTitle>تأكيد التحويل</DialogTitle>\n            <DialogDescription>\n              هل أنت متأكد من تحويل جميع الخطوط إلى \"غير مدفوع\"؟\n              <br />\n              سيتم تغيير حالة الدفع لجميع الخطوط المسجلة.\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"flex justify-end gap-2 mt-4\">\n            <Button variant=\"outline\" onClick={() => setIsConfirmResetOpen(false)}>\n              إلغاء\n            </Button>\n            <Button variant=\"destructive\" onClick={confirmResetAll}>\n              نعم، تحويل الكل\n            </Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      <Dialog open={isFormOpen} onOpenChange={setIsFormOpen}>\n        <DialogContent className=\"max-w-md max-h-[90vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle>{editingCard ? 'تعديل بيانات الخط' : 'إضافة خط جديد'}</DialogTitle>\n          </DialogHeader>\n          <div className=\"space-y-4 py-2\">\n            <div className=\"space-y-2\">\n              <Label>الاسم</Label>\n              <Input \n                value={formData.name} \n                onChange={(e) => setFormData({...formData, name: e.target.value})}\n                placeholder=\"اسم العميل أو صاحب الخط\"\n              />\n            </div>\n            \n            <div className=\"space-y-2\">\n              <Label>الرقم القومي (اختياري)</Label>\n              <Input \n                value={formData.nationalId} \n                onChange={(e) => setFormData({...formData, nationalId: e.target.value})}\n                placeholder=\"الرقم القومي...\"\n                dir=\"ltr\"\n              />\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label>رقم الخط</Label>\n                <Input \n                  value={formData.lineNumber} \n                  onChange={(e) => setFormData({...formData, lineNumber: e.target.value})}\n                  placeholder=\"01xxxxxxxxx\"\n                  dir=\"ltr\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label>رقم الموزع</Label>\n                <Select\n                  value={formData.simNumber}\n                  onValueChange={(value) => setFormData({...formData, simNumber: value})}\n                >\n                  <SelectTrigger className=\"text-right h-10\" dir=\"rtl\">\n                    <SelectValue placeholder=\"اختر الموزع\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {distributors.map((dist) => (\n                      <SelectItem key={dist.id} value={dist.number}>\n                        {dist.name} ({dist.number})\n                      </SelectItem>\n                    ))}\n                    {/* Handle legacy/manual values not in list */}\n                    {formData.simNumber && !distributors.some(d => d.number === formData.simNumber) && (\n                      <SelectItem value={formData.simNumber}>\n                        {formData.simNumber} (غير مسجل)\n                      </SelectItem>\n                    )}\n                    {distributors.length === 0 && !formData.simNumber && (\n                      <div className=\"p-2 text-center text-xs text-gray-500\">لا يوجد موزعين</div>\n                    )}\n                  </SelectContent>\n                </Select>\n              </div>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label>رقم الواتساب (اختياري)</Label>\n              <Input \n                value={formData.whatsappNumber} \n                onChange={(e) => setFormData({...formData, whatsappNumber: e.target.value})}\n                placeholder=\"رقم الواتساب...\"\n                dir=\"ltr\"\n              />\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label>باقة المكالمات</Label>\n                <Input \n                  value={formData.callsPackage} \n                  onChange={(e) => setFormData({...formData, callsPackage: e.target.value})}\n                  placeholder=\"مثال: فليكس 45\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label>باقة النت</Label>\n                <Input \n                  value={formData.internetPackage} \n                  onChange={(e) => setFormData({...formData, internetPackage: e.target.value})}\n                  placeholder=\"مثال: سوبر ميجا 20\"\n                />\n              </div>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label>باقة ADSL (اختياري)</Label>\n              <Input \n                value={formData.adslPackage} \n                onChange={(e) => setFormData({...formData, adslPackage: e.target.value})}\n                placeholder=\"مثال: 140 جيجا\"\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label>ملاحظات (اختياري)</Label>\n              <Textarea \n                value={formData.notes} \n                onChange={(e) => setFormData({...formData, notes: e.target.value})}\n                placeholder=\"أي ملاحظات إضافية...\"\n                className=\"resize-none\"\n              />\n            </div>\n\n            <div className=\"grid grid-cols-1 gap-4\">\n              <div className=\"space-y-2\">\n                <Label>المبلغ الإجمالي</Label>\n                <Input \n                  type=\"number\"\n                  value={formData.totalAmount} \n                  onChange={(e) => setFormData({...formData, totalAmount: e.target.value})}\n                  placeholder=\"0.00\"\n                />\n              </div>\n              {/* <div className=\"space-y-2\">\n                <Label>المبلغ المتبقي</Label>\n                <Input \n                  type=\"number\"\n                  value={formData.remainingAmount} \n                  onChange={(e) => setFormData({...formData, remainingAmount: e.target.value})}\n                  placeholder=\"0.00\"\n                />\n              </div> */}\n            </div>\n\n            <div className=\"space-y-2 pt-2 hidden\">\n              <Label>حالة الدفع</Label>\n              <div className=\"flex gap-2\">\n                <Button \n                  type=\"button\" \n                  variant={formData.isPaid ? \"default\" : \"outline\"}\n                  className={`flex-1 ${formData.isPaid ? \"bg-green-600 hover:bg-green-700\" : \"text-green-600 border-green-200 hover:bg-green-50\"}`}\n                  onClick={() => setFormData({...formData, isPaid: true})}\n                >\n                  مدفوع\n                </Button>\n                <Button \n                  type=\"button\"\n                  variant={!formData.isPaid ? \"default\" : \"outline\"}\n                  className={`flex-1 ${!formData.isPaid ? \"bg-red-600 hover:bg-red-700\" : \"text-red-600 border-red-200 hover:bg-red-50\"}`}\n                  onClick={() => setFormData({...formData, isPaid: false})}\n                >\n                  لم يتم الدفع\n                </Button>\n              </div>\n            </div>\n\n            <div className=\"pt-4 flex gap-2\">\n              <Button className=\"flex-1 bg-purple-600 hover:bg-purple-700 text-white\" onClick={handleSave}>\n                <Save className=\"h-4 w-4 ml-2\" />\n                حفظ\n              </Button>\n              <Button variant=\"outline\" onClick={() => setIsFormOpen(false)}>إلغاء</Button>\n            </div>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* Deferred Debt Dialog */}\n      <Dialog open={isDeferredDialogOpen} onOpenChange={setIsDeferredDialogOpen}>\n        <DialogContent className=\"max-w-sm\">\n          <DialogHeader>\n            <DialogTitle>تسجيل معاملة آجل</DialogTitle>\n            <DialogDescription>سيتم إضافة المبلغ للديون المستحقة</DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-4 py-2\">\n            <div className=\"space-y-2\">\n              <Label>اسم العميل</Label>\n              <Input \n                value={deferredName} \n                onChange={(e) => setDeferredName(e.target.value)}\n                placeholder=\"اسم العميل...\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label>المبلغ</Label>\n              <Input \n                type=\"number\"\n                value={deferredAmount} \n                onChange={(e) => setDeferredAmount(e.target.value)}\n                placeholder=\"0.00\"\n              />\n            </div>\n            <div className=\"pt-2 flex gap-2\">\n              <Button className=\"flex-1 bg-orange-600 hover:bg-orange-700 text-white\" onClick={handleConfirmDeferred}>\n                تأكيد الأجل\n              </Button>\n              <Button variant=\"outline\" onClick={() => setIsDeferredDialogOpen(false)}>إلغاء</Button>\n            </div>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n}\n"],"names":["__iconNode","Globe","createLucideIcon","DistributorsDialog","isOpen","onClose","simCards","user","useFirebaseAuth","distributors","setDistributors","useState","isLoading","setIsLoading","newName","setNewName","newNumber","setNewNumber","isAdding","setIsAdding","toast","useToast","useEffect","q","query","collection","db","where","unsubscribe","onSnapshot","snapshot","items","doc","error","handleAdd","addDoc","serverTimestamp","handleDelete","id","deleteDoc","getCardCount","distributorNumber","card","Dialog","open","jsxs","DialogContent","DialogHeader","DialogTitle","jsx","Users","DialogDescription","Label","Input","e","Button","Plus","dist","Trash2","SimCardsDialog","shopId","onOpenAdsl","cards","setCards","searchTerm","setSearchTerm","statusFilter","setStatusFilter","isFormOpen","setIsFormOpen","editingCard","setEditingCard","formData","setFormData","isDeferredDialogOpen","setIsDeferredDialogOpen","deferredCard","setDeferredCard","deferredName","setDeferredName","deferredAmount","setDeferredAmount","isConfirmResetOpen","setIsConfirmResetOpen","deleteCardId","setDeleteCardId","isDistributorsOpen","setIsDistributorsOpen","isReceiptsOpen","setIsReceiptsOpen","allReceipts","setAllReceipts","receiptSearchTerm","setReceiptSearchTerm","receiptDateFilter","setReceiptDateFilter","d","year","month","day","receiptFilterType","setReceiptFilterType","localKey","localData","data","a","b","simA","simB","timeA","_a","_b","handleOpenForm","handleSave","cardData","updateDoc","confirmDelete","handleSetPaid","isPaid","prevCards","c","handleOpenDeferred","handleConfirmDeferred","amount","userRef","userData","getDoc","currentDebts","newDebt","docSnap","debts","deferredCards","shouldUpdate","debt","filteredCards","matchesSearch","matchesStatus","paidCount","unpaidCount","deferredCount","handleResetAllUnpaid","confirmResetAll","batch","writeBatch","cardRef","handleDeleteReceipt","receiptId","receipts","item","term","nameMatch","numberMatch","timestamp","itemDate","y","m","start","end","Fragment","Smartphone","X","Banknote","Clock","Search","Wifi","Phone","User","Hash","formatMoney","message","url","MessageCircle","Edit2","AlertDialog","AlertDialogContent","AlertDialogHeader","AlertDialogTitle","AlertDialogDescription","AlertDialogFooter","AlertDialogCancel","AlertDialogAction","sum","Table","TableHeader","TableRow","TableHead","TableBody","receipt","TableCell","Select","value","SelectTrigger","SelectValue","SelectContent","SelectItem","Textarea","Save"],"mappings":"k2BAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMA,GAAa,CACjB,CAAC,SAAU,CAAE,GAAI,KAAM,GAAI,KAAM,EAAG,KAAM,IAAK,SAAU,EACzD,CAAC,OAAQ,CAAE,EAAG,kDAAmD,IAAK,QAAQ,CAAE,EAChF,CAAC,OAAQ,CAAE,EAAG,WAAY,IAAK,QAAQ,CAAE,CAC3C,EACMC,GAAQC,GAAiB,QAASF,EAAU,ECW3C,SAASG,GAAmB,CAAE,OAAAC,EAAQ,QAAAC,EAAS,SAAAC,IAAqC,CACzF,KAAM,CAAE,KAAAC,CAAA,EAASC,GAAA,EACX,CAACC,EAAcC,CAAe,EAAIC,EAAAA,SAAwB,CAAA,CAAE,EAC5D,CAACC,EAAWC,CAAY,EAAIF,EAAAA,SAAS,EAAK,EAC1C,CAACG,EAASC,CAAU,EAAIJ,EAAAA,SAAS,EAAE,EACnC,CAACK,EAAWC,CAAY,EAAIN,EAAAA,SAAS,EAAE,EACvC,CAACO,EAAUC,CAAW,EAAIR,EAAAA,SAAS,EAAK,EACxC,CAAE,MAAAS,CAAA,EAAUC,GAAA,EAElBC,EAAAA,UAAU,IAAM,CACd,GAAI,CAACf,GAAQ,CAACH,EAAQ,OAEtB,MAAMmB,EAAIC,GACRC,EAAWC,EAAI,cAAc,EAC7BC,GAAM,SAAU,KAAMpB,EAAK,GAAG,CAAA,EAG1BqB,EAAcC,EAAWN,EAAIO,GAAa,CAC9C,MAAMC,EAAuB,CAAA,EAC7BD,EAAS,QAASE,GAAQ,CACxBD,EAAM,KAAK,CAAE,GAAIC,EAAI,GAAI,GAAGA,EAAI,KAAA,EAAuB,CACzD,CAAC,EACDtB,EAAgBqB,CAAK,CACvB,EAAIE,GAAU,CACZ,QAAQ,MAAM,+BAAgCA,CAAK,CACrD,CAAC,EAED,MAAO,IAAML,EAAA,CACf,EAAG,CAACxB,CAAM,CAAC,EAEX,MAAM8B,EAAY,SAAY,CAC5B,GAAI,CAAC3B,EAAM,CACTa,EAAM,CAAE,MAAO,MAAO,YAAa,yBAA0B,QAAS,cAAe,EACrF,MACF,CACA,GAAI,CAACN,GAAW,CAACE,EAAW,CAC1BI,EAAM,CAAE,MAAO,MAAO,YAAa,0BAA2B,QAAS,cAAe,EACtF,MACF,CAEAD,EAAY,EAAI,EAChB,GAAI,CACF,MAAMgB,GAAOV,EAAWC,EAAI,cAAc,EAAG,CAC3C,KAAMZ,EACN,OAAQE,EACR,OAAQT,EAAK,IACb,UAAW6B,EAAA,CAAgB,CAC5B,EAEDrB,EAAW,EAAE,EACbE,EAAa,EAAE,EACfG,EAAM,CAAE,MAAO,KAAM,YAAa,wBAAyB,CAC7D,OAASa,EAAO,CACd,QAAQ,MAAMA,CAAK,EACnBb,EAAM,CAAE,MAAO,MAAO,YAAa,wBAAyB,QAAS,cAAe,CACtF,QAAA,CACED,EAAY,EAAK,CACnB,CACF,EAEMkB,EAAe,MAAOC,GAAe,CACzC,GAAK,QAAQ,wBAAwB,EAErC,GAAI,CACF,MAAMC,GAAUP,EAAIN,EAAI,eAAgBY,CAAE,CAAC,EAC3ClB,EAAM,CAAE,MAAO,KAAM,YAAa,gBAAiB,CACrD,OAASa,EAAO,CACd,QAAQ,MAAMA,CAAK,EACnBb,EAAM,CAAE,MAAO,MAAO,YAAa,sBAAuB,QAAS,cAAe,CACpF,CACF,EAEMoB,EAAgBC,GACbnC,GAAS,OAAOoC,GAAQA,EAAK,YAAcD,CAAiB,EAAE,OAGvE,aACGE,EAAA,CAAO,KAAMvC,EAAQ,aAAewC,GAAS,CAACA,GAAQvC,EAAA,EACrD,SAAAwC,EAAAA,KAACC,EAAA,CAAc,UAAU,mBAAmB,IAAI,MAC9C,SAAA,CAAAD,OAACE,EAAA,CACC,SAAA,CAAAF,EAAAA,KAACG,EAAA,CAAY,UAAU,0BACrB,SAAA,CAAAC,EAAAA,IAACC,GAAA,CAAM,UAAU,SAAA,CAAU,EAAE,gBAAA,EAE/B,EACAD,EAAAA,IAACE,GAAkB,SAAA,uDAAA,CAEnB,CAAA,EACF,EAEAN,EAAAA,KAAC,MAAA,CAAI,UAAU,iBAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,2EACb,SAAA,CAAAI,EAAAA,IAACG,EAAA,CAAM,UAAU,sCAAsC,SAAA,kBAAe,EACtEP,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAI,EAAAA,IAACI,EAAA,CACC,YAAY,QACZ,MAAOvC,EACP,SAAWwC,GAAMvC,EAAWuC,EAAE,OAAO,KAAK,EAC1C,UAAU,aAAA,CAAA,EAEZL,EAAAA,IAACI,EAAA,CACC,YAAY,QACZ,MAAOrC,EACP,SAAWsC,GAAMrC,EAAaqC,EAAE,OAAO,KAAK,EAC5C,UAAU,aAAA,CAAA,CACZ,EACF,EACAT,EAAAA,KAACU,GAAO,QAASrB,EAAW,SAAUhB,EAAU,KAAK,KAAK,UAAU,gEAClE,SAAA,CAAA+B,EAAAA,IAACO,GAAA,CAAK,UAAU,SAAA,CAAU,EAAE,OAAA,CAAA,CAE9B,CAAA,EACF,EAGAP,EAAAA,IAAC,OAAI,UAAU,0CACZ,WAAa,SAAW,QACtB,MAAA,CAAI,UAAU,yCAAyC,SAAA,uBAAA,CAAqB,EAE7ExC,EAAa,IAAKgD,GAChBZ,EAAAA,KAAC,MAAA,CAAkB,UAAU,uHAC3B,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,gBACb,SAAA,CAAAI,EAAAA,IAAC,OAAA,CAAK,UAAU,sBAAuB,SAAAQ,EAAK,KAAK,EACjDR,EAAAA,IAAC,OAAA,CAAK,UAAU,kCAAmC,WAAK,MAAA,CAAO,CAAA,EACjE,EACAJ,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,8IACb,SAAA,CAAAI,EAAAA,IAAC,OAAA,CAAM,SAAAT,EAAaiB,EAAK,MAAM,EAAE,EACjCR,EAAAA,IAAC,OAAA,CAAK,UAAU,0BAA0B,SAAA,IAAA,CAAE,CAAA,EAC9C,EACAA,EAAAA,IAACM,EAAA,CACC,QAAQ,QACR,KAAK,OACL,QAAS,IAAMlB,EAAaoB,EAAK,EAAE,EACnC,UAAU,0DAEV,SAAAR,EAAAA,IAACS,GAAA,CAAO,UAAU,SAAA,CAAU,CAAA,CAAA,CAC9B,CAAA,CACF,CAAA,GAlBQD,EAAK,EAmBf,CACD,CAAA,CAEL,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAEJ,CCjHO,SAASE,GAAe,CAC7B,OAAAvD,EACA,QAAAC,EACA,OAAAuD,GACA,WAAAC,CACF,EAKG,CACD,KAAM,CAAE,KAAAtD,CAAA,EAASC,GAAA,EACX,CAAE,MAAAY,CAAA,EAAUC,GAAA,EACZ,CAACyC,EAAOC,CAAQ,EAAIpD,EAAAA,SAAoB,CAAA,CAAE,EAC1C,CAACC,EAAWC,CAAY,EAAIF,EAAAA,SAAS,EAAI,EACzC,CAACqD,EAAYC,CAAa,EAAItD,EAAAA,SAAS,EAAE,EACzC,CAACuD,EAAcC,CAAe,EAAIxD,EAAAA,SAAiD,KAAK,EAGxF,CAACyD,EAAYC,CAAa,EAAI1D,EAAAA,SAAS,EAAK,EAC5C,CAAC2D,EAAaC,CAAc,EAAI5D,EAAAA,SAAyB,IAAI,EAE7D,CAAC6D,EAAUC,CAAW,EAAI9D,WAAS,CACvC,KAAM,GACN,UAAW,GACX,WAAY,GACZ,aAAc,GACd,gBAAiB,GACjB,YAAa,GACb,YAAa,GACb,gBAAiB,GACjB,WAAY,GACZ,eAAgB,GAChB,MAAO,GACP,OAAQ,EAAA,CACT,EAGK,CAAC+D,EAAsBC,CAAuB,EAAIhE,EAAAA,SAAS,EAAK,EAChE,CAACiE,EAAcC,EAAe,EAAIlE,EAAAA,SAAyB,IAAI,EAC/D,CAACmE,GAAcC,EAAe,EAAIpE,EAAAA,SAAS,EAAE,EAC7C,CAACqE,GAAgBC,EAAiB,EAAItE,EAAAA,SAAS,EAAE,EAEjD,CAACuE,GAAoBC,CAAqB,EAAIxE,EAAAA,SAAS,EAAK,EAG5D,CAACyE,GAAcC,EAAe,EAAI1E,EAAAA,SAAwB,IAAI,EAG9D,CAAC2E,GAAoBC,EAAqB,EAAI5E,EAAAA,SAAS,EAAK,EAC5D,CAACF,GAAcC,EAAe,EAAIC,EAAAA,SAAwB,CAAA,CAAE,EAElEW,EAAAA,UAAU,IAAM,CACd,GAAI,CAACf,EAAM,OACX,MAAMgB,EAAIC,GAAMC,EAAWC,EAAI,cAAc,EAAGC,GAAM,SAAU,KAAMpB,EAAK,GAAG,CAAC,EACzEqB,EAAcC,EAAWN,EAAIO,GAAa,CAC9C,MAAMC,EAAuB,CAAA,EAC7BD,EAAS,QAASE,GAAQ,CACxBD,EAAM,KAAK,CAAE,GAAIC,EAAI,GAAI,GAAGA,EAAI,KAAA,EAAuB,CACzD,CAAC,EACDtB,GAAgBqB,CAAK,CACvB,CAAC,EACD,MAAO,IAAMH,EAAA,CACf,EAAG,CAACrB,CAAI,CAAC,EAGT,KAAM,CAACiF,GAAgBC,EAAiB,EAAI9E,EAAAA,SAAS,EAAK,EACpD,CAAC+E,GAAaC,EAAc,EAAIhF,EAAAA,SAA2B,CAAA,CAAE,EAC7D,CAACiF,GAAmBC,EAAoB,EAAIlF,EAAAA,SAAS,EAAE,EACvD,CAACmF,GAAmBC,EAAoB,EAAIpF,EAAAA,SAAiB,IAAM,CACvE,MAAMqF,MAAQ,KACRC,EAAOD,EAAE,YAAA,EACTE,EAAQ,OAAOF,EAAE,SAAA,EAAa,CAAC,EAAE,SAAS,EAAG,GAAG,EAChDG,EAAM,OAAOH,EAAE,QAAA,CAAS,EAAE,SAAS,EAAG,GAAG,EAC/C,MAAO,GAAGC,CAAI,IAAIC,CAAK,IAAIC,CAAG,EAChC,CAAC,EACK,CAACC,EAAmBC,EAAoB,EAAI1F,EAAAA,SAA0B,KAAK,EAGjFW,EAAAA,UAAU,IAAM,CACd,GAAI,EAACf,GAAA,MAAAA,EAAM,KAAK,OAGhB,MAAM+F,EAAW,YAAY/F,EAAK,GAAG,GACrC,GAAI,CACF,MAAMgG,EAAY,aAAa,QAAQD,CAAQ,EAC3CC,IACFxC,EAAS,KAAK,MAAMwC,CAAS,CAAC,EAC9B1F,EAAa,EAAK,EAEtB,OAASyC,EAAG,CACV,QAAQ,KAAK,4CAA6CA,CAAC,CAC7D,CAEA,GAAI,CAAClD,EAAQ,OAEbS,EAAa,EAAI,EACjB,MAAMU,EAAIC,GACRC,EAAWC,EAAI,UAAU,EACzBC,GAAM,SAAU,KAAMpB,EAAK,GAAG,CAAA,EAG1BqB,EAAcC,EAAWN,EAAIO,GAAa,CAC9C,MAAM0E,EAAO1E,EAAS,KACnB,IAAIE,IAAQ,CAAE,GAAIA,EAAI,GAAI,GAAGA,EAAI,MAAK,EAAe,EACrD,KAAK,CAACyE,EAAGC,IAAM,SAEd,MAAMC,EAAOF,EAAE,WAAa,GACtBG,EAAOF,EAAE,WAAa,GAC5B,GAAIC,IAASC,EAEX,OAAKD,EACAC,EACED,EAAK,cAAcC,CAAI,EADZ,GADA,EAMpB,MAAMC,IAAQC,EAAAL,EAAE,YAAF,YAAAK,EAAa,UAAW,EAEtC,SADcC,EAAAL,EAAE,YAAF,YAAAK,EAAa,UAAW,GACvBF,CACjB,CAAC,EAEH,QAAQ,IAAI,qBAAsBL,CAAI,EACtCzC,EAASyC,CAAI,EACb3F,EAAa,EAAK,EAGlB,GAAI,CACF,aAAa,QAAQyF,EAAU,KAAK,UAAUE,CAAI,CAAC,CACrD,OAASlD,EAAG,CACV,QAAQ,KAAK,yCAA0CA,CAAC,CAC1D,CACF,EAAIrB,GAAU,CACZ,QAAQ,MAAM,4BAA6BA,CAAK,EAChDpB,EAAa,EAAK,CACpB,CAAC,EAED,MAAO,IAAMe,EAAA,CACf,EAAG,CAACrB,GAAA,YAAAA,EAAM,IAAKH,CAAM,CAAC,EAEtB,MAAM4G,GAAkBtE,GAAmB,CACrCA,GACF6B,EAAe7B,CAAI,EACnB+B,EAAY,CACV,KAAM/B,EAAK,KACX,UAAWA,EAAK,UAChB,WAAYA,EAAK,WACjB,aAAcA,EAAK,aACnB,gBAAiBA,EAAK,gBACtB,YAAaA,EAAK,aAAe,GACjC,YAAaA,EAAK,YAAY,SAAA,EAC9B,gBAAiBA,EAAK,gBAAgB,SAAA,EACtC,WAAYA,EAAK,YAAc,GAC/B,eAAgBA,EAAK,gBAAkB,GACvC,MAAOA,EAAK,OAAS,GACrB,OAAQA,EAAK,QAAU,EAAA,CACxB,IAED6B,EAAe,IAAI,EACnBE,EAAY,CACV,KAAM,GACN,UAAW,GACX,WAAY,GACZ,aAAc,GACd,gBAAiB,GACjB,YAAa,GACb,YAAa,GACb,gBAAiB,GACjB,WAAY,GACZ,eAAgB,GAChB,MAAO,GACP,OAAQ,EAAA,CACT,GAEHJ,EAAc,EAAI,CACpB,EAEM4C,GAAa,SAAY,CAC7B,GAAK1G,GAAA,MAAAA,EAAM,IAYX,GAAI,CACF,MAAM2G,EAAW,CACf,KAAM1C,EAAS,MAAQ,WACvB,UAAWA,EAAS,UACpB,WAAYA,EAAS,YAAc,GACnC,aAAcA,EAAS,aACvB,gBAAiBA,EAAS,gBAC1B,YAAaA,EAAS,YACtB,YAAa,WAAWA,EAAS,WAAW,GAAK,EACjD,gBAAiB,WAAWA,EAAS,eAAe,GAAK,EACzD,WAAYA,EAAS,WACrB,eAAgBA,EAAS,eACzB,MAAOA,EAAS,MAChB,OAAQA,EAAS,OACjB,OAAQjE,EAAK,IACb,OAAQqD,IAAUrD,EAAK,IACvB,UAAW6B,EAAA,CAAgB,EAGzBkC,GACF,MAAM6C,EAAUnF,EAAIN,EAAI,WAAY4C,EAAY,EAAE,EAAG4C,CAAQ,EAC7D9F,EAAM,CAAE,MAAO,aAAc,YAAa,6BAA8B,IAExE,MAAMe,GAAOV,EAAWC,EAAI,UAAU,EAAG,CACvC,GAAGwF,EACH,UAAW9E,EAAA,CAAgB,CAC5B,EACDhB,EAAM,CAAE,MAAO,aAAc,YAAa,6BAA8B,GAE1EiD,EAAc,EAAK,CACrB,OAASpC,EAAO,CACd,QAAQ,MAAMA,CAAK,EACnBb,EAAM,CAAE,MAAO,MAAO,YAAa,sBAAuB,QAAS,cAAe,CACpF,CACF,EAEMgG,GAAiB9E,GAAe,CACpC+C,GAAgB/C,CAAE,CACpB,EAEMD,GAAe,SAAY,CAC/B,GAAK+C,GAEL,GAAI,CACF,MAAM7C,GAAUP,EAAIN,EAAI,WAAY0D,EAAY,CAAC,EACjDhE,EAAM,CAAE,MAAO,WAAY,YAAa,oBAAqB,CAC/D,OAASa,EAAO,CACd,QAAQ,MAAMA,CAAK,EACnBb,EAAM,CAAE,MAAO,MAAO,YAAa,YAAa,QAAS,cAAe,CAC1E,QAAA,CACEiE,GAAgB,IAAI,CACtB,CACF,EAEMgC,GAAgB,MAAO3E,EAAe4E,IAAoB,CAE9DvD,KAAsBwD,EAAU,IAAIC,GAAKA,EAAE,KAAO9E,EAAK,GAAK,CAAE,GAAG8E,EAAG,OAAAF,EAAQ,WAAY,EAAA,EAAUE,CAAC,CAAC,EAEpG,GAAI,CACF,MAAML,EAAUnF,EAAIN,EAAI,WAAYgB,EAAK,EAAE,EAAG,CAC5C,OAAA4E,EACA,WAAY,GACZ,UAAWlF,EAAA,CAAgB,CAC5B,EAEGkF,GAEF,MAAMnF,GAAOV,EAAWC,EAAI,iBAAiB,EAAG,CAC9C,OAAQgB,EAAK,GACb,SAAUA,EAAK,KACf,OAAQA,EAAK,YACb,OAAQnC,GAAA,YAAAA,EAAM,IACd,UAAW6B,EAAA,EACX,KAAM,SAAA,CACP,EAGHhB,EAAM,CAAE,MAAO,aAAc,YAAakG,EAAS,uCAAyC,2BAA4B,CAC1H,OAASrF,EAAO,CAEd8B,KAAsBwD,EAAU,OAAS,EAAE,KAAO7E,EAAK,GAAK,CAAE,GAAG,EAAG,OAAQ,CAAC4E,EAAQ,WAAY5E,EAAK,YAAe,CAAC,CAAC,EACvH,QAAQ,MAAMT,CAAK,EACnBb,EAAM,CAAE,MAAO,MAAO,YAAa,6BAA8B,QAAS,cAAe,CAC3F,CACF,EAEMqG,GAAsB/E,GAAkB,OAC5CmC,GAAgBnC,CAAI,EACpBqC,GAAgBrC,EAAK,MAAQ,EAAE,EAC/BuC,KAAkB6B,EAAApE,EAAK,cAAL,YAAAoE,EAAkB,aAAc,EAAE,EACpDnC,EAAwB,EAAI,CAC9B,EAEM+C,GAAwB,SAAY,CACxC,GAAI,EAACnH,GAAA,MAAAA,EAAM,MAAO,CAACqE,EAAc,OAEjC,GAAI,CAACE,GAAa,OAAQ,CACxB1D,EAAM,CAAE,MAAO,MAAO,YAAa,wBAAyB,QAAS,cAAe,EACpF,MACF,CACA,MAAMuG,EAAS,WAAW3C,EAAc,EACxC,GAAI,MAAM2C,CAAM,GAAKA,GAAU,EAAG,CAChCvG,EAAM,CAAE,MAAO,MAAO,YAAa,uBAAwB,QAAS,cAAe,EACnF,MACF,CAEA,GAAI,CACF,MAAMwG,EAAU5F,EAAIN,EAAI,QAASnB,EAAK,GAAG,EAEnCsH,GADW,MAAMC,GAAOF,CAAO,GACX,KAAA,EACpBG,EAAe,MAAM,QAAQF,GAAA,YAAAA,EAAU,KAAK,EAAIA,EAAS,MAAQ,CAAA,EAEjEG,EAAU,CACd,GAAI,QAAQ,KAAK,IAAA,CAAK,GACtB,WAAYlD,GACZ,OAAQF,EAAa,WACrB,OAAA+C,EACA,OAAQ,iBACR,OAAQ,UACR,cAAe,KACf,WAAY,EACZ,gBAAiB,CAAA,CAAC,EAGpB,MAAMR,EAAUS,EAAS,CACvB,MAAO,CAACI,EAAS,GAAGD,CAAY,CAAA,CACjC,EAGDhE,EAASwD,GAAaA,EAAU,IAAIC,GAAKA,EAAE,KAAO5C,EAAa,GAAK,CAAE,GAAG4C,EAAG,OAAQ,GAAO,WAAY,GAAM,OAAQQ,EAAQ,IAAOR,CAAC,CAAC,EAEtI,MAAML,EAAUnF,EAAIN,EAAI,WAAYkD,EAAa,EAAE,EAAG,CACpD,OAAQ,GACR,WAAY,GACZ,OAAQoD,EAAQ,GAChB,UAAW5F,EAAA,CAAgB,CAC5B,EAEDhB,EAAM,CAAE,MAAO,aAAc,YAAa,6BAA8B,EACxEuD,EAAwB,EAAK,CAC/B,OAAS1C,EAAO,CACd,QAAQ,MAAMA,CAAK,EACnBb,EAAM,CAAE,MAAO,MAAO,YAAa,0BAA2B,QAAS,cAAe,CACxF,CACF,EAGAE,EAAAA,UAAU,IAAM,CACd,GAAI,EAACf,GAAA,MAAAA,EAAM,KAAK,OAEhB,MAAMqH,EAAU5F,EAAIN,EAAI,QAASnB,EAAK,GAAG,EACnCqB,EAAcC,EAAW+F,EAAS,MAAOK,GAAY,CACzD,GAAIA,EAAQ,SAAU,CAEpB,MAAMC,EADWD,EAAQ,KAAA,EACF,OAAS,CAAA,EAG1BE,EAAgBrE,EAAM,OAAO0D,GAAKA,EAAE,YAAc,CAACA,EAAE,MAAM,EAEjE,UAAW9E,KAAQyF,EAAe,CAChC,IAAIC,EAAe,GAGnB,GAAI1F,EAAK,OAAQ,CACf,MAAM2F,EAAOH,EAAM,KAAMlC,GAAWA,EAAE,KAAOtD,EAAK,MAAM,EACpD2F,GAAQA,EAAK,SAAW,SAC1BD,EAAe,GAEnB,MAGoBF,EAAM,KAAMlC,GAC5BA,EAAE,SAAW,QACbA,EAAE,SAAW,mBAEVA,EAAE,QAAUA,EAAE,SAAWtD,EAAK,YAE9B,CAACsD,EAAE,QAAUA,EAAE,aAAetD,EAAK,MAAQ,KAAK,IAAIsD,EAAE,OAAStD,EAAK,WAAW,EAAI,GAAA,IAItF0F,EAAe,IAIfA,GAEF,MAAMf,GAAc3E,EAAM,EAAI,CAElC,CACF,CACF,CAAC,EAED,MAAO,IAAMd,EAAA,CACf,EAAG,CAACrB,GAAA,YAAAA,EAAM,IAAKuD,CAAK,CAAC,EAErB,MAAMwE,GAAgBxE,EAAM,OAAO0D,GAAK,CACtC,MAAMe,EAAgBf,EAAE,KAAK,cAAc,SAASxD,EAAW,YAAA,CAAa,GAC1EwD,EAAE,WAAW,SAASxD,CAAU,GAChCwD,EAAE,UAAU,SAASxD,CAAU,EAE3BwE,EACJtE,IAAiB,MAAQ,GACzBA,IAAiB,OAASsD,EAAE,OAC5BtD,IAAiB,SAAY,CAACsD,EAAE,QAAU,CAACA,EAAE,WAC7CtD,IAAiB,WAAasD,EAAE,WAAa,GAE/C,OAAOe,GAAiBC,CAC1B,CAAC,EAEKC,GAAY3E,EAAM,OAAO0D,GAAKA,EAAE,MAAM,EAAE,OACxCkB,GAAc5E,EAAM,OAAO0D,GAAK,CAACA,EAAE,QAAU,CAACA,EAAE,UAAU,EAAE,OAC5DmB,GAAgB7E,EAAM,OAAO0D,GAAKA,EAAE,UAAU,EAAE,OAEhDoB,GAAuB,SAAY,CACvCzD,EAAsB,EAAI,CAC5B,EAEM0D,GAAkB,SAAY,CAClC,GAAKtI,GAAA,MAAAA,EAAM,IAEX,GAAI,CACF,MAAMuI,EAAQC,GAAWrH,CAAE,EAE3BoC,EAAM,QAAQpB,GAAQ,CACpB,GAAIA,EAAK,OAAQ,CACf,MAAMsG,EAAUhH,EAAIN,EAAI,WAAYgB,EAAK,EAAE,EAC3CoG,EAAM,OAAOE,EAAS,CACpB,OAAQ,GACR,UAAW5G,EAAA,CAAgB,CAC5B,CACH,CACF,CAAC,EAED,MAAM0G,EAAM,OAAA,EAGZ/E,EAASwD,GAAaA,EAAU,IAAIC,IAAM,CAAE,GAAGA,EAAG,OAAQ,EAAA,EAAQ,CAAC,EAEnEpG,EAAM,CAAE,MAAO,aAAc,YAAa,2CAA4C,EACtF+D,EAAsB,EAAK,CAC7B,OAASlD,EAAO,CACd,QAAQ,MAAM,yBAA0BA,CAAK,EAC7Cb,EAAM,CAAE,MAAO,MAAO,YAAa,6BAA8B,QAAS,cAAe,EACzF+D,EAAsB,EAAK,CAC7B,CACF,EAEM8D,GAAsB,MAAOC,GAAsB,CACvD,GAAK,QAAQ;AAAA,kCAAqE,EAClF,GAAI,CACF,MAAM3G,GAAUP,EAAIN,EAAI,kBAAmBwH,CAAS,CAAC,EACrD9H,EAAM,CAAE,MAAO,WAAY,YAAa,uBAAwB,CAClE,OAASa,EAAO,CACd,QAAQ,MAAMA,CAAK,EACnBb,EAAM,CAAE,MAAO,MAAO,YAAa,kBAAmB,QAAS,cAAe,CAChF,CACF,EAGAE,EAAAA,UAAU,IAAM,CACd,GAAI,CAACkE,IAAkB,EAACjF,GAAA,MAAAA,EAAM,KAAK,OAEnC,MAAMgB,EAAIC,GACRC,EAAWC,EAAI,iBAAiB,EAChCC,GAAM,SAAU,KAAMpB,EAAK,GAAG,CAAA,EAG1BqB,EAAcC,EAAWN,EAAIO,GAAa,CAC9C,MAAM0E,EAAO1E,EAAS,KAAK,IAAIE,IAAQ,CAAE,GAAIA,EAAI,GAAI,GAAGA,EAAI,KAAA,GAA2B,EAEvFwE,EAAK,KAAK,CAACC,EAAGC,IAAM,SAClB,MAAMG,IAAQC,EAAAL,EAAE,YAAF,YAAAK,EAAa,UAAW,KAAK,MAAM,KAAK,IAAA,EAAQ,GAAI,EAElE,SADcC,EAAAL,EAAE,YAAF,YAAAK,EAAa,UAAW,KAAK,MAAM,KAAK,IAAA,EAAQ,GAAI,GACnDF,CACjB,CAAC,EACDlB,GAAea,CAAI,CACrB,EAAIvE,GAAU,CACZ,QAAQ,MAAM,2BAA4BA,CAAK,EAC/Cb,EAAM,CAAE,MAAO,MAAO,YAAa,kBAAmB,QAAS,cAAe,CAChF,CAAC,EAED,MAAO,IAAMQ,EAAA,CACf,EAAG,CAAC4D,GAAgBjF,GAAA,YAAAA,EAAM,GAAG,CAAC,EAG9B,MAAM4I,GAAWzD,GAAY,OAAO0D,GAAQ,OAE1C,GAAIxD,GAAkB,OAAQ,CAC5B,MAAMyD,EAAOzD,GAAkB,YAAA,EACzBlD,EAAOoB,EAAM,SAAU0D,GAAE,KAAO4B,EAAK,MAAM,EAC3CE,EAAYF,EAAK,SAAS,YAAA,EAAc,SAASC,CAAI,EACrDE,EAAc7G,EAAQA,EAAK,WAAW,SAAS2G,CAAI,GAAK3G,EAAK,UAAU,SAAS2G,CAAI,EAAK,GAC/F,OAAOC,GAAaC,CACtB,CAIA,MAAMC,GAAY1C,EAAAsC,EAAK,YAAL,MAAAtC,EAAgB,QAAUsC,EAAK,UAAU,QAAU,IAAO,KAAK,IAAA,EAC3EK,EAAW,IAAI,KAAKD,CAAS,EAG7B,CAACE,EAAGC,EAAG3D,CAAC,EAAIF,GAAkB,MAAM,GAAG,EAAE,IAAI,MAAM,EACnD8D,EAAQ,IAAI,KAAKF,EAAGC,EAAI,EAAG3D,CAAC,EAC5B6D,EAAM,IAAI,KAAKH,EAAGC,EAAI,EAAG3D,CAAC,EAEhC,OAAII,IAAsB,OACxBwD,EAAM,SAAS,EAAG,EAAG,EAAG,CAAC,EACzBC,EAAI,SAAS,GAAI,GAAI,GAAI,GAAG,IAE5BD,EAAM,QAAQ,CAAC,EACfA,EAAM,SAAS,EAAG,EAAG,EAAG,CAAC,EACzBC,EAAI,SAASA,EAAI,SAAA,EAAa,CAAC,EAC/BA,EAAI,QAAQ,CAAC,EACbA,EAAI,SAAS,GAAI,GAAI,GAAI,GAAG,GAGvBJ,GAAYG,GAASH,GAAYI,CAC1C,CAAC,EAED,OACEhH,EAAAA,KAAAiH,WAAA,CACE,SAAA,CAAA7G,EAAAA,IAACN,EAAA,CAAO,KAAMvC,EAAQ,aAAewC,GAAS,CAACA,GAAQvC,EAAA,EACrD,SAAAwC,OAACC,EAAA,CAAc,UAAU,2GAEvB,SAAA,CAAAD,EAAAA,KAAC,MAAA,CAAI,UAAU,2EACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAI,EAAAA,IAAC,OAAI,UAAU,yEACb,eAAC8G,GAAA,CAAW,UAAU,UAAU,CAAA,CAClC,EACAlH,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAI,EAAAA,IAACD,EAAA,CAAY,UAAU,sBAAsB,SAAA,eAAY,EACzDC,EAAAA,IAACE,EAAA,CAAkB,UAAU,UAAU,SAAA,oCAAA,CAAkC,CAAA,CAAA,CAC3E,CAAA,EACF,QACCI,EAAA,CAAO,QAAS,IAAMlD,IAAW,QAAQ,QAAQ,KAAK,OAAO,UAAU,UACtE,SAAA4C,EAAAA,IAAC+G,GAAA,CAAE,UAAU,UAAU,CAAA,CACzB,CAAA,EACF,EAGAnH,EAAAA,KAAC,MAAA,CAAI,UAAU,wEAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CACC,QAAS,IAAMsB,EAAgBD,IAAiB,OAAS,MAAQ,MAAM,EACvE,UAAW,+HACTA,IAAiB,OACb,8FACA,uFACN,GAEA,SAAA,CAAAjB,EAAAA,IAAC,MAAA,CAAI,UAAW,oBAAoBiB,IAAiB,OAAS,eAAiB,cAAc,kBAC3F,SAAAjB,MAACgH,GAAA,CAAS,UAAU,aAAA,CAAc,EACpC,EACApH,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAI,EAAAA,IAAC,MAAA,CAAI,UAAU,yDAAyD,SAAA,WAAQ,EAChFA,EAAAA,IAAC,MAAA,CAAI,UAAU,mCAAoC,SAAAwF,EAAA,CAAU,CAAA,CAAA,CAC/D,CAAA,CAAA,CAAA,EAIF5F,EAAAA,KAAC,MAAA,CACC,QAAS,IAAMsB,EAAgBD,IAAiB,SAAW,MAAQ,QAAQ,EAC3E,UAAW,+HACTA,IAAiB,SACb,wFACA,qFACN,GAEA,SAAA,CAAAjB,EAAAA,IAAC,MAAA,CAAI,UAAW,oBAAoBiB,IAAiB,SAAW,aAAe,YAAY,gBACzF,SAAAjB,MAACiH,GAAA,CAAM,UAAU,aAAA,CAAc,EACjC,EACArH,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAI,EAAAA,IAAC,MAAA,CAAI,UAAU,yDAAyD,SAAA,eAAY,EACpFA,EAAAA,IAAC,MAAA,CAAI,UAAU,iCAAkC,SAAAyF,EAAA,CAAY,CAAA,CAAA,CAC/D,CAAA,CAAA,CAAA,EAIF7F,EAAAA,KAAC,MAAA,CACC,QAAS,IAAMsB,EAAgBD,IAAiB,WAAa,MAAQ,UAAU,EAC/E,UAAW,+HACTA,IAAiB,WACb,iGACA,wFACN,GAEA,SAAA,CAAAjB,EAAAA,IAAC,MAAA,CAAI,UAAW,oBAAoBiB,IAAiB,WAAa,gBAAkB,eAAe,mBACjG,SAAAjB,MAACiH,GAAA,CAAM,UAAU,aAAA,CAAc,EACjC,EACArH,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAI,EAAAA,IAAC,MAAA,CAAI,UAAU,yDAAyD,SAAA,cAAW,EACnFA,EAAAA,IAAC,MAAA,CAAI,UAAU,oCAAqC,SAAA0F,EAAA,CAAc,CAAA,CAAA,CACpE,CAAA,CAAA,CAAA,CACF,EACF,EAGA9F,EAAAA,KAAC,MAAA,CAAI,UAAU,sGACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAI,EAAAA,IAACkH,GAAA,CAAO,UAAU,iEAAA,CAAkE,EACpFlH,EAAAA,IAACI,EAAA,CACC,YAAY,yBACZ,MAAOW,EACP,SAAWV,GAAMW,EAAcX,EAAE,OAAO,KAAK,EAC7C,UAAU,MAAA,CAAA,CACZ,EACF,EACAT,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAA,EAAAA,KAACU,EAAA,CAAO,QAAS,IAAMgC,GAAsB,EAAI,EAAG,QAAQ,UAAU,UAAU,4BAC9E,SAAA,CAAAtC,EAAAA,IAACC,GAAA,CAAM,UAAU,SAAA,CAAU,EAAE,QAAA,EAE/B,EACCW,UACEN,EAAA,CAAO,QAASM,EAAY,QAAQ,UAAU,UAAU,2EACtD,SAAA,CAAAZ,EAAAA,IAACmH,GAAA,CAAK,UAAU,SAAA,CAAU,EAAE,MAAA,EAE/B,EAEFvH,EAAAA,KAACU,EAAA,CAAO,QAAS,IAAMkC,GAAkB,EAAI,EAAG,QAAQ,UAAU,UAAU,4BACzE,SAAA,CAAAxC,EAAAA,IAACgH,GAAA,CAAS,UAAU,SAAA,CAAU,EAAE,YAAA,EAEnC,SACC1G,EAAA,CAAO,QAAS,IAAMyD,GAAA,EAAkB,UAAU,yEACjD,SAAA,CAAA/D,EAAAA,IAACO,GAAA,CAAK,UAAU,SAAA,CAAU,EAAE,eAAA,EAE9B,EACAX,EAAAA,KAACU,EAAA,CACC,QAASqF,GACT,QAAQ,cACR,UAAU,4BAEV,SAAA,CAAA3F,EAAAA,IAACiH,GAAA,CAAM,UAAU,SAAA,CAAU,EAAE,uBAAA,CAAA,CAAA,CAE/B,CAAA,CACF,CAAA,EACF,EAGAjH,EAAAA,IAAC,OAAI,UAAU,2BACZ,WACCA,EAAAA,IAAC,MAAA,CAAI,UAAU,wCACb,SAAAA,EAAAA,IAAC,OAAI,UAAU,gEAAA,CAAiE,EAClF,EACEqF,GAAc,SAAW,EAC3BzF,EAAAA,KAAC,MAAA,CAAI,UAAU,+DACb,SAAA,CAAAI,EAAAA,IAAC8G,GAAA,CAAW,UAAU,2BAAA,CAA4B,EAClD9G,EAAAA,IAAC,KAAE,SAAA,oBAAA,CAAkB,EACrBA,EAAAA,IAACM,EAAA,CAAO,QAAQ,OAAO,QAAS,IAAMyD,GAAA,EAAkB,UAAU,kBAAkB,SAAA,cAAA,CAEpF,CAAA,CAAA,CACF,QAEC,MAAA,CAAI,UAAU,sBACZ,SAAAsB,GAAc,IAAI5F,GACjBO,EAAAA,IAAC,MAAA,CAAkB,UAAW,qEAC5BP,EAAK,WACD,8EACAA,EAAK,OACH,0EACA,iEACR,GACE,SAAAG,EAAAA,KAAC,MAAA,CAAI,UAAU,+CAGb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,4DACb,SAAA,CAAAI,MAAC,MAAA,CAAI,UAAW,6EACdP,EAAK,WACD,wEACAA,EAAK,OACH,oEACA,2DACR,GACG,SAAAA,EAAK,KAAK,OAAO,CAAC,EACrB,SACC,MAAA,CACC,SAAA,CAAAO,EAAAA,IAAC,KAAA,CAAG,UAAU,qDAAsD,SAAAP,EAAK,KAAK,EAC9EG,EAAAA,KAAC,MAAA,CAAI,UAAU,gDACb,SAAA,CAAAI,EAAAA,IAACoH,GAAA,CAAM,UAAU,SAAA,CAAU,EAC3BpH,EAAAA,IAAC,OAAA,CAAK,IAAI,MAAO,WAAK,UAAA,CAAW,CAAA,CAAA,CACnC,CAAA,CAAA,CACF,CAAA,EACF,EAGAJ,EAAAA,KAAC,MAAA,CAAI,UAAU,uFACZ,SAAA,CAAAH,EAAK,YACJG,OAAC,MAAA,CAAI,UAAU,gBACb,SAAA,CAAAA,EAAAA,KAAC,OAAA,CAAK,UAAU,oDAAoD,SAAA,CAAAI,EAAAA,IAACqH,GAAA,CAAK,UAAU,SAAA,CAAU,EAAE,SAAA,EAAO,EACvGrH,EAAAA,IAAC,OAAA,CAAK,UAAU,iCAAkC,WAAK,UAAA,CAAW,CAAA,EACpE,EAEFJ,EAAAA,KAAC,MAAA,CAAI,UAAU,gBACb,SAAA,CAAAA,EAAAA,KAAC,OAAA,CAAK,UAAU,oDAAoD,SAAA,CAAAI,EAAAA,IAACsH,GAAA,CAAK,UAAU,SAAA,CAAU,EAAE,SAAA,EAAO,EACvGtH,EAAAA,IAAC,OAAA,CACC,UAAW,2CAA2CP,EAAK,UAAY,uDAAyD,EAAE,GAClI,QAAUY,GAAM,CACVZ,EAAK,YACPY,EAAE,gBAAA,EACFW,EAAcvB,EAAK,SAAS,EAC5BtB,EAAM,CAAE,YAAa,2BAA2BsB,EAAK,SAAS,GAAI,EAEtE,EACA,MAAOA,EAAK,UAAY,iCAAmC,OAE1D,WAAK,WAAa,GAAA,CAAA,CACrB,EACF,EACAG,EAAAA,KAAC,MAAA,CAAI,UAAU,gBACb,SAAA,CAAAA,EAAAA,KAAC,OAAA,CAAK,UAAU,oDAAoD,SAAA,CAAAI,EAAAA,IAACoH,GAAA,CAAM,UAAU,SAAA,CAAU,EAAE,UAAA,EAAQ,QACxG,OAAA,CAAK,UAAU,cAAe,SAAA3H,EAAK,cAAgB,GAAA,CAAI,CAAA,EAC1D,EACAG,EAAAA,KAAC,MAAA,CAAI,UAAU,gBACb,SAAA,CAAAA,EAAAA,KAAC,OAAA,CAAK,UAAU,oDAAoD,SAAA,CAAAI,EAAAA,IAAChD,GAAA,CAAM,UAAU,SAAA,CAAU,EAAE,KAAA,EAAG,QACnG,OAAA,CAAK,UAAU,cAAe,SAAAyC,EAAK,iBAAmB,GAAA,CAAI,CAAA,EAC7D,EACCA,EAAK,aACJG,OAAC,MAAA,CAAI,UAAU,gBACb,SAAA,CAAAA,EAAAA,KAAC,OAAA,CAAK,UAAU,oDAAoD,SAAA,CAAAI,EAAAA,IAACmH,GAAA,CAAK,UAAU,SAAA,CAAU,EAAE,OAAA,EAAK,EACrGnH,EAAAA,IAAC,OAAA,CAAK,UAAU,cAAe,WAAK,WAAA,CAAY,CAAA,EAClD,EAEFJ,EAAAA,KAAC,MAAA,CAAI,UAAU,gBACb,SAAA,CAAAA,EAAAA,KAAC,OAAA,CAAK,UAAU,oDAAoD,SAAA,CAAAI,EAAAA,IAACgH,GAAA,CAAS,UAAU,SAAA,CAAU,EAAE,WAAA,EAAS,QAC5G,OAAA,CAAK,UAAU,0BAA2B,SAAAO,GAAY9H,EAAK,WAAW,CAAA,CAAE,CAAA,CAAA,CAC3E,CAAA,EACF,EAGAG,EAAAA,KAAC,MAAA,CAAI,UAAU,gEACX,SAAA,CAAAH,EAAK,gBACHO,EAAAA,IAACM,EAAA,CACC,QAAQ,QACR,KAAK,OACL,UAAU,2CACV,QAAS,IAAM,CACb,MAAMkH,EAAU,UAAU/H,EAAK,IAAI;AAAA,kCAAsCA,EAAK,UAAU;AAAA,kBAAsBA,EAAK,WAAW;AAAA,WACxHgI,EAAM,kBAAkBhI,EAAK,cAAc,SAAS,mBAAmB+H,CAAO,CAAC,GACrF,OAAO,KAAKC,EAAK,QAAQ,CAC3B,EACA,MAAM,qBAEN,SAAAzH,EAAAA,IAAC0H,GAAA,CAAc,UAAU,SAAA,CAAU,CAAA,CAAA,EAIxC9H,EAAAA,KAAC,MAAA,CAAI,UAAU,kDACZ,SAAA,CAAAI,EAAAA,IAACM,EAAA,CACC,KAAK,KACL,UAAW,8BACTb,EAAK,OACD,6CACA,mEACN,GACA,QAAS,IAAM2E,GAAc3E,EAAM,EAAI,EACxC,SAAA,OAAA,CAAA,EAGDO,EAAAA,IAACM,EAAA,CACC,KAAK,KACL,QAAQ,cACR,UAAW,8BACT,CAACb,EAAK,QAAU,CAACA,EAAK,WAClB,yCACA,6DACN,GACA,QAAS,IAAM2E,GAAc3E,EAAM,EAAK,EACzC,SAAA,KAAA,CAAA,EAGDO,EAAAA,IAACM,EAAA,CACC,KAAK,KACL,QAAQ,UACR,UAAW,8BACTb,EAAK,WACD,+CACA,sDACN,GACA,QAAS,IAAM+E,GAAmB/E,CAAI,EACvC,SAAA,KAAA,CAAA,CAED,EACH,EAEAG,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAI,MAACM,GAAO,QAAQ,QAAQ,KAAK,OAAO,UAAU,yCAAyC,QAAS,IAAMyD,GAAetE,CAAI,EACvH,SAAAO,EAAAA,IAAC2H,GAAA,CAAM,UAAU,UAAU,EAC7B,QACCrH,EAAA,CAAO,QAAQ,QAAQ,KAAK,OAAO,UAAU,uCAAuC,QAAS,IAAM6D,GAAc1E,EAAK,EAAE,EACvH,eAACgB,GAAA,CAAO,UAAU,UAAU,CAAA,CAC9B,CAAA,CAAA,CACF,CAAA,CAAA,CACH,CAAA,CAAA,CAEF,CAAA,EA3IQhB,EAAK,EA4If,CACD,EACH,CAAA,CAEJ,CAAA,CAAA,CACF,CAAA,CACF,EAGAO,EAAAA,IAAC9C,GAAA,CACC,OAAQmF,GACR,QAAS,IAAMC,GAAsB,EAAK,EAC1C,SAAUzB,CAAA,CAAA,EAIZb,EAAAA,IAAC4H,GAAA,CAAY,KAAM,CAAC,CAACzF,GAAc,aAAexC,GAAS,CAACA,GAAQyC,GAAgB,IAAI,EACtF,gBAACyF,GAAA,CACC,SAAA,CAAAjI,OAACkI,GAAA,CACC,SAAA,CAAA9H,EAAAA,IAAC+H,IAAiB,SAAA,+BAAA,CAA6B,EAC/C/H,EAAAA,IAACgI,IAAuB,SAAA,4CAAA,CAExB,CAAA,EACF,SACCC,GAAA,CACC,SAAA,CAAAjI,EAAAA,IAACkI,IAAkB,SAAA,OAAA,CAAK,QACvBC,GAAA,CAAkB,QAAS/I,GAAc,UAAU,8BAA8B,SAAA,KAAA,CAElF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,EAGAY,EAAAA,IAACN,GAAO,KAAM6C,GAAgB,aAAcC,GAC1C,SAAA5C,EAAAA,KAACC,EAAA,CAAc,UAAU,uCACvB,SAAA,CAAAD,EAAAA,KAACE,EAAA,CAAa,UAAU,eACtB,SAAA,CAAAE,EAAAA,IAACD,GAAY,SAAA,iBAAA,CAAe,EAC5BC,EAAAA,IAACE,GAAkB,SAAA,gCAAA,CAEnB,CAAA,EACF,EAEAN,EAAAA,KAAC,MAAA,CAAI,UAAU,8CAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,kBACb,SAAA,CAAAI,EAAAA,IAACkH,GAAA,CAAO,UAAU,iEAAA,CAAkE,EACpFlH,EAAAA,IAACI,EAAA,CACC,YAAY,kCACZ,MAAOuC,GACP,SAAWtC,GAAMuC,GAAqBvC,EAAE,OAAO,KAAK,EACpD,UAAU,eAAA,CAAA,CACZ,EACF,EAEAT,EAAAA,KAAC,MAAA,CAAI,UAAU,mDACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,mBACb,SAAA,CAAAI,EAAAA,IAACG,GAAM,SAAA,WAAA,CAAS,EAChBP,EAAAA,KAAC,MAAA,CAAI,UAAU,sCACb,SAAA,CAAAI,EAAAA,IAAC,SAAA,CACC,QAAS,IAAMoD,GAAqB,KAAK,EACzC,UAAW,2DACTD,IAAsB,MAAQ,4CAA8C,gCAC9E,GACD,SAAA,MAAA,CAAA,EAGDnD,EAAAA,IAAC,SAAA,CACC,QAAS,IAAMoD,GAAqB,OAAO,EAC3C,UAAW,2DACTD,IAAsB,QAAU,4CAA8C,gCAChF,GACD,SAAA,MAAA,CAAA,CAED,CAAA,CACF,CAAA,EACF,EAEAvD,EAAAA,KAAC,MAAA,CAAI,UAAU,mBACb,SAAA,CAAAI,EAAAA,IAACG,EAAA,CAAO,SAAAgD,IAAsB,MAAQ,aAAe,aAAa,EAClEnD,EAAAA,IAACI,EAAA,CACC,KAAM+C,IAAsB,MAAQ,OAAS,QAC7C,MAAOA,IAAsB,MAAQN,GAAoBA,GAAkB,UAAU,EAAG,CAAC,EACzF,SAAWxC,GAAMyC,GAAqBzC,EAAE,OAAO,KAAK,EACpD,UAAU,UAAA,CAAA,CACZ,EACF,EAEAT,EAAAA,KAAC,MAAA,CAAI,UAAU,YACZ,SAAA,CAAAI,EAAAA,IAAC,MAAA,CAAI,UAAU,yCAAyC,SAAA,gBAAa,QACpE,MAAA,CAAI,UAAU,mCACZ,SAAAuH,GAAYrB,GAAS,OAAO,CAACkC,EAAK,IAAMA,GAAO,EAAE,QAAU,GAAI,CAAC,CAAC,CAAA,CACpE,CAAA,CAAA,CACH,CAAA,CAAA,CACF,CAAA,EACF,EAEApI,EAAAA,IAAC,MAAA,CAAI,UAAU,sCACZ,SAAAkG,GAAS,SAAW,EAClBtG,EAAAA,KAAC,MAAA,CAAI,UAAU,+DACb,SAAA,CAAAI,EAAAA,IAACgH,GAAA,CAAS,UAAU,2BAAA,CAA4B,EAChDhH,EAAAA,IAAC,KAAE,SAAA,mCAAA,CAAiC,CAAA,CAAA,CACtC,SAEAqI,GAAA,CACC,SAAA,CAAArI,MAACsI,GAAA,CAAY,UAAU,uCACrB,SAAA1I,EAAAA,KAAC2I,GAAA,CACC,SAAA,CAAAvI,EAAAA,IAACwI,EAAA,CAAU,UAAU,aAAa,SAAA,UAAO,EACzCxI,EAAAA,IAACwI,EAAA,CAAU,UAAU,aAAa,SAAA,eAAY,EAC9CxI,EAAAA,IAACwI,EAAA,CAAU,UAAU,aAAa,SAAA,SAAM,EACxCxI,EAAAA,IAACwI,EAAA,CAAU,UAAU,UAAA,CAAW,CAAA,CAAA,CAClC,CAAA,CACF,QACCC,GAAA,CACE,SAAAvC,GAAS,IAAKwC,wBACZH,GAAA,CACC,SAAA,CAAAvI,MAAC2I,IAAU,UAAU,kCAClB,UAAA9E,EAAA6E,EAAQ,YAAR,MAAA7E,EAAmB,QAChB,IAAI,KAAK6E,EAAQ,UAAU,QAAU,GAAI,EAAE,eAAe,OAAO,EACjE,OACN,EACA1I,EAAAA,IAAC2I,GAAA,CAAU,UAAU,cAAe,WAAQ,SAAS,QACpDA,GAAA,CAAU,UAAU,2BAA4B,SAAApB,GAAYmB,EAAQ,MAAM,EAAE,EAC7E1I,EAAAA,IAAC2I,IACC,SAAA3I,EAAAA,IAACM,EAAA,CAAO,QAAQ,QAAQ,KAAK,OAAO,UAAU,uCAAuC,QAAS,IAAM0F,GAAoB0C,EAAQ,EAAE,EAChI,eAACjI,GAAA,CAAO,UAAU,SAAA,CAAU,CAAA,CAC9B,CAAA,CACF,CAAA,GAZaiI,EAAQ,EAavB,EACD,CAAA,CACH,CAAA,CAAA,CACF,CAAA,CAEJ,CAAA,CAAA,CACF,CAAA,CACF,EAEA1I,EAAAA,IAACN,GAAO,KAAMuC,GAAoB,aAAcC,EAC9C,SAAAtC,EAAAA,KAACC,EAAA,CAAc,UAAU,WACvB,SAAA,CAAAD,OAACE,EAAA,CACC,SAAA,CAAAE,EAAAA,IAACD,GAAY,SAAA,eAAA,CAAa,SACzBG,EAAA,CAAkB,SAAA,CAAA,2DAEhB,KAAA,EAAG,EAAE,6CAAA,CAAA,CAER,CAAA,EACF,EACAN,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAI,EAAAA,IAACM,EAAA,CAAO,QAAQ,UAAU,QAAS,IAAM4B,EAAsB,EAAK,EAAG,SAAA,OAAA,CAEvE,QACC5B,EAAA,CAAO,QAAQ,cAAc,QAASsF,GAAiB,SAAA,iBAAA,CAExD,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,EAEA5F,EAAAA,IAACN,GAAO,KAAMyB,EAAY,aAAcC,EACtC,SAAAxB,EAAAA,KAACC,EAAA,CAAc,UAAU,wCACvB,SAAA,CAAAG,EAAAA,IAACF,GACC,SAAAE,EAAAA,IAACD,EAAA,CAAa,SAAAsB,EAAc,oBAAsB,gBAAgB,CAAA,CACpE,EACAzB,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAI,EAAAA,IAACG,GAAM,SAAA,OAAA,CAAK,EACZH,EAAAA,IAACI,EAAA,CACC,MAAOmB,EAAS,KAChB,SAAWlB,GAAMmB,EAAY,CAAC,GAAGD,EAAU,KAAMlB,EAAE,OAAO,MAAM,EAChE,YAAY,yBAAA,CAAA,CACd,EACF,EAEAT,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAI,EAAAA,IAACG,GAAM,SAAA,wBAAA,CAAsB,EAC7BH,EAAAA,IAACI,EAAA,CACC,MAAOmB,EAAS,WAChB,SAAWlB,GAAMmB,EAAY,CAAC,GAAGD,EAAU,WAAYlB,EAAE,OAAO,MAAM,EACtE,YAAY,kBACZ,IAAI,KAAA,CAAA,CACN,EACF,EAEAT,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAI,EAAAA,IAACG,GAAM,SAAA,UAAA,CAAQ,EACfH,EAAAA,IAACI,EAAA,CACC,MAAOmB,EAAS,WAChB,SAAWlB,GAAMmB,EAAY,CAAC,GAAGD,EAAU,WAAYlB,EAAE,OAAO,MAAM,EACtE,YAAY,cACZ,IAAI,KAAA,CAAA,CACN,EACF,EACAT,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAI,EAAAA,IAACG,GAAM,SAAA,YAAA,CAAU,EACjBP,EAAAA,KAACgJ,GAAA,CACC,MAAOrH,EAAS,UAChB,cAAgBsH,GAAUrH,EAAY,CAAC,GAAGD,EAAU,UAAWsH,EAAM,EAErE,SAAA,CAAA7I,EAAAA,IAAC8I,GAAA,CAAc,UAAU,kBAAkB,IAAI,MAC7C,SAAA9I,EAAAA,IAAC+I,GAAA,CAAY,YAAY,aAAA,CAAc,CAAA,CACzC,SACCC,GAAA,CACE,SAAA,CAAAxL,GAAa,IAAKgD,UAChByI,GAAA,CAAyB,MAAOzI,EAAK,OACnC,SAAA,CAAAA,EAAK,KAAK,KAAGA,EAAK,OAAO,GAAA,GADXA,EAAK,EAEtB,CACD,EAEAe,EAAS,WAAa,CAAC/D,GAAa,KAAKuF,GAAKA,EAAE,SAAWxB,EAAS,SAAS,GAC5E3B,EAAAA,KAACqJ,GAAA,CAAW,MAAO1H,EAAS,UACzB,SAAA,CAAAA,EAAS,UAAU,aAAA,EACtB,EAED/D,GAAa,SAAW,GAAK,CAAC+D,EAAS,WACtCvB,MAAC,MAAA,CAAI,UAAU,wCAAwC,SAAA,gBAAA,CAAc,CAAA,CAAA,CAEzE,CAAA,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EACF,EAEAJ,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAI,EAAAA,IAACG,GAAM,SAAA,wBAAA,CAAsB,EAC7BH,EAAAA,IAACI,EAAA,CACC,MAAOmB,EAAS,eAChB,SAAWlB,GAAMmB,EAAY,CAAC,GAAGD,EAAU,eAAgBlB,EAAE,OAAO,MAAM,EAC1E,YAAY,kBACZ,IAAI,KAAA,CAAA,CACN,EACF,EAEAT,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAI,EAAAA,IAACG,GAAM,SAAA,gBAAA,CAAc,EACrBH,EAAAA,IAACI,EAAA,CACC,MAAOmB,EAAS,aAChB,SAAWlB,GAAMmB,EAAY,CAAC,GAAGD,EAAU,aAAclB,EAAE,OAAO,MAAM,EACxE,YAAY,gBAAA,CAAA,CACd,EACF,EACAT,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAI,EAAAA,IAACG,GAAM,SAAA,WAAA,CAAS,EAChBH,EAAAA,IAACI,EAAA,CACC,MAAOmB,EAAS,gBAChB,SAAWlB,GAAMmB,EAAY,CAAC,GAAGD,EAAU,gBAAiBlB,EAAE,OAAO,MAAM,EAC3E,YAAY,oBAAA,CAAA,CACd,CAAA,CACF,CAAA,EACF,EAEAT,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAI,EAAAA,IAACG,GAAM,SAAA,qBAAA,CAAmB,EAC1BH,EAAAA,IAACI,EAAA,CACC,MAAOmB,EAAS,YAChB,SAAWlB,GAAMmB,EAAY,CAAC,GAAGD,EAAU,YAAalB,EAAE,OAAO,MAAM,EACvE,YAAY,gBAAA,CAAA,CACd,EACF,EAEAT,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAI,EAAAA,IAACG,GAAM,SAAA,mBAAA,CAAiB,EACxBH,EAAAA,IAACkJ,GAAA,CACC,MAAO3H,EAAS,MAChB,SAAWlB,GAAMmB,EAAY,CAAC,GAAGD,EAAU,MAAOlB,EAAE,OAAO,MAAM,EACjE,YAAY,uBACZ,UAAU,aAAA,CAAA,CACZ,EACF,QAEC,MAAA,CAAI,UAAU,yBACb,SAAAT,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAI,EAAAA,IAACG,GAAM,SAAA,iBAAA,CAAe,EACtBH,EAAAA,IAACI,EAAA,CACC,KAAK,SACL,MAAOmB,EAAS,YAChB,SAAWlB,GAAMmB,EAAY,CAAC,GAAGD,EAAU,YAAalB,EAAE,OAAO,MAAM,EACvE,YAAY,MAAA,CAAA,CACd,CAAA,CACF,CAAA,CAUF,EAEAT,EAAAA,KAAC,MAAA,CAAI,UAAU,wBACb,SAAA,CAAAI,EAAAA,IAACG,GAAM,SAAA,YAAA,CAAU,EACjBP,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAI,EAAAA,IAACM,EAAA,CACC,KAAK,SACL,QAASiB,EAAS,OAAS,UAAY,UACvC,UAAW,UAAUA,EAAS,OAAS,kCAAoC,mDAAmD,GAC9H,QAAS,IAAMC,EAAY,CAAC,GAAGD,EAAU,OAAQ,GAAK,EACvD,SAAA,OAAA,CAAA,EAGDvB,EAAAA,IAACM,EAAA,CACC,KAAK,SACL,QAAUiB,EAAS,OAAqB,UAAZ,UAC5B,UAAW,UAAWA,EAAS,OAAyC,8CAAhC,6BAA6E,GACrH,QAAS,IAAMC,EAAY,CAAC,GAAGD,EAAU,OAAQ,GAAM,EACxD,SAAA,cAAA,CAAA,CAED,CAAA,CACF,CAAA,EACF,EAEA3B,EAAAA,KAAC,MAAA,CAAI,UAAU,kBACb,SAAA,CAAAA,EAAAA,KAACU,EAAA,CAAO,UAAU,sDAAsD,QAAS0D,GAC/E,SAAA,CAAAhE,EAAAA,IAACmJ,GAAA,CAAK,UAAU,cAAA,CAAe,EAAE,KAAA,EAEnC,EACAnJ,EAAAA,IAACM,GAAO,QAAQ,UAAU,QAAS,IAAMc,EAAc,EAAK,EAAG,SAAA,OAAA,CAAK,CAAA,CAAA,CACtE,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,EAGApB,EAAAA,IAACN,GAAO,KAAM+B,EAAsB,aAAcC,EAChD,SAAA9B,EAAAA,KAACC,EAAA,CAAc,UAAU,WACvB,SAAA,CAAAD,OAACE,EAAA,CACC,SAAA,CAAAE,EAAAA,IAACD,GAAY,SAAA,kBAAA,CAAgB,EAC7BC,EAAAA,IAACE,GAAkB,SAAA,mCAAA,CAAiC,CAAA,EACtD,EACAN,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAI,EAAAA,IAACG,GAAM,SAAA,YAAA,CAAU,EACjBH,EAAAA,IAACI,EAAA,CACC,MAAOyB,GACP,SAAWxB,GAAMyB,GAAgBzB,EAAE,OAAO,KAAK,EAC/C,YAAY,eAAA,CAAA,CACd,EACF,EACAT,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAI,EAAAA,IAACG,GAAM,SAAA,QAAA,CAAM,EACbH,EAAAA,IAACI,EAAA,CACC,KAAK,SACL,MAAO2B,GACP,SAAW1B,GAAM2B,GAAkB3B,EAAE,OAAO,KAAK,EACjD,YAAY,MAAA,CAAA,CACd,EACF,EACAT,EAAAA,KAAC,MAAA,CAAI,UAAU,kBACb,SAAA,CAAAI,MAACM,EAAA,CAAO,UAAU,sDAAsD,QAASmE,GAAuB,SAAA,cAExG,EACAzE,EAAAA,IAACM,GAAO,QAAQ,UAAU,QAAS,IAAMoB,EAAwB,EAAK,EAAG,SAAA,OAAA,CAAK,CAAA,CAAA,CAChF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EACF,CAEJ","x_google_ignoreList":[0]}