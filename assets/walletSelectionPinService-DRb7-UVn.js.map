{"version":3,"file":"walletSelectionPinService-DRb7-UVn.js","sources":["../../src/components/PinModal.tsx","../../src/utils/walletSelectionPinService.ts"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\ntype Props = {\r\n  open: boolean;\r\n  onClose: () => void;\r\n  onSubmit: (deviceId: string, pin: string) => void;\r\n  deviceId: string | null;\r\n  recipientMsisdn?: string;\r\n  helperMessage?: string;\r\n};\r\n\r\nexport default function PinModal({ open, onClose, onSubmit, deviceId, recipientMsisdn, helperMessage }: Props) {\r\n  const [pin, setPin] = useState('');\r\n  if (!open) return null;\r\n\r\n  return (\r\n    <div style={backdrop}>\r\n      <div style={modal}>\r\n        <h3>üîê ÿ•ÿØÿÆÿßŸÑ ÿßŸÑÿ±ŸÇŸÖ ÿßŸÑÿ≥ÿ±Ÿä</h3>\r\n        <p style={confirmText}>\r\n          ÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿßŸÑÿ±ŸÇŸÖ ŸÇÿ®ŸÑ ÿßŸÑÿ•ÿ±ÿ≥ÿßŸÑ\r\n          {recipientMsisdn ? (\r\n            <>\r\n              : <span style={{ direction: 'ltr', unicodeBidi: 'plaintext', marginInlineStart: 6, color: '#dc2626', fontWeight: 700 }}>{recipientMsisdn}</span>\r\n            </>\r\n          ) : null}\r\n        </p>\r\n        {helperMessage ? (<p style={hintText}>{helperMessage}</p>) : null}\r\n        \r\n        <input\r\n          type=\"password\"\r\n          value={pin}\r\n          onChange={(e) => setPin(e.target.value)}\r\n          onKeyDown={(e) => {\r\n            if (e.key === 'Enter') {\r\n              if (deviceId) {\r\n                onSubmit(deviceId, pin);\r\n                setPin('');\r\n              }\r\n            }\r\n          }}\r\n          placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\r\n          style={input}\r\n          autoFocus\r\n        />\r\n        <div style={{ display: 'flex', justifyContent: 'flex-end', gap: 10 }}>\r\n          <button onClick={onClose} style={cancelBtn}>ÿ•ŸÑÿ∫ÿßÿ°</button>\r\n          <button\r\n            onClick={() => {\r\n              if (deviceId) {\r\n                onSubmit(deviceId, pin);\r\n                setPin('');\r\n              }\r\n            }}\r\n            style={okBtn}\r\n          >\r\n            ÿ•ÿ±ÿ≥ÿßŸÑ\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst backdrop: React.CSSProperties = {\r\n  position: 'fixed',\r\n  inset: 0 as any,\r\n  background: 'rgba(0,0,0,0.4)',\r\n  display: 'flex',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n  zIndex: 1000,\r\n};\r\n\r\nconst modal: React.CSSProperties = {\r\n  background: '#fff',\r\n  padding: 20,\r\n  borderRadius: 10,\r\n  width: 400,\r\n  boxShadow: '0 10px 30px rgba(0,0,0,0.3)',\r\n};\r\n\r\nconst input: React.CSSProperties = {\r\n  width: '100%',\r\n  padding: 10,\r\n  borderRadius: 8,\r\n  border: '1px solid #ddd',\r\n  marginBottom: 15,\r\n  fontSize: 16,\r\n  textAlign: 'center',\r\n};\r\n\r\nconst okBtn: React.CSSProperties = { background: '#22c55e', color: '#fff', border: 'none', padding: '8px 14px', borderRadius: 6 };\r\nconst cancelBtn: React.CSSProperties = { background: '#f3f4f6', border: 'none', padding: '8px 14px', borderRadius: 6 };\r\n\r\nconst hintText: React.CSSProperties = {\r\n  fontSize: 12,\r\n  color: '#6b7280',\r\n  marginTop: 4,\r\n  marginBottom: 8,\r\n  textAlign: 'right',\r\n};\r\n\r\nconst confirmText: React.CSSProperties = {\r\n  fontSize: 13,\r\n  color: '#111827',\r\n  marginBottom: 6,\r\n  textAlign: 'right',\r\n  fontWeight: 600,\r\n};\r\n","/**\r\n * ÿÆÿØŸÖÿ© ÿ•ÿØÿßÿ±ÿ© ÿ¥ÿ±ÿ∑ ÿ∑ŸÑÿ® ÿßŸÑÿ±ŸÇŸÖ ÿßŸÑÿ≥ÿ±Ÿä ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿä ÿπŸÜÿØ ÿ™ÿ∫ŸäŸäÿ±/ÿßÿÆÿ™Ÿäÿßÿ± ÿßŸÑŸÖÿ≠ŸÅÿ∏ÿ©.\r\n * ÿßŸÑÿ™ÿÆÿ≤ŸäŸÜ ŸÖÿ≠ŸÑŸä ÿπÿ®ÿ± localStorage ŸÖÿπ ŸÖŸÅÿ™ÿßÿ≠ Ÿäÿπÿ™ŸÖÿØ ÿπŸÑŸâ ŸÖÿπÿ±ŸÅ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿπŸÜÿØ ÿ™ŸàŸÅÿ±Ÿá.\r\n */\r\n\r\nconst KEY_BASE = 'wallet_selection_pin_required';\r\n\r\nfunction getKey(userId?: string) {\r\n  return userId ? `${KEY_BASE}_${userId}` : KEY_BASE;\r\n}\r\n\r\nexport const walletSelectionPinService = {\r\n  isEnabled(userId?: string): boolean {\r\n    try {\r\n      const val = localStorage.getItem(getKey(userId));\r\n      return val === 'true';\r\n    } catch {\r\n      return false;\r\n    }\r\n  },\r\n  setEnabled(enabled: boolean, userId?: string): void {\r\n    try {\r\n      localStorage.setItem(getKey(userId), enabled ? 'true' : 'false');\r\n    } catch {}\r\n  }\r\n};"],"names":["PinModal","open","onClose","onSubmit","deviceId","recipientMsisdn","helperMessage","pin","setPin","useState","backdrop","jsxs","modal","jsx","confirmText","Fragment","hintText","e","input","cancelBtn","okBtn","KEY_BASE","getKey","userId","walletSelectionPinService","enabled"],"mappings":"+CAWA,SAAwBA,EAAS,CAAE,KAAAC,EAAM,QAAAC,EAAS,SAAAC,EAAU,SAAAC,EAAU,gBAAAC,EAAiB,cAAAC,GAAwB,CAC7G,KAAM,CAACC,EAAKC,CAAM,EAAIC,EAAAA,SAAS,EAAE,EACjC,OAAKR,QAGF,MAAA,CAAI,MAAOS,EACV,SAAAC,EAAAA,KAAC,MAAA,CAAI,MAAOC,EACV,SAAA,CAAAC,EAAAA,IAAC,MAAG,SAAA,sBAAA,CAAoB,EACxBF,EAAAA,KAAC,IAAA,CAAE,MAAOG,EAAa,SAAA,CAAA,4BAEpBT,EACCM,EAAAA,KAAAI,WAAA,CAAE,SAAA,CAAA,KACEF,EAAAA,IAAC,OAAA,CAAK,MAAO,CAAE,UAAW,MAAO,YAAa,YAAa,kBAAmB,EAAG,MAAO,UAAW,WAAY,GAAA,EAAQ,SAAAR,CAAA,CAAgB,CAAA,CAAA,CAC3I,EACE,IAAA,EACN,EACCC,EAAiBO,EAAAA,IAAC,IAAA,CAAE,MAAOG,EAAW,WAAc,EAAQ,KAE7DH,EAAAA,IAAC,QAAA,CACC,KAAK,WACL,MAAON,EACP,SAAWU,GAAMT,EAAOS,EAAE,OAAO,KAAK,EACtC,UAAYA,GAAM,CACZA,EAAE,MAAQ,SACRb,IACFD,EAASC,EAAUG,CAAG,EACtBC,EAAO,EAAE,EAGf,EACA,YAAY,OACZ,MAAOU,EACP,UAAS,EAAA,CAAA,EAEXP,EAAAA,KAAC,MAAA,CAAI,MAAO,CAAE,QAAS,OAAQ,eAAgB,WAAY,IAAK,EAAA,EAC9D,SAAA,CAAAE,MAAC,SAAA,CAAO,QAASX,EAAS,MAAOiB,EAAW,SAAA,QAAK,EACjDN,EAAAA,IAAC,SAAA,CACC,QAAS,IAAM,CACTT,IACFD,EAASC,EAAUG,CAAG,EACtBC,EAAO,EAAE,EAEb,EACA,MAAOY,EACR,SAAA,OAAA,CAAA,CAED,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,EA/CgB,IAiDpB,CAEA,MAAMV,EAAgC,CACpC,SAAU,QACV,MAAO,EACP,WAAY,kBACZ,QAAS,OACT,eAAgB,SAChB,WAAY,SACZ,OAAQ,GACV,EAEME,EAA6B,CACjC,WAAY,OACZ,QAAS,GACT,aAAc,GACd,MAAO,IACP,UAAW,6BACb,EAEMM,EAA6B,CACjC,MAAO,OACP,QAAS,GACT,aAAc,EACd,OAAQ,iBACR,aAAc,GACd,SAAU,GACV,UAAW,QACb,EAEME,EAA6B,CAAE,WAAY,UAAW,MAAO,OAAQ,OAAQ,OAAQ,QAAS,WAAY,aAAc,CAAA,EACxHD,EAAiC,CAAE,WAAY,UAAW,OAAQ,OAAQ,QAAS,WAAY,aAAc,CAAA,EAE7GH,EAAgC,CACpC,SAAU,GACV,MAAO,UACP,UAAW,EACX,aAAc,EACd,UAAW,OACb,EAEMF,EAAmC,CACvC,SAAU,GACV,MAAO,UACP,aAAc,EACd,UAAW,QACX,WAAY,GACd,ECxGMO,EAAW,gCAEjB,SAASC,EAAOC,EAAiB,CAC/B,OAAOA,EAAS,GAAGF,CAAQ,IAAIE,CAAM,GAAKF,CAC5C,CAEO,MAAMG,EAA4B,CACvC,UAAUD,EAA0B,CAClC,GAAI,CAEF,OADY,aAAa,QAAQD,EAAOC,CAAM,CAAC,IAChC,MACjB,MAAQ,CACN,MAAO,EACT,CACF,EACA,WAAWE,EAAkBF,EAAuB,CAClD,GAAI,CACF,aAAa,QAAQD,EAAOC,CAAM,EAAGE,EAAU,OAAS,OAAO,CACjE,MAAQ,CAAC,CACX,CACF"}