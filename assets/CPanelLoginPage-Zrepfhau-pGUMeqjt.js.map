{"version":3,"file":"CPanelLoginPage-Zrepfhau-pGUMeqjt.js","sources":["../../assets/CPanelLoginPage-Zrepfhau.js"],"sourcesContent":["import{r as n,u as N,a as b,j as e,t as C,I as f,v as L,E as S,w as E,A as P,C as a,L as h,f as k,H as I,y as A,i as D,s as p}from\"./index-tnWDkOuX.js\";import{L as x}from\"./label-_mnIMROJ.js\";import{C as q,a as F,b as H,c as R,d as T}from\"./card-SlwaggFS.js\";import{S as M}from\"./shield-DSoskD-c.js\";const G=()=>{const[l,m]=n.useState(\"\"),[o,g]=n.useState(\"\"),[c,j]=n.useState(!1),[d,u]=n.useState(!1),{signIn:w}=N(),y=b();n.useEffect(()=>{try{const s=typeof window<\"u\"?window.localStorage.getItem(\"cashy:lastEmail\"):null;s&&m(s)}catch{}},[]);const v=async s=>{var i;if(s.preventDefault(),d){a.info(\"جارٍ تنفيذ تسجيل الدخول، يرجى الانتظار...\");return}if(typeof navigator<\"u\"&&navigator.onLine===!1){a.error(\"لا يوجد اتصال بالإنترنت. يرجى التأكد من الشبكة ثم المحاولة.\");return}if(!l||!o){a.error(\"يرجى إدخال البريد الإلكتروني وكلمة المرور\");return}u(!0);try{const{error:t}=await w(l,o);if(t){const r=t==null?void 0:t.code;r===\"auth/invalid-email\"?a.error(\"صيغة البريد الإلكتروني غير صحيحة\"):r===\"auth/user-not-found\"?a.error(\"لا يوجد حساب بهذا البريد الإلكتروني\"):r===\"auth/wrong-password\"?a.error(\"كلمة المرور غير صحيحة\"):r===\"auth/invalid-credential\"?a.error(\"البريد الإلكتروني أو كلمة المرور غير صحيحة\"):r===\"auth/too-many-requests\"?a.error(\"تم تجاوز عدد المحاولات المسموح، حاول لاحقاً\"):a.error((t==null?void 0:t.message)||\"حدث خطأ أثناء تسجيل الدخول\");return}try{const r=(i=k.currentUser)==null?void 0:i.uid;r&&await I(A(D,\"users\",r),{branchPackage:{requested:!0,status:\"pending\",requestedAt:p()},updatedAt:p()},{merge:!0})}catch(r){console.warn(\"تعذر وسم المستخدم كباقة فروع:\",r)}a.success(\"تم تسجيل الدخول بنجاح\"),y(\"/cpanel\")}catch(t){a.error((t==null?void 0:t.message)||\"فشل تسجيل الدخول، حاول مرة أخرى\")}finally{u(!1)}};return e.jsx(\"div\",{className:\"min-h-screen bg-background px-4 py-8 flex items-center justify-center\",children:e.jsxs(q,{className:\"w-full max-w-md\",children:[e.jsxs(F,{children:[e.jsxs(\"div\",{className:\"flex items-center gap-2\",children:[e.jsx(M,{className:\"w-6 h-6\"}),e.jsx(H,{children:\"تسجيل دخول لوحة التحكم\"})]}),e.jsx(R,{children:\"ادخل باستخدام بريدك الإلكتروني وكلمة المرور\"})]}),e.jsx(T,{children:e.jsxs(\"form\",{onSubmit:v,className:\"space-y-4\",children:[e.jsxs(\"div\",{className:\"space-y-2\",children:[e.jsx(x,{htmlFor:\"email\",children:\"البريد الإلكتروني\"}),e.jsxs(\"div\",{className:\"relative\",children:[e.jsx(C,{className:\"absolute right-3 top-2.5 w-5 h-5 text-muted-foreground\"}),e.jsx(f,{id:\"email\",type:\"email\",value:l,onChange:s=>{const i=s.target.value;m(i);try{window.localStorage.setItem(\"cashy:lastEmail\",i)}catch{}},placeholder:\"example@mail.com\",className:\"pr-10\"})]})]}),e.jsxs(\"div\",{className:\"space-y-2\",children:[e.jsx(x,{htmlFor:\"password\",children:\"كلمة المرور\"}),e.jsxs(\"div\",{className:\"relative\",children:[e.jsx(L,{className:\"absolute right-3 top-2.5 w-5 h-5 text-muted-foreground\"}),e.jsx(f,{id:\"password\",type:c?\"text\":\"password\",value:o,onChange:s=>g(s.target.value),placeholder:\"••••••••\",className:\"pr-10\"}),e.jsx(\"button\",{type:\"button\",onClick:()=>j(s=>!s),className:\"absolute left-3 top-2.5 text-muted-foreground\",\"aria-label\":c?\"إخفاء كلمة المرور\":\"إظهار كلمة المرور\",children:c?e.jsx(S,{className:\"w-5 h-5\"}):e.jsx(E,{className:\"w-5 h-5\"})})]})]}),e.jsx(\"button\",{type:\"submit\",onClick:s=>{d?(s.preventDefault(),s.stopPropagation(),a.info(\"جارٍ تنفيذ تسجيل الدخول، يرجى الانتظار...\")):typeof navigator<\"u\"&&navigator.onLine===!1?(s.preventDefault(),s.stopPropagation(),a.error(\"لا يوجد اتصال بالإنترنت. يرجى التأكد من الشبكة ثم المحاولة.\")):(l||a.error(\"يرجى إدخال البريد الإلكتروني\"),o||a.error(\"يرجى إدخال كلمة المرور\"))},className:\"w-full inline-flex items-center justify-center gap-2 rounded-md bg-primary px-4 py-2 text-white hover:opacity-90\",children:d?e.jsxs(\"div\",{className:\"flex items-center\",children:[e.jsx(\"div\",{className:\"animate-spin rounded-full h-5 w-5 border-b-2 border-white ml-2\"}),\"جاري تسجيل الدخول...\"]}):e.jsxs(\"div\",{className:\"flex items-center justify-center\",children:[e.jsx(P,{className:\"w-5 h-5 ml-2\"}),\"تسجيل الدخول\"]})}),e.jsxs(\"div\",{className:\"mt-4 text-center space-y-3\",children:[e.jsx(\"p\",{className:\"text-sm text-muted-foreground\",children:\"نسيت كلمة المرور؟\"}),e.jsxs(\"div\",{className:\"flex items-center justify-center gap-2\",children:[e.jsx(h,{to:\"/user/forgot-password\",className:\"text-primary text-sm\",children:\"إعادة تعيين كلمة المرور\"}),e.jsx(\"span\",{className:\"text-muted-foreground\",children:\"•\"}),e.jsx(h,{to:\"/auth?mode=signup\",className:\"text-primary text-sm\",children:\"إنشاء حساب جديد\"})]})]})]})})]})})};export{G as default};\r\n//# sourceMappingURL=CPanelLoginPage-Zrepfhau.js.map\r\n"],"names":["G","l","n","o","g","c","j","u","w","N","b","v","i","a","t","r","k","I","A","D","p","e","q","F","M","H","R","T","x","C","f","L","S","E","P","h"],"mappings":"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"}