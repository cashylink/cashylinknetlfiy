import{a0 as p,b7 as m,R as w,b8 as f,j as a,ah as b,ai as h,aj as y,ak as g,B as x,ax as v}from"./index-CgV0sHeM.js";/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],I=p("circle-play",j),E=({isOpen:i,onClose:s,videoUrl:r,title:l="فيديو توضيحي",className:d})=>{const u=(e=>{try{let t="";if(e.includes("youtube.com/watch?v=")){t=e.split("v=")[1];const o=t.indexOf("&");o!==-1&&(t=t.substring(0,o))}else if(e.includes("youtu.be/"))t=e.split("youtu.be/")[1];else if(e.includes("youtube.com/embed/"))return e;return t?`https://www.youtube.com/embed/${t}?autoplay=1&rel=0`:e}catch(t){return console.error("Error parsing video URL:",t),e}})(r),n=typeof window<"u"&&"electronAPI"in window,c=m.isNativePlatform();return w.useEffect(()=>{if(i){if(n){let e=r;e.includes("/embed/")&&(e=`https://www.youtube.com/watch?v=${e.split("/embed/")[1].split("?")[0]}`),window.electronAPI.openVideoWindow(e),s();return}if(c){let e=r;e.includes("/embed/")&&(e=`https://www.youtube.com/watch?v=${e.split("/embed/")[1].split("?")[0]}`),f.openUrl({url:e}).catch(async()=>{window.open(e,"_system")}),s();return}}},[i,n,c,r,s]),n||c?null:a.jsx(b,{open:i,onOpenChange:e=>!e&&s(),children:a.jsxs(h,{className:`sm:max-w-4xl p-0 overflow-hidden bg-black/95 border-gray-800 ${d||""}`,children:[a.jsxs(y,{className:"p-4 flex flex-row items-center justify-between absolute top-0 left-0 right-0 z-10 bg-gradient-to-b from-black/80 to-transparent pointer-events-none",children:[a.jsx(g,{className:"text-white text-shadow-sm pointer-events-auto",children:l}),a.jsx(x,{variant:"ghost",size:"icon",onClick:s,className:"text-white hover:bg-white/20 rounded-full h-8 w-8 pointer-events-auto",children:a.jsx(v,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"relative w-full aspect-video bg-black",children:a.jsx("iframe",{src:u,title:l,className:"absolute top-0 left-0 w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,referrerPolicy:"no-referrer"})})]})})};export{I as C,E as V};
//# sourceMappingURL=VideoModal-3NrJTmLh.js.map
