import{u as a,a as o,r as i,j as r}from"./index-BwuekbvX.js";const d=()=>{const{user:s,profile:e,loading:t}=a(),n=o();return i.useEffect(()=>{if(console.log("Index: useEffect triggered",{loading:t,user:s==null?void 0:s.uid,profile:e==null?void 0:e.role}),!t)if(!s)console.log("Index: No user, navigating to landing"),n("/landing");else if(e){if(console.log("Index: Profile found, navigating based on role:",e.role),e.role==="user"){n("/user/dashboard");return}e.role==="merchant"?n("/merchant"):(n("/landing"),console.log("User role not supported:",e.role))}else console.log("Index: User exists but no profile yet, waiting...")},[s,e,t,n]),t?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"h-8 w-8 animate-spin border-4 border-primary border-r-transparent rounded-full mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"جاري التحميل..."})]})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"h-8 w-8 animate-spin border-4 border-primary border-r-transparent rounded-full mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"جاري إعداد الحساب..."})]})})};export{d as default};
//# sourceMappingURL=Index-CTLC0Aj-.js.map
