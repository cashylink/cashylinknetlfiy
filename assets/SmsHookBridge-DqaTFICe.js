import{a1 as g,r as u,j as p}from"./index-gOTNP7ME.js";const y=()=>{const i=g();return u.useEffect(()=>{const e=new URLSearchParams(i.search),r=e.get("text")||e.get("body")||e.get("message")||"",n=e.get("type")||void 0,c=e.get("amount")||void 0,a=e.get("receiver")||e.get("to")||void 0,d=e.get("sender")||e.get("from")||void 0,m=e.get("provider")||void 0,o={};r&&(o.text=r);const t={};n&&(t.type=n),c&&(t.amount=c),a&&(t.receiverMsisdn=a),d&&(t.senderMsisdn=d),m&&(t.provider=m),Object.keys(t).length>0&&(o.payload=t);const s=()=>{try{window.dispatchEvent(new CustomEvent("mobileSmsReceived",{detail:o}))}catch(f){console.error("Dispatch mobileSmsReceived failed:",f)}};s();const v=setTimeout(s,600),l=setTimeout(s,1500);return()=>{clearTimeout(v),clearTimeout(l)}},[i.search]),p.jsx("div",{style:{padding:16},children:p.jsx("p",{children:"تم استقبال رسالة SMS، جارٍ معالجتها وإضافتها للتقارير..."})})};export{y as default};
