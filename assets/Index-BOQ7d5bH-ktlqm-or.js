import{W as l,C as a,I as r,S as t}from"./index-BsVRzvOf.js";const d=()=>{const{user:s,profile:e,loading:o}=l(),n=a();return t.useEffect(()=>{if(console.log("Index: useEffect triggered",{loading:o,user:s==null?void 0:s.uid,profile:e==null?void 0:e.role}),!o)if(!s)console.log("Index: No user, navigating to landing"),n("/landing");else if(e){if(console.log("Index: Profile found, navigating based on role:",e.role),e.role==="user"){n("/user/dashboard");return}e.role==="merchant"?n("/merchant"):(n("/landing"),console.log("User role not supported:",e.role))}else console.log("Index: User exists but no profile yet, waiting...")},[s,e,o,n]),o?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"h-8 w-8 animate-spin border-4 border-primary border-r-transparent rounded-full mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"جاري التحميل..."})]})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"h-8 w-8 animate-spin border-4 border-primary border-r-transparent rounded-full mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"جاري إعداد الحساب..."})]})})};export{d as default};
//# sourceMappingURL=Index-BOQ7d5bH-ktlqm-or.js.map
