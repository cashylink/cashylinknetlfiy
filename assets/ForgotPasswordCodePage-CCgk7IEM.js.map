{"version":3,"file":"ForgotPasswordCodePage-CCgk7IEM.js","sources":["../../src/pages/ForgotPasswordCodePage.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { sendPasswordResetEmail } from 'firebase/auth';\r\nimport { auth } from '@/firebase';\r\n\r\nconst ForgotPasswordCodePage: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const [email, setEmail] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState<string | null>(null);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const handleSendReset = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setMessage(null);\r\n    setError(null);\r\n    try {\r\n      await sendPasswordResetEmail(auth, email.trim());\r\n      setMessage('تم إرسال رابط إعادة تعيين كلمة المرور إلى بريدك الإلكتروني.');\r\n    } catch (err: any) {\r\n      console.error('ForgotPassword error:', err);\r\n      setError(\r\n        err?.message === 'Firebase: Error (auth/invalid-email).'\r\n          ? 'البريد الإلكتروني غير صالح'\r\n          : 'حدث خطأ أثناء إرسال رابط الاستعادة، حاول مرة أخرى'\r\n      );\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 p-4\">\r\n      <div className=\"bg-white rounded-lg shadow-lg w-full max-w-md p-6\">\r\n        <h1 className=\"text-2xl font-bold text-gray-800 mb-2\">استعادة كلمة المرور</h1>\r\n        <p className=\"text-sm text-gray-600 mb-6\">\r\n          أدخل بريدك الإلكتروني لإرسال رابط إعادة تعيين كلمة المرور.\r\n        </p>\r\n\r\n        {message && (\r\n          <div className=\"mb-4 rounded-md bg-green-50 border border-green-200 p-3 text-green-700 text-sm\">\r\n            {message}\r\n          </div>\r\n        )}\r\n        {error && (\r\n          <div className=\"mb-4 rounded-md bg-red-50 border border-red-200 p-3 text-red-700 text-sm\">\r\n            {error}\r\n          </div>\r\n        )}\r\n\r\n        <form onSubmit={handleSendReset} className=\"space-y-4\">\r\n          <div>\r\n            <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              البريد الإلكتروني\r\n            </label>\r\n            <input\r\n              id=\"email\"\r\n              type=\"email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              className=\"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n              placeholder=\"example@email.com\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            disabled={loading}\r\n            className=\"w-full bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition-colors disabled:opacity-60\"\r\n          >\r\n            {loading ? 'جارٍ الإرسال...' : 'إرسال رابط الاستعادة'}\r\n          </button>\r\n        </form>\r\n\r\n        <button\r\n          onClick={() => navigate('/user/login')}\r\n          className=\"mt-4 w-full bg-gray-100 text-gray-800 px-4 py-2 rounded-md hover:bg-gray-200 transition-colors\"\r\n        >\r\n          العودة لتسجيل الدخول\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ForgotPasswordCodePage;"],"names":["ForgotPasswordCodePage","navigate","useNavigate","email","setEmail","useState","loading","setLoading","message","setMessage","error","setError","handleSendReset","e","sendPasswordResetEmail","auth","err","jsxs","jsx"],"mappings":"oEAKA,MAAMA,EAAmC,IAAM,CAC7C,MAAMC,EAAWC,EAAA,EACX,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAAS,EAAE,EAC/B,CAACC,EAASC,CAAU,EAAIF,EAAAA,SAAS,EAAK,EACtC,CAACG,EAASC,CAAU,EAAIJ,EAAAA,SAAwB,IAAI,EACpD,CAACK,EAAOC,CAAQ,EAAIN,EAAAA,SAAwB,IAAI,EAEhDO,EAAkB,MAAOC,GAAuB,CACpDA,EAAE,eAAA,EACFN,EAAW,EAAI,EACfE,EAAW,IAAI,EACfE,EAAS,IAAI,EACb,GAAI,CACF,MAAMG,EAAuBC,EAAMZ,EAAM,KAAA,CAAM,EAC/CM,EAAW,6DAA6D,CAC1E,OAASO,EAAU,CACjB,QAAQ,MAAM,wBAAyBA,CAAG,EAC1CL,GACEK,GAAA,YAAAA,EAAK,WAAY,wCACb,6BACA,mDAAA,CAER,QAAA,CACET,EAAW,EAAK,CAClB,CACF,EAEA,aACG,MAAA,CAAI,UAAU,+DACb,SAAAU,EAAAA,KAAC,MAAA,CAAI,UAAU,oDACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,wCAAwC,SAAA,sBAAmB,EACzEA,EAAAA,IAAC,IAAA,CAAE,UAAU,6BAA6B,SAAA,6DAE1C,EAECV,GACCU,EAAAA,IAAC,MAAA,CAAI,UAAU,iFACZ,SAAAV,EACH,EAEDE,GACCQ,EAAAA,IAAC,MAAA,CAAI,UAAU,2EACZ,SAAAR,EACH,EAGFO,EAAAA,KAAC,OAAA,CAAK,SAAUL,EAAiB,UAAU,YACzC,SAAA,CAAAK,OAAC,MAAA,CACC,SAAA,CAAAC,MAAC,QAAA,CAAM,QAAQ,QAAQ,UAAU,+CAA+C,SAAA,oBAEhF,EACAA,EAAAA,IAAC,QAAA,CACC,GAAG,QACH,KAAK,QACL,MAAOf,EACP,SAAWU,GAAMT,EAASS,EAAE,OAAO,KAAK,EACxC,UAAU,mHACV,YAAY,oBACZ,SAAQ,EAAA,CAAA,CACV,EACF,EAEAK,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,SAAUZ,EACV,UAAU,iHAET,WAAU,kBAAoB,sBAAA,CAAA,CACjC,EACF,EAEAY,EAAAA,IAAC,SAAA,CACC,QAAS,IAAMjB,EAAS,aAAa,EACrC,UAAU,iGACX,SAAA,sBAAA,CAAA,CAED,CAAA,CACF,CAAA,CACF,CAEJ"}