import{r as h,j as e,a5 as D,a6 as S,a7 as F,a8 as O,B as n}from"./index-bCWIXU_s.js";import{C as A}from"./formatters-Czs80nJy.js";function P({isOpen:d,onClose:k}){const[l,i]=h.useState("0"),[r,m]=h.useState(null),[c,u]=h.useState(null),[x,g]=h.useState(!1),s=a=>{x?(i(a),g(!1)):i(l==="0"?a:l+a)},o=a=>{const t=parseFloat(l);if(r===null)m(t);else if(c){const N=f(r||0,t,c);i(String(N)),m(N)}g(!0),u(a)},f=(a,t,w)=>{switch(w){case"+":return a+t;case"-":return a-t;case"×":return a*t;case"÷":return t===0?0:a/t;case"=":return t;default:return t}},v=()=>{const a=parseFloat(l);if(r!==null&&c){const t=f(r,a,c);i(String(t)),m(null),u(null),g(!0)}},j=()=>{i("0"),m(null),u(null),g(!1)},p=()=>{i("0")},y=()=>{x?(i("0."),g(!1)):l.indexOf(".")===-1&&i(l+".")},E=()=>{l!=="0"&&i(l.charAt(0)==="-"?l.slice(1):"-"+l)},C=()=>{const a=parseFloat(l);i(String(a/100))},b=a=>{const t=a.key;a.preventDefault(),t>="0"&&t<="9"?s(t):t==="+"?o("+"):t==="-"?o("-"):t==="*"?o("×"):t==="/"?o("÷"):t==="Enter"||t==="="?v():t==="Escape"||t==="c"||t==="C"?j():t==="Backspace"?p():t==="."?y():t==="%"&&C()};return h.useEffect(()=>(d?document.addEventListener("keydown",b):document.removeEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}),[d,l,r,c,x]),e.jsx(D,{open:d,onOpenChange:a=>!a&&k(),children:e.jsxs(S,{className:"sm:max-w-md",children:[e.jsx(F,{children:e.jsxs(O,{className:"flex items-center gap-2 text-right",children:[e.jsx(A,{className:"h-5 w-5"}),"آلة حاسبة"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-gray-900 text-white p-4 rounded-lg text-right",children:e.jsx("div",{className:"text-3xl font-mono font-bold min-h-[3rem] flex items-center justify-end overflow-hidden",children:l})}),e.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[e.jsx(n,{variant:"outline",className:"h-12 text-sm font-semibold bg-gray-100 hover:bg-gray-200",onClick:j,children:"AC"}),e.jsx(n,{variant:"outline",className:"h-12 text-sm font-semibold bg-gray-100 hover:bg-gray-200",onClick:p,children:"CE"}),e.jsx(n,{variant:"outline",className:"h-12 text-sm font-semibold bg-gray-100 hover:bg-gray-200",onClick:C,children:"%"}),e.jsx(n,{variant:"outline",className:"h-12 text-sm font-semibold bg-orange-500 text-white hover:bg-orange-600",onClick:()=>o("÷"),children:"÷"}),e.jsx(n,{variant:"outline",className:"h-12 text-lg font-semibold bg-white hover:bg-gray-50",onClick:()=>s("7"),children:"7"}),e.jsx(n,{variant:"outline",className:"h-12 text-lg font-semibold bg-white hover:bg-gray-50",onClick:()=>s("8"),children:"8"}),e.jsx(n,{variant:"outline",className:"h-12 text-lg font-semibold bg-white hover:bg-gray-50",onClick:()=>s("9"),children:"9"}),e.jsx(n,{variant:"outline",className:"h-12 text-sm font-semibold bg-orange-500 text-white hover:bg-orange-600",onClick:()=>o("×"),children:"×"}),e.jsx(n,{variant:"outline",className:"h-12 text-lg font-semibold bg-white hover:bg-gray-50",onClick:()=>s("4"),children:"4"}),e.jsx(n,{variant:"outline",className:"h-12 text-lg font-semibold bg-white hover:bg-gray-50",onClick:()=>s("5"),children:"5"}),e.jsx(n,{variant:"outline",className:"h-12 text-lg font-semibold bg-white hover:bg-gray-50",onClick:()=>s("6"),children:"6"}),e.jsx(n,{variant:"outline",className:"h-12 text-sm font-semibold bg-orange-500 text-white hover:bg-orange-600",onClick:()=>o("-"),children:"-"}),e.jsx(n,{variant:"outline",className:"h-12 text-lg font-semibold bg-white hover:bg-gray-50",onClick:()=>s("1"),children:"1"}),e.jsx(n,{variant:"outline",className:"h-12 text-lg font-semibold bg-white hover:bg-gray-50",onClick:()=>s("2"),children:"2"}),e.jsx(n,{variant:"outline",className:"h-12 text-lg font-semibold bg-white hover:bg-gray-50",onClick:()=>s("3"),children:"3"}),e.jsx(n,{variant:"outline",className:"h-12 text-sm font-semibold bg-orange-500 text-white hover:bg-orange-600",onClick:()=>o("+"),children:"+"}),e.jsx(n,{variant:"outline",className:"h-12 text-lg font-semibold bg-white hover:bg-gray-50 col-span-2",onClick:()=>s("0"),children:"0"}),e.jsx(n,{variant:"outline",className:"h-12 text-lg font-semibold bg-white hover:bg-gray-50",onClick:y,children:"."}),e.jsx(n,{variant:"outline",className:"h-12 text-sm font-semibold bg-orange-500 text-white hover:bg-orange-600",onClick:v,children:"="})]}),e.jsx(n,{variant:"outline",className:"w-full h-10 text-sm font-semibold bg-gray-100 hover:bg-gray-200",onClick:E,children:"+/-"})]})]})})}export{P as CalculatorDialog,P as default};
//# sourceMappingURL=CalculatorDialog-BW1MBUvd.js.map
