{"version":3,"file":"AuthTestPage-DIITkwbv-xUUTcmQe.js","sources":["../../assets/AuthTestPage-DIITkwbv.js"],"sourcesContent":["import{u as D,r as o,j as s,I as g,B as h,f as r,y as x,i as f,K as p,H as w}from\"./index-tnWDkOuX.js\";import{C as S,a as T,b as A,d as I}from\"./card-SlwaggFS.js\";import{L as j}from\"./label-_mnIMROJ.js\";function V(){const{user:t,profile:i,loading:a,signIn:U}=D(),[v,y]=o.useState(null),[n,C]=o.useState(\"alkaptin7878@mail.ru\"),[c,b]=o.useState(\"01123456\");o.useEffect(()=>{const e=()=>{y({contextUser:t?{uid:t.uid,email:t.email,emailVerified:t.emailVerified}:null,contextProfile:i,contextLoading:a,firebaseCurrentUser:r.currentUser?{uid:r.currentUser.uid,email:r.currentUser.email,emailVerified:r.currentUser.emailVerified}:null,timestamp:new Date().toISOString()})};e();const l=setInterval(e,2e3);return()=>clearInterval(l)},[t,i,a]);const N=async()=>{console.log(\"ðŸ§ª Testing login with:\",{email:n,password:\"***\"});try{const e=await U(n,c);console.log(\"ðŸ§ª Login result:\",e)}catch(e){console.error(\"ðŸ§ª Login error:\",e)}},F=async()=>{console.log(\"ðŸ”¥ Testing Firestore connection...\"),console.log(\"ðŸ” Current auth state:\",{user:t?{uid:t.uid,email:t.email}:null,firebaseCurrentUser:r.currentUser?{uid:r.currentUser.uid,email:r.currentUser.email}:null});try{if(!t&&!r.currentUser){console.log(\"âŒ No user logged in - please login first\"),alert(\"ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹ Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ù…Ø¹ Firestore\");return}const e=t||r.currentUser;console.log(\"âœ… Using user:\",e==null?void 0:e.email),console.log(\"ðŸ“– Testing user document read...\");const l=x(f,\"users\",e.uid),d=await p(l);d.exists()?console.log(\"âœ… User document exists:\",d.data()):(console.log(\"âš ï¸ User document does not exist, creating...\"),await w(l,{email:e.email,uid:e.uid,createdAt:new Date,role:\"user\",isActive:!0}),console.log(\"âœ… User document created\")),console.log(\"ðŸ“– Testing merchant wallet read...\");const u=x(f,\"merchantWallets\",`test_${e.uid}`),m=await p(u);m.exists()?console.log(\"âœ… Wallet document exists:\",m.data()):(console.log(\"âš ï¸ Wallet document does not exist, creating test wallet...\"),await w(u,{merchantUserId:e.uid,walletName:\"Ù…Ø­ÙØ¸Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ©\",balance:0,createdAt:new Date}),console.log(\"âœ… Test wallet created\")),console.log(\"ðŸŽ‰ Firestore connection test completed successfully!\"),alert(\"ØªÙ… Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ù…Ø¹ Firestore Ø¨Ù†Ø¬Ø§Ø­! ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ­Ø¯Ø© Ø§Ù„ØªØ­ÙƒÙ… Ù„Ù„ØªÙØ§ØµÙŠÙ„\")}catch(e){console.error(\"âŒ Firestore connection error:\",e),alert(`Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ù…Ø¹ Firestore: ${e.message}`)}};return s.jsx(\"div\",{className:\"min-h-screen bg-background p-6\",children:s.jsx(\"div\",{className:\"max-w-4xl mx-auto space-y-6\",children:s.jsxs(S,{children:[s.jsx(T,{children:s.jsx(A,{children:\"ðŸ” Ø§Ø®ØªØ¨Ø§Ø± Ø­Ø§Ù„Ø© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©\"})}),s.jsxs(I,{className:\"space-y-4\",children:[s.jsxs(\"div\",{className:\"space-y-2\",children:[s.jsx(j,{htmlFor:\"email\",children:\"Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ\"}),s.jsx(g,{id:\"email\",type:\"email\",value:n,onChange:e=>C(e.target.value),placeholder:\"Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ\"})]}),s.jsxs(\"div\",{className:\"space-y-2\",children:[s.jsx(j,{htmlFor:\"password\",children:\"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±\"}),s.jsx(g,{id:\"password\",type:\"password\",value:c,onChange:e=>b(e.target.value),placeholder:\"Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±\"})]}),s.jsx(h,{onClick:N,className:\"w-full\",disabled:a,children:a?\"Ø¬Ø§Ø±ÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„...\":\"ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ ØªØ¬Ø±ÙŠØ¨ÙŠ\"}),t&&s.jsx(h,{onClick:F,className:\"w-full\",variant:\"outline\",children:\"Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ù…Ø¹ Firestore\"}),s.jsxs(\"div\",{className:\"bg-gray-100 p-4 rounded-lg\",children:[s.jsx(\"h3\",{className:\"font-bold mb-2\",children:\"Ø­Ø§Ù„Ø© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©:\"}),s.jsx(\"pre\",{className:\"text-sm overflow-auto\",children:JSON.stringify(v,null,2)})]})]})]})})})}export{V as default};\r\n//# sourceMappingURL=AuthTestPage-DIITkwbv.js.map\r\n"],"names":["V","t","i","a","U","D","o","C","c","b","r","l","N","F","x","f","p","w","s","S","T","A","I","j","g","h"],"mappings":"6NAA2M,SAASA,GAAG,CAAC,KAAK,CAAC,KAAKC,EAAE,QAAQC,EAAE,QAAQC,EAAE,OAAOC,CAAC,EAAEC,EAAC,EAAG,CAAC,EAAE,CAAC,EAAEC,EAAE,SAAS,IAAI,EAAE,CAAC,EAAEC,CAAC,EAAED,EAAE,SAAS,sBAAsB,EAAE,CAACE,EAAEC,CAAC,EAAEH,EAAE,SAAS,UAAU,EAAEA,EAAE,UAAU,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,EAAE,CAAC,YAAYL,EAAE,CAAC,IAAIA,EAAE,IAAI,MAAMA,EAAE,MAAM,cAAcA,EAAE,aAAa,EAAE,KAAK,eAAeC,EAAE,eAAeC,EAAE,oBAAoBO,EAAE,YAAY,CAAC,IAAIA,EAAE,YAAY,IAAI,MAAMA,EAAE,YAAY,MAAM,cAAcA,EAAE,YAAY,aAAa,EAAE,KAAK,UAAU,IAAI,KAAI,EAAG,YAAW,CAAE,CAAC,CAAC,EAAE,IAAI,MAAMC,EAAE,YAAY,EAAE,GAAG,EAAE,MAAM,IAAI,cAAcA,CAAC,CAAC,EAAE,CAACV,EAAEC,EAAEC,CAAC,CAAC,EAAE,MAAMS,EAAE,SAAS,CAAC,QAAQ,IAAI,yBAAyB,CAAC,MAAM,EAAE,SAAS,KAAK,CAAC,EAAE,GAAG,CAAC,MAAM,EAAE,MAAMR,EAAE,EAAEI,CAAC,EAAE,QAAQ,IAAI,mBAAmB,CAAC,CAAC,OAAO,EAAE,CAAC,QAAQ,MAAM,kBAAkB,CAAC,CAAC,CAAC,EAAEK,EAAE,SAAS,CAAC,QAAQ,IAAI,oCAAoC,EAAE,QAAQ,IAAI,yBAAyB,CAAC,KAAKZ,EAAE,CAAC,IAAIA,EAAE,IAAI,MAAMA,EAAE,KAAK,EAAE,KAAK,oBAAoBS,EAAE,YAAY,CAAC,IAAIA,EAAE,YAAY,IAAI,MAAMA,EAAE,YAAY,KAAK,EAAE,IAAI,CAAC,EAAE,GAAG,CAAC,GAAG,CAACT,GAAG,CAACS,EAAE,YAAY,CAAC,QAAQ,IAAI,0CAA0C,EAAE,MAAM,sDAAsD,EAAE,MAAM,CAAC,MAAM,EAAET,GAAGS,EAAE,YAAY,QAAQ,IAAI,gBAAgB,GAAG,KAAK,OAAO,EAAE,KAAK,EAAE,QAAQ,IAAI,kCAAkC,EAAE,MAAMC,EAAEG,EAAEC,EAAE,QAAQ,EAAE,GAAG,EAAE,EAAE,MAAMC,EAAEL,CAAC,EAAE,EAAE,OAAM,EAAG,QAAQ,IAAI,0BAA0B,EAAE,MAAM,GAAG,QAAQ,IAAI,8CAA8C,EAAE,MAAMM,EAAEN,EAAE,CAAC,MAAM,EAAE,MAAM,IAAI,EAAE,IAAI,UAAU,IAAI,KAAK,KAAK,OAAO,SAAS,EAAE,CAAC,EAAE,QAAQ,IAAI,yBAAyB,GAAG,QAAQ,IAAI,oCAAoC,EAAE,MAAM,EAAEG,EAAEC,EAAE,kBAAkB,QAAQ,EAAE,GAAG,EAAE,EAAE,EAAE,MAAMC,EAAE,CAAC,EAAE,EAAE,OAAM,EAAG,QAAQ,IAAI,4BAA4B,EAAE,KAAI,CAAE,GAAG,QAAQ,IAAI,4DAA4D,EAAE,MAAMC,EAAE,EAAE,CAAC,eAAe,EAAE,IAAI,WAAW,gBAAgB,QAAQ,EAAE,UAAU,IAAI,IAAI,CAAC,EAAE,QAAQ,IAAI,uBAAuB,GAAG,QAAQ,IAAI,sDAAsD,EAAE,MAAM,oEAAoE,CAAC,OAAO,EAAE,CAAC,QAAQ,MAAM,gCAAgC,CAAC,EAAE,MAAM,gCAAgC,EAAE,OAAO,EAAE,CAAC,CAAC,EAAE,OAAOC,EAAE,IAAI,MAAM,CAAC,UAAU,iCAAiC,SAASA,EAAE,IAAI,MAAM,CAAC,UAAU,8BAA8B,SAASA,EAAE,KAAKC,EAAE,CAAC,SAAS,CAACD,EAAE,IAAIE,EAAE,CAAC,SAASF,EAAE,IAAIG,EAAE,CAAC,SAAS,yBAAyB,CAAC,CAAC,CAAC,EAAEH,EAAE,KAAKI,EAAE,CAAC,UAAU,YAAY,SAAS,CAACJ,EAAE,KAAK,MAAM,CAAC,UAAU,YAAY,SAAS,CAACA,EAAE,IAAIK,EAAE,CAAC,QAAQ,QAAQ,SAAS,mBAAmB,CAAC,EAAEL,EAAE,IAAIM,EAAE,CAAC,GAAG,QAAQ,KAAK,QAAQ,MAAM,EAAE,SAAS,GAAGjB,EAAE,EAAE,OAAO,KAAK,EAAE,YAAY,wBAAwB,CAAC,CAAC,CAAC,CAAC,EAAEW,EAAE,KAAK,MAAM,CAAC,UAAU,YAAY,SAAS,CAACA,EAAE,IAAIK,EAAE,CAAC,QAAQ,WAAW,SAAS,aAAa,CAAC,EAAEL,EAAE,IAAIM,EAAE,CAAC,GAAG,WAAW,KAAK,WAAW,MAAMhB,EAAE,SAAS,GAAGC,EAAE,EAAE,OAAO,KAAK,EAAE,YAAY,kBAAkB,CAAC,CAAC,CAAC,CAAC,EAAES,EAAE,IAAIO,EAAE,CAAC,QAAQb,EAAE,UAAU,SAAS,SAAST,EAAE,SAASA,EAAE,uBAAuB,mBAAmB,CAAC,EAAEF,GAAGiB,EAAE,IAAIO,EAAE,CAAC,QAAQZ,EAAE,UAAU,SAAS,QAAQ,UAAU,SAAS,6BAA6B,CAAC,EAAEK,EAAE,KAAK,MAAM,CAAC,UAAU,6BAA6B,SAAS,CAACA,EAAE,IAAI,KAAK,CAAC,UAAU,iBAAiB,SAAS,wBAAwB,CAAC,EAAEA,EAAE,IAAI,MAAM,CAAC,UAAU,wBAAwB,SAAS,KAAK,UAAU,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC"}