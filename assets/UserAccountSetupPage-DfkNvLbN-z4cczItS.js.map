{"version":3,"mappings":"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","names":["__vite__mapDeps","i","m","d","Q","T","ie","y","F","l","x","L","f","R","t","k","w","a","N","b","g","r","W","A","X","C","o","S","_","j","u","h","D","__vitePreload","n","E","P","I","U","e","v","O","V","$","M","z","H","J","c","p","G","q","K","B"],"ignoreList":[],"sources":["../../assets/UserAccountSetupPage-DfkNvLbN.js"],"sourcesContent":["const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=[\"./index-tnWDkOuX.js\",\"./index-Bpuv6Nub.css\"])))=>i.map(i=>d[i]);\r\nimport{J as T,b as F,a as L,c as R,u as k,r as a,j as e,U as M,I as p,B as q,A as B,ad as j,ae as U}from\"./index-tnWDkOuX.js\";import{C as O,a as V,b as $,d as z}from\"./card-SlwaggFS.js\";import{L as c}from\"./label-_mnIMROJ.js\";import{A as H,a as J}from\"./alert-NHJmLZVr.js\";import{S as v}from\"./store-i3EEOQHb.js\";import{P as G}from\"./phone-fkjnGVtI.js\";import{C as K}from\"./circle-check-big-DcMEd0KV.js\";/**\r\n * @license lucide-react v0.462.0 - ISC\r\n *\r\n * This source code is licensed under the ISC license.\r\n * See the LICENSE file in the root directory of this source tree.\r\n */const Q=T(\"MapPin\",[[\"path\",{d:\"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0\",key:\"1r0f0z\"}],[\"circle\",{cx:\"12\",cy:\"10\",r:\"3\",key:\"ilqhr7\"}]]),ie=()=>{const[y]=F(),l=y.get(\"user_name\")||\"\",x=L(),{toast:f}=R(),{user:t}=k(),[s,w]=a.useState({shopName:\"\",shopAddress:\"\",phoneNumber:\"\",description:\"\"}),[N,b]=a.useState(!1),[g,r]=a.useState(\"\"),[W,A]=a.useState(!1),[X,C]=a.useState(!1);a.useEffect(()=>{if(!t){x(\"/auth\");return}},[t,x]);const i=d=>{const{name:n,value:m}=d.target;w(o=>({...o,[n]:m}))},S=()=>s.shopName.trim()?s.phoneNumber.trim()?s.shopAddress.trim()?!0:(r(\"عنوان المتجر مطلوب\"),!1):(r(\"رقم الهاتف مطلوب\"),!1):(r(\"اسم المتجر مطلوب\"),!1),_=async d=>{if(d.preventDefault(),r(\"\"),!!S()){b(!0);try{if(t){const{addDoc:n,collection:m,serverTimestamp:o}=await j(async()=>{const{addDoc:u,collection:h,serverTimestamp:D}=await import(\"./index-tnWDkOuX.js\").then(E=>E.c2);return{addDoc:u,collection:h,serverTimestamp:D}},__vite__mapDeps([0,1]),import.meta.url),{db:P}=await j(async()=>{const{db:u}=await import(\"./index-tnWDkOuX.js\").then(h=>h.c3);return{db:u}},__vite__mapDeps([0,1]),import.meta.url),I=(await n(m(P,\"shops\"),{name:s.shopName||\"متجر جديد\",ownerId:t.uid,createdAt:o(),updatedAt:o(),isActive:!0})).id;await U.create({userId:t.uid,shopId:I,role:\"merchant\",fullName:l,phone:s.phoneNumber})}f({title:\"تم إعداد الحساب بنجاح\",description:`مرحباً ${l}! تم إعداد متجرك \"${s.shopName}\" بنجاح`}),C(!0),A(!0)}catch(n){console.error(\"Account setup error:\",n),r(\"حدث خطأ أثناء إعداد الحساب\"),f({title:\"خطأ في إعداد الحساب\",description:\"حدث خطأ أثناء إعداد الحساب، يرجى المحاولة مرة أخرى\",variant:\"destructive\"})}finally{b(!1)}}};return t?e.jsx(\"div\",{className:\"min-h-screen bg-background flex items-center justify-center p-4\",children:e.jsxs(\"div\",{className:\"w-full max-w-2xl\",children:[e.jsxs(\"div\",{className:\"text-center mb-8 fade-in-up\",children:[e.jsx(\"div\",{className:\"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full mb-4 shadow-lg\",children:e.jsx(v,{className:\"h-8 w-8 text-white\"})}),e.jsxs(\"h1\",{className:\"text-3xl font-bold text-gray-900 mb-2\",children:[\"مرحباً \",l,\"!\"]}),e.jsx(\"p\",{className:\"text-gray-600\",children:\"دعنا نقوم بإعداد حساب متجرك\"})]}),e.jsxs(O,{className:\"shadow-xl border-0 bg-white/80 backdrop-blur-sm card-glow fade-in-up\",children:[e.jsxs(V,{className:\"text-center pb-4\",children:[e.jsxs($,{className:\"text-2xl font-bold text-gray-900 flex items-center justify-center gap-2\",children:[e.jsx(M,{className:\"h-6 w-6 text-blue-600\"}),\"إعداد حساب التاجر\"]}),e.jsx(\"p\",{className:\"text-gray-600 text-sm mt-2\",children:\"أدخل بيانات متجرك لإكمال إعداد الحساب\"})]}),e.jsxs(z,{className:\"space-y-6\",children:[g&&e.jsx(H,{variant:\"destructive\",className:\"fade-in-up\",children:e.jsx(J,{children:g})}),e.jsxs(\"form\",{onSubmit:_,className:\"space-y-6\",children:[e.jsxs(\"div\",{className:\"space-y-2 fade-in-up\",children:[e.jsxs(c,{htmlFor:\"shopName\",className:\"text-sm font-medium text-gray-700 flex items-center gap-2\",children:[e.jsx(v,{className:\"h-4 w-4 text-blue-600\"}),\"اسم المتجر\"]}),e.jsx(p,{id:\"shopName\",name:\"shopName\",type:\"text\",placeholder:\"أدخل اسم متجرك\",value:s.shopName,onChange:i,required:!0,className:\"h-12 transition-all duration-300 focus:ring-2 focus:ring-blue-500\"})]}),e.jsxs(\"div\",{className:\"space-y-2 fade-in-up\",children:[e.jsxs(c,{htmlFor:\"phoneNumber\",className:\"text-sm font-medium text-gray-700 flex items-center gap-2\",children:[e.jsx(G,{className:\"h-4 w-4 text-blue-600\"}),\"رقم الهاتف\"]}),e.jsx(p,{id:\"phoneNumber\",name:\"phoneNumber\",type:\"tel\",placeholder:\"أدخل رقم هاتف المتجر\",value:s.phoneNumber,onChange:i,required:!0,className:\"h-12 transition-all duration-300 focus:ring-2 focus:ring-blue-500\"})]}),e.jsxs(\"div\",{className:\"space-y-2 fade-in-up\",children:[e.jsxs(c,{htmlFor:\"shopAddress\",className:\"text-sm font-medium text-gray-700 flex items-center gap-2\",children:[e.jsx(Q,{className:\"h-4 w-4 text-blue-600\"}),\"عنوان المتجر\"]}),e.jsx(p,{id:\"shopAddress\",name:\"shopAddress\",type:\"text\",placeholder:\"أدخل عنوان المتجر\",value:s.shopAddress,onChange:i,required:!0,className:\"h-12 transition-all duration-300 focus:ring-2 focus:ring-blue-500\"})]}),e.jsxs(\"div\",{className:\"space-y-2 fade-in-up\",children:[e.jsx(c,{htmlFor:\"description\",className:\"text-sm font-medium text-gray-700\",children:\"وصف المتجر (اختياري)\"}),e.jsx(\"textarea\",{id:\"description\",name:\"description\",placeholder:\"أدخل وصفاً مختصراً عن متجرك\",value:s.description,onChange:i,rows:3,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300\"})]}),e.jsx(q,{type:\"submit\",disabled:N,className:\"w-full h-12 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white font-medium transition-all duration-300 btn-bounce hover-glow fade-in-up\",children:N?e.jsxs(\"div\",{className:\"flex items-center gap-2\",children:[e.jsx(\"div\",{className:\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"}),\"جاري إعداد الحساب...\"]}):e.jsxs(\"div\",{className:\"flex items-center gap-2\",children:[e.jsx(K,{className:\"h-4 w-4\"}),\"إكمال إعداد الحساب\",e.jsx(B,{className:\"h-4 w-4\"})]})})]}),e.jsx(\"div\",{className:\"text-center pt-4 border-t border-gray-200 fade-in-up\",children:e.jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"بعد إكمال الإعداد، ستتمكن من الوصول إلى لوحة تحكم التاجر وإدارة متجرك\"})})]})]}),e.jsx(\"div\",{className:\"text-center mt-8 fade-in-up\",children:e.jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"© 2024 كاشي لينك. جميع الحقوق محفوظة.\"})})]})}):null};export{ie as default};\r\n//# sourceMappingURL=UserAccountSetupPage-DfkNvLbN.js.map\r\n"],"file":"assets/UserAccountSetupPage-DfkNvLbN-z4cczItS.js"}