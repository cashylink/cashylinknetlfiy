{"version":3,"file":"MaintenanceDialog-QMSenSC7.js","sources":["../../node_modules/lucide-react/dist/esm/icons/truck.js","../../src/components/MaintenanceDialog.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2\", key: \"wrbu53\" }],\n  [\"path\", { d: \"M15 18H9\", key: \"1lyqi6\" }],\n  [\n    \"path\",\n    {\n      d: \"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14\",\n      key: \"lysw3i\"\n    }\n  ],\n  [\"circle\", { cx: \"17\", cy: \"18\", r: \"2\", key: \"332jqn\" }],\n  [\"circle\", { cx: \"7\", cy: \"18\", r: \"2\", key: \"19iecd\" }]\n];\nconst Truck = createLucideIcon(\"truck\", __iconNode);\n\nexport { __iconNode, Truck as default };\n//# sourceMappingURL=truck.js.map\n","import React, { useEffect, useState } from 'react';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Separator } from '@/components/ui/separator';\r\nimport { Wrench, CheckCircle, Clock, Trash2, Shield, X, RefreshCw, Truck } from 'lucide-react';\r\nimport { useFirebaseAuth } from '@/contexts/FirebaseAuthContext';\r\nimport { db } from '@/firebase';\r\nimport { addDoc, collection, deleteDoc, doc, orderBy, query, serverTimestamp, updateDoc, where, getDocs, limit } from 'firebase/firestore';\r\n\r\nimport { useShop } from '@/hooks/useShop';\r\nimport { userDataService, telegramNotifier } from '@/integrations/firebase/services';\r\nimport { ProfitService } from '@/utils/profitService';\r\nimport MasterPinDialog from './MasterPinDialog';\r\n\r\n\r\ntype MaintenanceItemStatus = 'in_progress' | 'waiting_for_delivery' | 'completed';\r\n\r\ninterface MaintenanceItem {\r\n  id: string;\r\n  productName: string;\r\n  faultType?: string;\r\n  customerName?: string;\r\n  mobile?: string;\r\n  repairPrice: number; // Ø³Ø¹Ø± Ø§Ù„ØªØµÙ„ÙŠØ­\r\n  wholesalePrice?: number; // Ø³Ø¹Ø± Ø§Ù„Ø¬Ù…Ù„Ø©\r\n  partialPayment?: number;\r\n  remainingDue?: number;\r\n  status: MaintenanceItemStatus;\r\n  createdAt: Date;\r\n  completedAt?: Date;\r\n  userId: string;\r\n  profit?: number;\r\n  profitAdded?: boolean;\r\n}\r\n\r\ninterface Props {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n}\r\n\r\nconst MaintenanceDialog: React.FC<Props> = ({ open, onOpenChange }) => {\r\n  const { user } = useFirebaseAuth();\r\n  const { shopId: shopIdCtx, profile } = useShop() || ({} as any);\r\n\r\n  const [items, setItems] = useState<MaintenanceItem[]>([]);\r\n  const [productName, setProductName] = useState('');\r\n  const [faultType, setFaultType] = useState('');\r\n  const [customerName, setCustomerName] = useState('');\r\n  const [mobile, setMobile] = useState('');\r\n  const [repairPrice, setRepairPrice] = useState<string>('');\r\n  const [wholesalePrice, setWholesalePrice] = useState<string>('');\r\n  const [partialPayment, setPartialPayment] = useState<string>('');\r\n  // Ù„Ø§ ØªÙˆØ¬Ø¯ Ø®Ø§Ù†Ø© Ù…Ù†ÙØµÙ„Ø© Ù„Ø³Ø¹Ø± Ø§Ù„Ø²Ø¨ÙˆÙ†Ø› Ø³Ø¹Ø± Ø§Ù„Ø²Ø¨ÙˆÙ† Ù‡Ùˆ Ø³Ø¹Ø± Ø§Ù„ØªØµÙ„ÙŠØ­\r\n\r\n  const [formVisible, setFormVisible] = useState<boolean>(false);\r\n  const [isRefreshing, setIsRefreshing] = useState(false);\r\n  const [showProfit, setShowProfit] = useState(false);\r\n  const [pinDialogOpen, setPinDialogOpen] = useState(false);\r\n  const [maintenanceDailyProfit, setMaintenanceDailyProfit] = useState(0);\r\n  const [maintenanceMonthlyProfit, setMaintenanceMonthlyProfit] = useState(0);\r\n  const [monthlyWaste, setMonthlyWaste] = useState(0);\r\n  const [showSuccessDialog, setShowSuccessDialog] = useState(false);\r\n  const [showWasteHistory, setShowWasteHistory] = useState(false);\r\n  const [wasteHistory, setWasteHistory] = useState<any[]>([]);\r\n\r\n  const [wasteDialogOpen, setWasteDialogOpen] = useState(false);\r\n  const [wasteDevice, setWasteDevice] = useState('');\r\n  const [wasteFault, setWasteFault] = useState('');\r\n  const [wasteAmount, setWasteAmount] = useState('');\r\n\r\n  // ØªÙ‡ÙŠØ¦Ø© ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø­Ù„ÙŠ Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„ØªØ¬Ù†Ø¨ Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„ØªÙˆÙ‚ÙŠØª\r\n  const getLocalDateString = () => {\r\n    const d = new Date();\r\n    const year = d.getFullYear();\r\n    const month = String(d.getMonth() + 1).padStart(2, '0');\r\n    const day = String(d.getDate()).padStart(2, '0');\r\n    return `${year}-${month}-${day}`;\r\n  };\r\n\r\n  const [searchDate, setSearchDate] = useState<string>(getLocalDateString());\r\n  const [searchDateProfit, setSearchDateProfit] = useState<number>(0);\r\n\r\n  // ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù…Ø¨Ø§Ù„Øº\r\n  const formatMoney = (n: number) => `${new Intl.NumberFormat('ar-EG', { minimumFractionDigits: 2, maximumFractionDigits: 2 }).format(Number(n || 0))} Ø¬.Ù…`;\r\n\r\n  // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­\r\n  const computeProfit = (items: MaintenanceItem[], targetDateStr?: string) => {\r\n    const now = new Date();\r\n    const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\r\n    const thisMonth = new Date(now.getFullYear(), now.getMonth(), 1);\r\n\r\n    const sDate = targetDateStr || searchDate;\r\n    let targetDate: Date;\r\n    \r\n    if (sDate) {\r\n      // ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªØ§Ø±ÙŠØ® ÙƒÙ†Øµ Ù…Ø­Ù„ÙŠ (YYYY-MM-DD) Ù„Ø¶Ù…Ø§Ù† ØªØ·Ø§Ø¨Ù‚Ù‡ Ù…Ø¹ Ø§Ù„ØªÙˆÙ‚ÙŠØª Ø§Ù„Ù…Ø­Ù„ÙŠ\r\n      const [y, m, d] = sDate.split('-').map(Number);\r\n      targetDate = new Date(y, m - 1, d);\r\n    } else {\r\n      targetDate = new Date(now.getFullYear(), now.getMonth(), now.getDate());\r\n    }\r\n    \r\n    // ØªØµÙÙŠØ± Ø§Ù„ÙˆÙ‚Øª Ù„Ù„Ù…Ù‚Ø§Ø±Ù†Ø© (Ø§Ø­ØªÙŠØ§Ø·ÙŠ)\r\n    targetDate.setHours(0, 0, 0, 0);\r\n\r\n    let daily = 0;\r\n    let monthly = 0;\r\n    let searchProfit = 0;\r\n\r\n    items.forEach(item => {\r\n      if (item.status === 'completed') {\r\n        // Ù†Ø³ØªØ®Ø¯Ù… completedAt Ù„Ø£Ù†Ù‡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙØ¹Ù„ÙŠ Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø±Ø¨Ø­\r\n        const itemDate = item.completedAt ? new Date(item.completedAt) : new Date(item.createdAt);\r\n        // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ÙˆÙ‚Øª Ù„Ù„Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨Ø§Ù„Ø£ÙŠØ§Ù…\r\n        const itemDay = new Date(itemDate.getFullYear(), itemDate.getMonth(), itemDate.getDate());\r\n        \r\n        // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø±Ø¨Ø­ Ø­ØªÙ‰ Ù„Ùˆ Ù„Ù… ÙŠÙƒÙ† Ù…Ø®Ø²Ù†Ø§Ù‹\r\n        const profit = item.profit !== undefined ? item.profit : ((item.repairPrice || 0) - (item.wholesalePrice || 0));\r\n        const finalProfit = Number.isFinite(profit) ? profit : 0;\r\n        \r\n        // Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„ÙŠÙˆÙ… (ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ ØªØ§Ø±ÙŠØ® Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ù„Ø¬Ù‡Ø§Ø²)\r\n        if (itemDay.getTime() === today.getTime()) {\r\n          daily += finalProfit;\r\n        }\r\n        \r\n        // Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„Ø´Ù‡Ø± (ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ù„Ø¬Ù‡Ø§Ø²)\r\n        if (itemDate >= thisMonth) {\r\n          monthly += finalProfit;\r\n        }\r\n\r\n        // Ø£Ø±Ø¨Ø§Ø­ ÙŠÙˆÙ… Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù…Ø­Ø¯Ø¯\r\n        if (itemDay.getTime() === targetDate.getTime()) {\r\n          searchProfit += finalProfit;\r\n        }\r\n      }\r\n    });\r\n\r\n    setMaintenanceDailyProfit(daily);\r\n    setMaintenanceMonthlyProfit(monthly);\r\n    setSearchDateProfit(searchProfit);\r\n  };\r\n\r\n  // Ø§Ø³ØªØ¨Ø¯Ø§Ù„ onSnapshot Ø¨Ù€ getDocs Ù„ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø§Øª\r\n  const fetchItems = async () => {\r\n    if (!user?.uid) return;\r\n    setIsRefreshing(true);\r\n\r\n    const handleSnap = (snap: any) => {\r\n      const list: MaintenanceItem[] = snap.docs.map((d: any) => {\r\n        const data = d.data() as any;\r\n        return {\r\n          id: d.id,\r\n          productName: data.productName,\r\n          faultType: data.faultType,\r\n          customerName: data.customerName,\r\n          mobile: data.mobile,\r\n          // ÙÙŠ Ø­Ø§Ù„ ÙƒØ§Ù†Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ customerPrice ÙÙ‚Ø·\r\n          repairPrice: Number((data.repairPrice ?? data.customerPrice ?? 0)),\r\n          wholesalePrice: data.wholesalePrice !== undefined ? Number(data.wholesalePrice) : undefined,\r\n          partialPayment: data.partialPayment !== undefined ? Number(data.partialPayment) : undefined,\r\n          remainingDue: data.remainingDue !== undefined\r\n            ? Number(data.remainingDue)\r\n            : (data.partialPayment !== undefined\r\n              ? Math.max(0, Math.round(((Number(data.repairPrice ?? data.customerPrice ?? 0)) - Number(data.partialPayment)) * 100) / 100)\r\n              : undefined),\r\n          status: (data.status as MaintenanceItemStatus) || 'in_progress',\r\n          createdAt: data.createdAt?.toDate?.() || new Date(),\r\n          completedAt: data.completedAt?.toDate?.(),\r\n          userId: data.userId || user.uid,\r\n          profit: data.profit !== undefined ? Number(data.profit) : undefined,\r\n          profitAdded: data.profitAdded || false,\r\n        };\r\n      });\r\n      setItems(list);\r\n      // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ Ø¨Ø¹Ø¯ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©\r\n      computeProfit(list);\r\n    };\r\n\r\n    try {\r\n      // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ù…Ø¹ ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ createdAt (Ø£ÙØ¶Ù„ÙŠØ©)\r\n      const q1 = query(\r\n        collection(db, 'maintenance_items'),\r\n        where('userId', '==', user.uid),\r\n        orderBy('createdAt', 'desc')\r\n      );\r\n      const snap = await getDocs(q1);\r\n      handleSnap(snap);\r\n    } catch (err) {\r\n      console.warn('Failed to fetch with ordering, falling back without orderBy:', err);\r\n      try {\r\n        const q2 = query(\r\n          collection(db, 'maintenance_items'),\r\n          where('userId', '==', user.uid)\r\n        );\r\n        const snap2 = await getDocs(q2);\r\n        // ØªØ±ØªÙŠØ¨ Ù…Ø­Ù„ÙŠ\r\n        const docs = snap2.docs.sort((a, b) => {\r\n          const da = a.data().createdAt?.toDate?.() || new Date(0);\r\n          const db = b.data().createdAt?.toDate?.() || new Date(0);\r\n          return db.getTime() - da.getTime();\r\n        });\r\n        handleSnap({ docs });\r\n      } catch (e) {\r\n        console.warn('Failed to fetch maintenance items (fallback):', e);\r\n      }\r\n    } finally {\r\n      setIsRefreshing(false);\r\n    }\r\n  };\r\n\r\n  const fetchMonthlyWaste = async () => {\r\n    if (!user?.uid) return;\r\n    const now = new Date();\r\n    const startOfMonth = new Date(now.getFullYear(), now.getMonth(), 1);\r\n    \r\n    try {\r\n      // Fetch waste from user's subcollection\r\n      const q = query(\r\n        collection(db, 'users', user.uid, 'maintenance_waste')\r\n      );\r\n      const snap = await getDocs(q);\r\n      \r\n      const total = snap.docs.reduce((sum, doc) => {\r\n        const data = doc.data();\r\n        const createdAt = data.createdAt?.toDate ? data.createdAt.toDate() : new Date(data.createdAt || 0);\r\n        \r\n        if (createdAt >= startOfMonth) {\r\n          return sum + (Number(data.amount) || 0);\r\n        }\r\n        return sum;\r\n      }, 0);\r\n      \r\n      setMonthlyWaste(total);\r\n    } catch (e) {\r\n      console.error('Error fetching waste:', e);\r\n    }\r\n  };\r\n\r\n  const fetchWasteHistory = async () => {\r\n    if (!user?.uid) return;\r\n    try {\r\n      const q = query(\r\n        collection(db, 'users', user.uid, 'maintenance_waste')\r\n      );\r\n      const snap = await getDocs(q);\r\n      const history = snap.docs\r\n        .map(doc => ({ id: doc.id, ...doc.data() }))\r\n        .sort((a: any, b: any) => {\r\n           const dateA = a.createdAt?.toDate ? a.createdAt.toDate() : new Date(a.createdAt || 0);\r\n           const dateB = b.createdAt?.toDate ? b.createdAt.toDate() : new Date(b.createdAt || 0);\r\n           return dateB.getTime() - dateA.getTime();\r\n        });\r\n      setWasteHistory(history);\r\n    } catch (e) {\r\n      console.error('Error fetching waste history:', e);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      fetchItems();\r\n      fetchMonthlyWaste();\r\n      fetchWasteHistory();\r\n    }\r\n  }, [user?.uid, open]);\r\n\r\n  const resetForm = () => {\r\n    setProductName('');\r\n    setFaultType('');\r\n    setCustomerName('');\r\n    setMobile('');\r\n    setRepairPrice('');\r\n    setWholesalePrice('');\r\n    setPartialPayment('');\r\n  };\r\n\r\n  const addItem = async (status: MaintenanceItemStatus) => {\r\n    // ØªØ£ÙƒÙŠØ¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø¶Ø§ÙØ©\r\n    if (!user?.uid) {\r\n      alert('ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù‚Ø¨Ù„ Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ØµØ± Ø§Ù„ØµÙŠØ§Ù†Ø©');\r\n      return;\r\n    }\r\n    const numericRepair = Number(repairPrice);\r\n    const numericWholesale = wholesalePrice ? Number(wholesalePrice) : undefined;\r\n    const numericPartial = partialPayment ? Number(partialPayment) : undefined;\r\n    if (!productName.trim() || !numericRepair || Number.isNaN(numericRepair) || numericRepair <= 0) {\r\n      alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ ÙˆØ³Ø¹Ø± Ø§Ù„ØªØµÙ„ÙŠØ­ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­');\r\n      return;\r\n    }\r\n    try {\r\n      // Ø§Ø¨Ù†Ù Ø§Ù„Ø­Ù…ÙˆÙ„Ø© Ø¨Ø¯ÙˆÙ† Ø£ÙŠ Ø­Ù‚ÙˆÙ„ undefined\r\n      const payload: any = {\r\n        productName: productName.trim(),\r\n        repairPrice: numericRepair,\r\n        status,\r\n        createdAt: serverTimestamp(),\r\n        userId: user.uid,\r\n        profitAdded: status === 'completed',\r\n      };\r\n      \r\n      // Ø£Ø¶Ù Ø­Ù‚Ù„ Ø§Ù„Ø±Ø¨Ø­ ÙÙ‚Ø· Ø¹Ù†Ø¯Ù…Ø§ ÙŠÙƒÙˆÙ† Ù„Ù„Ø¹Ù†ØµØ± Ø­Ø§Ù„Ø© Ù…ÙƒØªÙ…Ù„Ø©\r\n      if (status === 'completed') {\r\n        payload.profit = Math.round((numericRepair - (numericWholesale || 0)) * 100) / 100;\r\n      }\r\n      \r\n      const _fault = faultType.trim();\r\n      const _customer = customerName.trim();\r\n      const _mobile = mobile.trim();\r\n      if (_fault) payload.faultType = _fault;\r\n      if (_customer) payload.customerName = _customer;\r\n      if (_mobile) payload.mobile = _mobile;\r\n      if (numericWholesale !== undefined) payload.wholesalePrice = numericWholesale;\r\n      if (status === 'completed') payload.completedAt = serverTimestamp();\r\n      if (numericPartial !== undefined) payload.partialPayment = numericPartial;\r\n      if (numericPartial !== undefined) payload.remainingDue = Math.max(0, Math.round((numericRepair - numericPartial) * 100) / 100);\r\n\r\n      const docRef = await addDoc(collection(db, 'maintenance_items'), payload);\r\n\r\n      // ÙƒØªØ§Ø¨Ø© Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø© Ø¨ÙˆØ§Ø³Ø·Ø© ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„/Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± Ù„Ø¶Ù…Ø§Ù† Ø§Ù„ØªØ²Ø§Ù…Ù† Ø¹Ø¨Ø± Ø§Ù„Ù…Ù†ØµØ§Øª\r\n      try {\r\n        const commonFields: any = {\r\n          linkedId: docRef.id,\r\n          productName: payload.productName,\r\n          faultType: payload.faultType,\r\n          customerName: payload.customerName,\r\n          mobile: payload.mobile,\r\n          repairPrice: payload.repairPrice,\r\n          wholesalePrice: payload.wholesalePrice,\r\n          partialPayment: payload.partialPayment,\r\n          remainingDue: payload.remainingDue,\r\n          userId: user.uid,\r\n          profitAdded: payload.profitAdded,\r\n        };\r\n        \r\n        // Ø£Ø¶Ù Ø­Ù‚Ù„ Ø§Ù„Ø±Ø¨Ø­ ÙÙ‚Ø· Ø¹Ù†Ø¯Ù…Ø§ ÙŠÙƒÙˆÙ† Ù„Ù„Ø¹Ù†ØµØ± Ø­Ø§Ù„Ø© Ù…ÙƒØªÙ…Ù„Ø©\r\n        if (payload.profit !== undefined) {\r\n          commonFields.profit = payload.profit;\r\n        }\r\n        \r\n        if (status === 'in_progress') {\r\n          await addDoc(collection(db, 'maintenance_pending'), {\r\n            ...commonFields,\r\n            status: 'in_progress',\r\n            createdAt: serverTimestamp(),\r\n          });\r\n        } else {\r\n          await addDoc(collection(db, 'maintenance_done'), {\r\n            ...commonFields,\r\n            status: 'completed',\r\n            createdAt: serverTimestamp(),\r\n            completedAt: serverTimestamp(),\r\n          });\r\n        }\r\n      } catch (syncErr) {\r\n        console.warn('ØªØ¹Ø°Ø± Ù…Ø²Ø§Ù…Ù†Ø© Ø¹Ù†ØµØ± Ø§Ù„ØµÙŠØ§Ù†Ø© Ù…Ø¹ Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„/Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±:', syncErr);\r\n      }\r\n\r\n      // ØªØ­Ø¯ÙŠØ« ØªÙØ§Ø¤Ù„ÙŠ Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© Ø­ØªÙ‰ Ù„Ùˆ ØªØ£Ø®Ø± Ø§Ù„Ù€ snapshot\r\n      setItems(prev => [{\r\n        id: docRef.id,\r\n        productName: payload.productName,\r\n        faultType: payload.faultType,\r\n        customerName: payload.customerName,\r\n        mobile: payload.mobile,\r\n        repairPrice: payload.repairPrice,\r\n        wholesalePrice: payload.wholesalePrice,\r\n        partialPayment: payload.partialPayment,\r\n        remainingDue: payload.remainingDue,\r\n        status: payload.status,\r\n        createdAt: new Date(),\r\n        completedAt: payload.status === 'completed' ? new Date() : undefined,\r\n        userId: user.uid,\r\n        profit: payload.profit,\r\n        profitAdded: payload.profitAdded,\r\n      }, ...prev]);\r\n\r\n      // Ø¥Ø°Ø§ ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© ÙƒÙ…ÙƒØªÙ…Ù„ØŒ Ø£Ø¶Ù Ù…Ø¨Ù„Øº Ø§Ù„ØªØµÙ„ÙŠØ­ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ø¥Ù„Ù‰ Ø±ØµÙŠØ¯ Ø§Ù„Ø¯Ø±Ø¬ Ø§Ù„Ù†Ù‚Ø¯ÙŠ\r\n      if (status === 'completed') {\r\n        try {\r\n          const amount = Math.max(0, Number(numericRepair || 0));\r\n          const genericKey = `cashBalance_${user?.uid || 'default'}`;\r\n          const shopKey = `cashBalance_${user?.uid || 'default'}_${shopIdCtx || 'main'}`;\r\n          const saved = localStorage.getItem(shopKey) ?? localStorage.getItem(genericKey) ?? '0';\r\n          const currentCash = parseFloat(saved || '0') || 0;\r\n          const newCash = currentCash + amount;\r\n          try { localStorage.setItem(genericKey, String(newCash)); } catch {}\r\n          try { localStorage.setItem(shopKey, String(newCash)); } catch {}\r\n          try { await userDataService.updateUserData(user.uid, { cashBalance: newCash }); } catch {}\r\n          try { window.dispatchEvent(new CustomEvent('cashBalanceChanged', { detail: { value: newCash } })); } catch {}\r\n        } catch {}\r\n      }\r\n      resetForm();\r\n      try { if (user?.uid) { const paidPart = (payload.partialPayment !== undefined) ? `ØŒ Ø§Ù„Ù…Ø¯ÙÙˆØ¹ Ù…Ù‚Ø¯Ù…Ù‹Ø§ ${payload.partialPayment} Ø¬Ù†ÙŠÙ‡` : ''; const mobileText = payload.mobile ? `ØŒ Ø±Ù‚Ù… ØªÙ„ÙŠÙÙˆÙ† ${payload.mobile}` : ''; await telegramNotifier.send(user.uid, `ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø¬Ù‡Ø§Ø² ØµÙŠØ§Ù†Ø© Ø¨Ø§Ø³Ù… ${payload.customerName || 'Ø¨Ø¯ÙˆÙ† Ø§Ø³Ù…'}ØŒ Ø§Ù„Ø¬Ù‡Ø§Ø² ${payload.productName}${mobileText}ØŒ Ø³Ø¹Ø± Ø§Ù„ØªØµÙ„ÙŠØ­ ${payload.repairPrice} Ø¬Ù†ÙŠÙ‡${paidPart}`); } } catch {}\r\n    } catch (e) {\r\n      console.error('Failed to add maintenance item:', e);\r\n      const err: any = e || {};\r\n      const msgParts = [err.code, err.message].filter(Boolean).join(' â€” ');\r\n      const msg = msgParts || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ';\r\n      alert(`Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ØµØ± Ø§Ù„ØµÙŠØ§Ù†Ø©: ${msg}`);\r\n    }\r\n  };\r\n\r\n  const markWaitingForDelivery = async (id: string) => {\r\n    try {\r\n      await updateDoc(doc(db, 'maintenance_items', id), {\r\n        status: 'waiting_for_delivery'\r\n      });\r\n\r\n      setItems(prev => prev.map(i => {\r\n        if (i.id === id) {\r\n          return { ...i, status: 'waiting_for_delivery' };\r\n        }\r\n        return i;\r\n      }));\r\n\r\n      try {\r\n        const q = query(collection(db, 'maintenance_pending'), where('linkedId', '==', id), limit(1));\r\n        const snap = await getDocs(q);\r\n        if (!snap.empty) {\r\n          await updateDoc(doc(db, 'maintenance_pending', snap.docs[0].id), {\r\n            status: 'waiting_for_delivery'\r\n          });\r\n        }\r\n      } catch (e) {\r\n        console.warn('Sync error', e);\r\n      }\r\n    } catch (e) {\r\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø©');\r\n    }\r\n  };\r\n\r\n  const markCompleted = async (id: string) => {\r\n    try {\r\n      const item = items.find(i => i.id === id);\r\n      const profit = Math.round(((item?.repairPrice || 0) - (item?.wholesalePrice || 0)) * 100) / 100;\r\n      const updatePayload: any = {\r\n        status: 'completed',\r\n        completedAt: serverTimestamp(),\r\n        profit,\r\n        profitAdded: true,\r\n      };\r\n      // Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ ØªÙ… Ø§Ù„ØªØµÙ„ÙŠØ­: ÙŠØ¹ØªØ¨Ø± Ø£Ù† Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø³Ø¯Ø¯ Ø§Ù„Ù…Ø¨Ù„Øº Ø¨Ø§Ù„ÙƒØ§Ù…Ù„\r\n      const fullPaid = Math.round(((item?.repairPrice || 0)) * 100) / 100;\r\n      updatePayload.partialPayment = fullPaid;\r\n      updatePayload.remainingDue = 0;\r\n      await updateDoc(doc(db, 'maintenance_items', id), updatePayload);\r\n\r\n      // ØªØ­Ø¯ÙŠØ« Ù…Ø­Ù„ÙŠ ÙÙˆØ±ÙŠ (Optimistic Update)\r\n      setItems(prev => prev.map(i => {\r\n        if (i.id === id) {\r\n          return {\r\n            ...i,\r\n            status: 'completed',\r\n            completedAt: new Date(),\r\n            profit,\r\n            profitAdded: true,\r\n            partialPayment: fullPaid,\r\n            remainingDue: 0\r\n          };\r\n        }\r\n        return i;\r\n      }));\r\n      // Ø¥Ø¹Ø§Ø¯Ø© Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø­Ù„ÙŠ\r\n      const updatedItems = items.map(i => i.id === id ? { ...i, status: 'completed' as const, profit } : i);\r\n      computeProfit(updatedItems);\r\n\r\n      try {\r\n        const amount = Math.max(0, Number(item?.repairPrice || 0));\r\n        const genericKey = `cashBalance_${user?.uid || 'default'}`;\r\n        const shopKey = `cashBalance_${user?.uid || 'default'}_${shopIdCtx || 'main'}`;\r\n        const saved = localStorage.getItem(shopKey) ?? localStorage.getItem(genericKey) ?? '0';\r\n        const currentCash = parseFloat(saved || '0') || 0;\r\n        const newCash = currentCash + amount;\r\n        try { localStorage.setItem(genericKey, String(newCash)); } catch {}\r\n        try { localStorage.setItem(shopKey, String(newCash)); } catch {}\r\n        if (user?.uid) {\r\n          try { await userDataService.updateUserData(user.uid, { cashBalance: newCash }); } catch {}\r\n        }\r\n        try {\r\n          const shopId = (profile as any)?.shopId || shopIdCtx;\r\n          if (shopId) {\r\n            await updateDoc(doc(db, 'dashboardData', shopId), { cashBalance: newCash, lastUpdated: new Date().toISOString() } as any);\r\n          }\r\n        } catch {}\r\n        try { window.dispatchEvent(new CustomEvent('cashBalanceChanged', { detail: { value: newCash } })); } catch {}\r\n      } catch {}\r\n\r\n      // Ù…Ø²Ø§Ù…Ù†Ø© Ù…Ø¹ Ù…Ø¬Ù…ÙˆØ¹Ø§Øª ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„/Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±\r\n      try {\r\n        const commonFields: any = {\r\n          linkedId: id,\r\n          productName: item?.productName,\r\n          faultType: item?.faultType,\r\n          customerName: item?.customerName,\r\n          mobile: item?.mobile,\r\n          repairPrice: item?.repairPrice,\r\n          wholesalePrice: item?.wholesalePrice,\r\n          profit,\r\n          partialPayment: fullPaid,\r\n          remainingDue: 0,\r\n          userId: user?.uid || item?.userId,\r\n          status: 'completed',\r\n          createdAt: item?.createdAt ? item.createdAt : serverTimestamp(),\r\n          completedAt: serverTimestamp(),\r\n          profitAdded: profit !== undefined,\r\n        };\r\n        // Ø£Ø¶Ù Ø¥Ù„Ù‰ Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ù…ÙƒØªÙ…Ù„\r\n        await addDoc(collection(db, 'maintenance_done'), commonFields);\r\n        // Ø§Ø­Ø°Ù Ù…Ù† Ù…Ø¬Ù…ÙˆØ¹Ø© Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØµÙ„ÙŠØ­ Ø¥Ù† ÙˆØ¬Ø¯\r\n        try {\r\n          const q = query(collection(db, 'maintenance_pending'), where('linkedId', '==', id), limit(1));\r\n          const snap = await getDocs(q);\r\n          const pendingDoc = snap.docs[0];\r\n          if (pendingDoc?.id) {\r\n            await deleteDoc(doc(db, 'maintenance_pending', pendingDoc.id));\r\n          }\r\n        } catch (delErr) {\r\n          console.warn('ØªØ¹Ø°Ø± Ø­Ø°Ù Ø§Ù„Ø¹Ù†ØµØ± Ù…Ù† Ù…Ø¬Ù…ÙˆØ¹Ø© Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØµÙ„ÙŠØ­:', delErr);\r\n        }\r\n      } catch (syncErr) {\r\n        console.warn('ØªØ¹Ø°Ø± Ù…Ø²Ø§Ù…Ù†Ø© Ø­Ø§Ù„Ø© Ø§Ù„ØµÙŠØ§Ù†Ø© Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ù…Ø¹ Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„/Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±:', syncErr);\r\n      }\r\n      try { if (user?.uid) { const mobileText = item?.mobile ? `ØŒ Ø±Ù‚Ù… ØªÙ„ÙŠÙÙˆÙ† ${item.mobile}` : ''; await telegramNotifier.send(user.uid, `ØªÙ… ØªØµÙ„ÙŠØ­ Ø§Ù„Ø¬Ù‡Ø§Ø² ${item?.productName || ''} Ù„Ù„Ø¹Ù…ÙŠÙ„ ${item?.customerName || 'Ø¨Ø¯ÙˆÙ† Ø§Ø³Ù…'}${mobileText}ØŒ Ù…Ø¨Ù„Øº Ø§Ù„ØªØµÙ„ÙŠØ­ Ø§Ù„ÙƒØ§Ù…Ù„ ${(item?.repairPrice || 0)} Ø¬Ù†ÙŠÙ‡`); } } catch {}\r\n      \r\n      // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø±Ø¨Ø­ Ø¥Ù„Ù‰ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±\r\n      try {\r\n        if (profit !== undefined && profit > 0) {\r\n          await ProfitService.addProfit(user?.uid || '', {\r\n            amount: profit,\r\n            source: 'maintenance',\r\n            description: `Ø±Ø¨Ø­ ØªØµÙ„ÙŠØ­ ${item?.productName || 'Ø¬Ù‡Ø§Ø²'}`,\r\n            itemId: id,\r\n            timestamp: new Date(),\r\n          });\r\n        }\r\n      } catch (profitError) {\r\n        console.warn('Failed to add profit to reports:', profitError);\r\n      }\r\n    } catch (e) {\r\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„ØµÙŠØ§Ù†Ø© Ø¥Ù„Ù‰ ØªÙ… Ø§Ù„ØªØµÙ„ÙŠØ­');\r\n    }\r\n  };\r\n\r\n  const removeItem = async (id: string) => {\r\n    try {\r\n      await deleteDoc(doc(db, 'maintenance_items', id));\r\n      // Ø­Ø§ÙˆÙ„ Ø£ÙŠØ¶Ø§Ù‹ Ø­Ø°Ù Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ù…ØªØ²Ø§Ù…Ù†Ø© ÙÙŠ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ø£Ø®Ø±Ù‰\r\n      try {\r\n        const qPending = query(collection(db, 'maintenance_pending'), where('linkedId', '==', id), limit(1));\r\n        const snapPending = await getDocs(qPending);\r\n        if (snapPending.docs[0]?.id) await deleteDoc(doc(db, 'maintenance_pending', snapPending.docs[0].id));\r\n      } catch {}\r\n      try {\r\n        const qDone = query(collection(db, 'maintenance_done'), where('linkedId', '==', id), limit(1));\r\n        const snapDone = await getDocs(qDone);\r\n        if (snapDone.docs[0]?.id) await deleteDoc(doc(db, 'maintenance_done', snapDone.docs[0].id));\r\n      } catch {}\r\n\r\n      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø© Ù…Ø­Ù„ÙŠØ§Ù‹\r\n      setItems(prev => prev.filter(i => i.id !== id));\r\n    } catch (e) {\r\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­Ø°Ù Ø¹Ù†ØµØ± Ø§Ù„ØµÙŠØ§Ù†Ø©');\r\n    }\r\n  };\r\n\r\n  const handleAddWaste = async () => {\r\n    if (!user?.uid || !wasteAmount) return;\r\n    try {\r\n      await addDoc(collection(db, 'users', user.uid, 'maintenance_waste'), {\r\n        userId: user.uid,\r\n        amount: Number(wasteAmount),\r\n        description: `Ø¬Ù‡Ø§Ø²: ${wasteDevice} - Ø¹Ø·Ù„: ${wasteFault}`,\r\n        note: `Ø¬Ù‡Ø§Ø²: ${wasteDevice} - Ø¹Ø·Ù„: ${wasteFault}`,\r\n        createdAt: serverTimestamp(),\r\n        shopId: shopIdCtx,\r\n      });\r\n      setWasteDialogOpen(false);\r\n      setWasteDevice('');\r\n      setWasteFault('');\r\n      setWasteAmount('');\r\n      fetchMonthlyWaste();\r\n      fetchWasteHistory();\r\n      setShowSuccessDialog(true);\r\n    } catch (e) {\r\n      console.error(e);\r\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø¶Ø§ÙØ© Ø¥ÙŠØµØ§Ù„ Ø§Ù„Ù‡ÙˆØ§Ù„Ùƒ');\r\n    }\r\n  };\r\n\r\n  const inProgressItems = items.filter(it => it.status === 'in_progress');\r\n  const waitingItems = items.filter(it => it.status === 'waiting_for_delivery');\r\n  const completedItems = items.filter(it => it.status === 'completed');\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent \r\n        className=\"z-[10001] maintenance-dialog sm:max-w-3xl w-screen sm:w-auto h-[90vh] sm:h-auto overflow-hidden rounded-none sm:rounded-lg p-0 dark:bg-[#121212]\"\r\n        overlayClassName=\"backdrop-blur-[5px] bg-black/10 !dark:bg-black\"\r\n      >\r\n        <DialogHeader className=\"sticky top-0 bg-white dark:bg-[#0F0F0F] z-20 border-b border-gray-200 dark:border-[#333] px-4 py-3\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <DialogTitle className=\"flex items-center gap-2\">\r\n              <Wrench className=\"h-4 w-4 text-amber-600\" />\r\n              Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙŠØ§Ù†Ø©\r\n              <Button\r\n                size=\"sm\"\r\n                variant=\"ghost\"\r\n                className=\"mr-2 p-1 h-auto rounded-full\"\r\n                onClick={fetchItems}\r\n                disabled={isRefreshing}\r\n                title=\"ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\"\r\n              >\r\n                <RefreshCw className={`h-4 w-4 ${isRefreshing ? 'animate-spin' : ''}`} />\r\n              </Button>\r\n            </DialogTitle>\r\n            <Button\r\n              size=\"sm\"\r\n              variant=\"ghost\"\r\n              className=\"ml-auto\"\r\n              onClick={() => onOpenChange(false)}\r\n              title=\"Ø¥ØºÙ„Ø§Ù‚\"\r\n            >\r\n              <X className=\"h-4 w-4\" />\r\n            </Button>\r\n          </div>\r\n        </DialogHeader>\r\n\r\n        \r\n        <div className=\"px-4 py-3 space-y-3 overflow-y-auto\">\r\n        \r\n        <div className=\"flex items-center justify-between\">\r\n          \r\n          <div className=\"flex items-center gap-2\">\r\n            <Button \r\n              size=\"sm\" \r\n              variant=\"outline\" \r\n              className=\"text-xs bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-200 hover:shadow-md transition-all duration-200\"\r\n              onClick={() => setPinDialogOpen(true)}\r\n            >\r\n              ğŸ“Š Ø¹Ø±Ø¶ Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„ØµÙŠØ§Ù†Ø©\r\n            </Button>\r\n          </div>\r\n\r\n          \r\n          <div className=\"flex items-center gap-2\">\r\n            {!formVisible && (\r\n              <>\r\n                <Button \r\n                  className=\"bg-red-600 hover:bg-red-700 hover:shadow-md transition-all duration-200\"\r\n                  onClick={() => setWasteDialogOpen(true)}\r\n                >\r\n                  ğŸ—‘ï¸ Ù‡ÙˆØ§Ù„Ùƒ\r\n                </Button>\r\n                <Button \r\n                  className=\"bg-amber-600 hover:bg-amber-700 hover:shadow-md transition-all duration-200\"\r\n                  onClick={() => setFormVisible(true)}\r\n                >\r\n                  â• Ø¥Ø¶Ø§ÙØ© Ø¬Ù‡Ø§Ø² ØµÙŠØ§Ù†Ø©\r\n                </Button>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        \r\n        {formVisible && (\r\n        <Card className=\"mb-3 border-2 border-blue-100 dark:border-blue-900/30 bg-gradient-to-br from-blue-50 to-white dark:from-blue-900/20 dark:to-[#1A1A1A]\">\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-sm flex items-center gap-2\">\r\n              <span className=\"text-lg\">ğŸ“</span>\r\n              <span className=\"font-bold text-blue-800 dark:text-blue-200\">Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ù„Ù„ØµÙŠØ§Ù†Ø©</span>\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-3\">\r\n            \r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\r\n              <div className=\"space-y-1\">\r\n                <label className=\"text-xs text-gray-700 dark:text-gray-300 flex items-center gap-1\">\r\n                  <span>ğŸ”§</span> Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬\r\n                </label>\r\n                <Input value={productName} onChange={e => setProductName(e.target.value)} placeholder=\"Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬\" className=\"bg-white dark:bg-[#1A1A1A]\" />\r\n              </div>\r\n              <div className=\"space-y-1\">\r\n                <label className=\"text-xs text-gray-700 dark:text-gray-300 flex items-center gap-1\">\r\n                  <span>âš ï¸</span> Ù†ÙˆØ¹ Ø§Ù„Ø¹Ø·Ù„ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)\r\n                </label>\r\n                <Input value={faultType} onChange={e => setFaultType(e.target.value)} placeholder=\"Ù†ÙˆØ¹ Ø§Ù„Ø¹Ø·Ù„\" className=\"bg-white dark:bg-[#1A1A1A]\" />\r\n              </div>\r\n              <div className=\"space-y-1\">\r\n                <label className=\"text-xs text-gray-700 dark:text-gray-300 flex items-center gap-1\">\r\n                  <span>ğŸ‘¤</span> Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)\r\n                </label>\r\n                <Input value={customerName} onChange={e => setCustomerName(e.target.value)} placeholder=\"Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„\" className=\"bg-white dark:bg-[#1A1A1A]\" />\r\n              </div>\r\n              <div className=\"space-y-1\">\r\n                <label className=\"text-xs text-gray-700 dark:text-gray-300 flex items-center gap-1\">\r\n                  <span>ğŸ“±</span> Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)\r\n                </label>\r\n                <Input value={mobile} onChange={e => setMobile(e.target.value)} placeholder=\"01xxxxxxxxx\" className=\"bg-white dark:bg-[#1A1A1A]\" />\r\n              </div>\r\n              <div className=\"space-y-1\">\r\n                <label className=\"text-xs text-gray-700 dark:text-gray-300 flex items-center gap-1\">\r\n                  <span>ğŸ’°</span> Ø³Ø¹Ø± Ø§Ù„ØªØµÙ„ÙŠØ­\r\n                </label>\r\n                <Input value={repairPrice} onChange={e => setRepairPrice(e.target.value)} placeholder=\"Ø³Ø¹Ø± Ø§Ù„ØªØµÙ„ÙŠØ­ Ø¨Ø§Ù„Ø¬Ù†ÙŠÙ‡\" className=\"bg-white dark:bg-[#1A1A1A]\" />\r\n              </div>\r\n              <div className=\"space-y-1\">\r\n                <label className=\"text-xs text-gray-700 dark:text-gray-300 flex items-center gap-1\">\r\n                  <span>ğŸ·ï¸</span> Ø³Ø¹Ø± Ø§Ù„Ø¬Ù…Ù„Ø©\r\n                </label>\r\n                <Input value={wholesalePrice} onChange={e => setWholesalePrice(e.target.value)} placeholder=\"Ø³Ø¹Ø± Ø§Ù„Ø¬Ù…Ù„Ø© Ø¨Ø§Ù„Ø¬Ù†ÙŠÙ‡\" className=\"bg-white dark:bg-[#1A1A1A]\" />\r\n              </div>\r\n              <div className=\"space-y-1 sm:col-span-2\">\r\n                <label className=\"text-xs text-gray-700 dark:text-gray-300 flex items-center gap-1\">\r\n                  <span>ğŸ’³</span> Ø¯ÙØ¹ Ø¬Ø²Ø¡ Ù…Ù† Ø§Ù„ØªØµÙ„ÙŠØ­ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)\r\n                </label>\r\n                <Input value={partialPayment} onChange={e => setPartialPayment(e.target.value)} placeholder=\"Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø¯ÙÙˆØ¹ Ù…Ù‚Ø¯Ù…Ù‹Ø§\" className=\"bg-white dark:bg-[#1A1A1A]\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-2 pt-2\">\r\n              <Button className=\"bg-amber-600 hover:bg-amber-700 hover:shadow-md transition-all duration-200\" onClick={() => addItem('in_progress')}>\r\n                â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØµÙ„ÙŠØ­\r\n              </Button>\r\n              <Button className=\"bg-green-600 hover:bg-green-700 hover:shadow-md transition-all duration-200\" onClick={() => addItem('completed')}>\r\n                âœ… ØªÙ… Ø§Ù„ØªØµÙ„ÙŠØ­\r\n              </Button>\r\n              <Button variant=\"outline\" onClick={() => setFormVisible(false)} className=\"hover:bg-gray-50 dark:hover:bg-gray-800\">\r\n                Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬\r\n              </Button>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n        )}\r\n\r\n        <Separator />\r\n\r\n        \r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-3\">\r\n          <Card>\r\n            <CardHeader className=\"pb-2\">\r\n              <CardTitle className=\"text-sm flex items-center gap-2\">\r\n                <div className=\"flex items-center gap-2 bg-amber-50 dark:bg-amber-900/20 px-3 py-1 rounded-full\">\r\n                  <Clock className=\"h-4 w-4 text-amber-600\" />\r\n                  <span className=\"font-semibold text-amber-800 dark:text-amber-200\">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØµÙ„ÙŠØ­</span>\r\n                </div>\r\n                <Badge variant=\"secondary\" className=\"ml-auto text-[10px] bg-amber-100 text-amber-800\">{inProgressItems.length}</Badge>\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-2 sm:max-h-[280px] sm:overflow-y-auto\">\r\n              {inProgressItems.length === 0 ? (\r\n                <div className=\"text-xs text-gray-500 dark:text-gray-400\">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù†Ø§ØµØ± Ù‚ÙŠØ¯ Ø§Ù„ØªØµÙ„ÙŠØ­</div>\r\n              ) : (\r\n                inProgressItems.map(item => (\r\n                  <div key={item.id} className=\"flex items-center justify-between p-3 bg-white dark:bg-[#1A1A1A] rounded-lg border border-gray-200 dark:border-[#333] hover:shadow-sm transition-all duration-200\">\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"flex items-center gap-2 mb-1\">\r\n                        <span className=\"text-lg\">ğŸ”§</span>\r\n                        <p className=\"text-sm font-semibold\">{item.productName}</p>\r\n                        <span className=\"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full\">{item.repairPrice} Ø¬</span>\r\n                      </div>\r\n                      <div className=\"text-[11px] text-gray-600 dark:text-gray-300 space-y-1\">\r\n                        {item.faultType && (\r\n                          <div className=\"flex items-center gap-1\">\r\n                            <span className=\"text-xs\">âš ï¸</span>\r\n                            <span>{item.faultType}</span>\r\n                          </div>\r\n                        )}\r\n                        {(item.customerName || item.mobile) && (\r\n                          <div className=\"flex items-center gap-1\">\r\n                            <span className=\"text-xs\">ğŸ‘¤</span>\r\n                            <span>\r\n                              {item.customerName}\r\n                              {item.customerName && item.mobile && ' â€¢ '}\r\n                              {item.mobile}\r\n                            </span>\r\n                          </div>\r\n                        )}\r\n                        {typeof (item as any).remainingDue === 'number' && (\r\n                          <div className=\"flex items-center gap-1 text-orange-700 dark:text-orange-400\">\r\n                            <span className=\"text-xs\">ğŸ’°</span>\r\n                            <span>Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: {(item as any).remainingDue} Ø¬</span>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-1\">\r\n                      <Button size=\"sm\" variant=\"outline\" className=\"h-8 bg-blue-50 hover:bg-blue-100 text-blue-600 border-blue-200\" onClick={() => markWaitingForDelivery(item.id)} title=\"Ù†Ù‚Ù„ Ø¥Ù„Ù‰ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„ØªØ³Ù„ÙŠÙ…\">\r\n                        <Truck className=\"h-3 w-3\" />\r\n                      </Button>\r\n                      <Button size=\"sm\" className=\"h-8 bg-green-600 hover:bg-green-700 text-xs\" onClick={() => markCompleted(item.id)}>\r\n                        âœ“ ØªÙ… Ø§Ù„ØªØµÙ„ÙŠØ­\r\n                      </Button>\r\n                      <Button size=\"sm\" variant=\"outline\" className=\"h-8\" onClick={() => removeItem(item.id)}>\r\n                        <Trash2 className=\"h-3 w-3\" />\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                ))\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card className=\"mb-3 border-2 border-blue-50 dark:border-blue-900/20\">\r\n            <CardHeader className=\"pb-2\">\r\n              <CardTitle className=\"text-sm flex items-center gap-2\">\r\n                <div className=\"flex items-center gap-2 bg-blue-50 dark:bg-blue-900/20 px-3 py-1 rounded-full\">\r\n                  <Truck className=\"h-4 w-4 text-blue-600\" />\r\n                  <span className=\"font-semibold text-blue-800 dark:text-blue-200\">ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„ØªØ³Ù„ÙŠÙ…</span>\r\n                </div>\r\n                <Badge variant=\"secondary\" className=\"ml-auto text-[10px] bg-blue-100 text-blue-800\">{waitingItems.length}</Badge>\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-2 sm:max-h-[280px] sm:overflow-y-auto\">\r\n              {waitingItems.length === 0 ? (\r\n                <div className=\"text-xs text-gray-500 dark:text-gray-400\">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù†Ø§ØµØ± ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„ØªØ³Ù„ÙŠÙ…</div>\r\n              ) : (\r\n                waitingItems.map(item => (\r\n                  <div key={item.id} className=\"flex items-center justify-between p-2 rounded-lg bg-gray-50 dark:bg-[#1A1A1A] border border-gray-100 dark:border-[#333]\">\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"font-medium text-sm text-gray-900 dark:text-gray-100\">{item.productName}</div>\r\n                      <div className=\"text-xs text-gray-500 dark:text-gray-400 flex flex-wrap gap-2 mt-1\">\r\n                        {item.customerName && <span className=\"bg-white dark:bg-[#252525] px-1 rounded border border-gray-100 dark:border-[#333]\">{item.customerName}</span>}\r\n                        {item.mobile && <span className=\"bg-white dark:bg-[#252525] px-1 rounded border border-gray-100 dark:border-[#333]\">{item.mobile}</span>}\r\n                        <div className=\"flex items-center gap-1 text-green-700 dark:text-green-400 font-bold\">\r\n                          <span className=\"text-xs\">ğŸ’°</span>\r\n                          <span>{item.repairPrice} Ø¬</span>\r\n                        </div>\r\n                        {typeof (item as any).partialPayment === 'number' && (\r\n                          <div className=\"flex items-center gap-1 text-blue-700 dark:text-blue-400\">\r\n                            <span className=\"text-xs\">ğŸ’³</span>\r\n                            <span>Ù…Ø¯ÙÙˆØ¹: {(item as any).partialPayment} Ø¬</span>\r\n                          </div>\r\n                        )}\r\n                        {typeof (item as any).remainingDue === 'number' && (\r\n                          <div className=\"flex items-center gap-1 text-orange-700 dark:text-orange-400\">\r\n                            <span className=\"text-xs\">ğŸ’°</span>\r\n                            <span>Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: {(item as any).remainingDue} Ø¬</span>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-1\">\r\n                      <Button size=\"sm\" className=\"h-8 bg-green-600 hover:bg-green-700 text-xs\" onClick={() => markCompleted(item.id)}>\r\n                        âœ“ ØªØ³Ù„ÙŠÙ…\r\n                      </Button>\r\n                      <Button size=\"sm\" variant=\"outline\" className=\"h-8\" onClick={() => removeItem(item.id)}>\r\n                        <Trash2 className=\"h-3 w-3\" />\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                ))\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardHeader className=\"pb-2\">\r\n              <CardTitle className=\"text-sm flex items-center gap-2\">\r\n                <div className=\"flex items-center gap-2 bg-green-50 dark:bg-green-900/20 px-3 py-1 rounded-full\">\r\n                  <CheckCircle className=\"h-4 w-4 text-green-600\" />\r\n                  <span className=\"font-semibold text-green-800 dark:text-green-200\">ØªÙ… Ø§Ù„ØªØµÙ„ÙŠØ­</span>\r\n                </div>\r\n                <Badge variant=\"secondary\" className=\"ml-auto text-[10px] bg-green-100 text-green-800\">{completedItems.length}</Badge>\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-2 sm:max-h-[280px] sm:overflow-y-auto\">\r\n              {completedItems.length === 0 ? (\r\n                <div className=\"text-xs text-gray-500 dark:text-gray-400\">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù†Ø§ØµØ± Ù…Ù†ØªÙ‡ÙŠØ©</div>\r\n              ) : (\r\n                completedItems.map(item => (\r\n                  <div key={item.id} className=\"flex items-center justify-between p-3 bg-white dark:bg-[#1A1A1A] rounded-lg border border-gray-200 dark:border-[#333] hover:shadow-sm transition-all duration-200\">\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"flex items-center gap-2 mb-1\">\r\n                        <span className=\"text-lg\">âœ…</span>\r\n                        <p className=\"text-sm font-semibold\">{item.productName}</p>\r\n                        <span className=\"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full\">{item.repairPrice} Ø¬</span>\r\n                      </div>\r\n                      <div className=\"text-[11px] text-gray-600 dark:text-gray-300 space-y-1\">\r\n                        {item.faultType && (\r\n                          <div className=\"flex items-center gap-1\">\r\n                            <span className=\"text-xs\">ğŸ”§</span>\r\n                            <span>{item.faultType}</span>\r\n                          </div>\r\n                        )}\r\n                        {(item.customerName || item.mobile) && (\r\n                          <div className=\"flex items-center gap-1\">\r\n                            <span className=\"text-xs\">ğŸ‘¤</span>\r\n                            <span>\r\n                              {item.customerName}\r\n                              {item.customerName && item.mobile && ' â€¢ '}\r\n                              {item.mobile}\r\n                            </span>\r\n                          </div>\r\n                        )}\r\n                        {typeof (item as any).partialPayment === 'number' && (\r\n                          <div className=\"flex items-center gap-1 text-emerald-700 dark:text-emerald-400\">\r\n                            <span className=\"text-xs\">ğŸ’µ</span>\r\n                            <span>Ø§Ù„Ù…Ø¯ÙÙˆØ¹: {(item as any).partialPayment} Ø¬</span>\r\n                          </div>\r\n                        )}\r\n                        {typeof (item as any).remainingDue === 'number' && (\r\n                          <div className=\"flex items-center gap-1 text-orange-700 dark:text-orange-400\">\r\n                            <span className=\"text-xs\">â³</span>\r\n                            <span>Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: {(item as any).remainingDue} Ø¬</span>\r\n                          </div>\r\n                        )}\r\n                        <div className=\"flex items-center gap-1 text-gray-500 dark:text-gray-400 mt-1\">\r\n                          <span className=\"text-xs\">ğŸ“…</span>\r\n                          <span className=\"text-[10px]\">\r\n                            {item.completedAt instanceof Date \r\n                              ? item.completedAt.toLocaleDateString('ar-EG', { year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit' }) \r\n                              : (item.createdAt instanceof Date \r\n                                ? item.createdAt.toLocaleDateString('ar-EG', { year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit' }) \r\n                                : 'ØªØ§Ø±ÙŠØ® ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ')}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-1\">\r\n                      <Badge className=\"text-[10px] bg-green-100 text-green-800 border border-green-200\">âœ“ Ù…ÙƒØªÙ…Ù„</Badge>\r\n                      <Button size=\"sm\" variant=\"outline\" className=\"h-8\" onClick={() => removeItem(item.id)} title=\"Ø­Ø°Ù\">\r\n                        <Trash2 className=\"h-3 w-3\" />\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                ))\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n        \r\n        {/* Ø²Ø± Ø¥Ø¶Ø§ÙØ© Ù„Ù„ØµÙŠØ§Ù†Ø© Ù…Ø«Ø¨Øª Ù„Ø£Ø³ÙÙ„ ÙÙŠ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø¸Ù‡ÙˆØ± */}\r\n        <div className=\"sm:hidden sticky bottom-0 left-0 right-0 bg-white dark:bg-[#0F0F0F] border-t border-gray-200 dark:border-[#333] p-3 z-20\">\r\n          <Button className=\"w-full bg-amber-600 hover:bg-amber-700\" onClick={() => setFormVisible(true)}>\r\n            Ø¥Ø¶Ø§ÙØ© Ø¬Ù‡Ø§Ø² ØµÙŠØ§Ù†Ø©\r\n          </Button>\r\n        </div>\r\n        </div>\r\n\r\n      </DialogContent>\r\n    </Dialog>\r\n\r\n\r\n    <Dialog open={wasteDialogOpen} onOpenChange={setWasteDialogOpen}>\r\n      <DialogContent \r\n        className=\"sm:max-w-[425px] z-[10005]\"\r\n        overlayClassName=\"backdrop-blur-[5px] bg-black/10 !dark:bg-black\"\r\n      >\r\n        <DialogHeader>\r\n          <DialogTitle className=\"flex items-center gap-2\">\r\n            <span className=\"text-xl\">ğŸ—‘ï¸</span>\r\n            Ø¥Ø¶Ø§ÙØ© Ù‡ÙˆØ§Ù„Ùƒ\r\n          </DialogTitle>\r\n        </DialogHeader>\r\n        \r\n        <Card className=\"border-0 shadow-none bg-transparent\">\r\n          <CardContent className=\"space-y-4 p-0 pt-2\">\r\n            <div className=\"space-y-2\">\r\n              <label className=\"text-sm font-medium leading-none flex items-center gap-2 text-gray-700 dark:text-gray-300\">\r\n                <span>ğŸ“±</span> Ø§Ø³Ù… Ø§Ù„Ø¬Ù‡Ø§Ø²\r\n              </label>\r\n              <Input \r\n                value={wasteDevice} \r\n                onChange={(e) => setWasteDevice(e.target.value)} \r\n                placeholder=\"Ù…Ø«Ø§Ù„: iPhone 11\" \r\n                className=\"bg-white dark:bg-[#1A1A1A]\"\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"space-y-2\">\r\n              <label className=\"text-sm font-medium leading-none flex items-center gap-2 text-gray-700 dark:text-gray-300\">\r\n                <span>âš ï¸</span> Ø§Ù„Ø¹Ø·Ù„\r\n              </label>\r\n              <Input \r\n                value={wasteFault} \r\n                onChange={(e) => setWasteFault(e.target.value)} \r\n                placeholder=\"ÙˆØµÙ Ø§Ù„Ø¹Ø·Ù„\" \r\n                className=\"bg-white dark:bg-[#1A1A1A]\"\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"space-y-2\">\r\n              <label className=\"text-sm font-medium leading-none flex items-center gap-2 text-gray-700 dark:text-gray-300\">\r\n                <span>ğŸ’°</span> Ø³Ø¹Ø± Ø§Ù„Ø®Ø³Ø§Ø±Ø©\r\n              </label>\r\n              <Input \r\n                type=\"number\" \r\n                value={wasteAmount} \r\n                onChange={(e) => setWasteAmount(e.target.value)} \r\n                placeholder=\"Ø§Ù„Ù…Ø¨Ù„Øº\" \r\n                className=\"bg-white dark:bg-[#1A1A1A]\"\r\n              />\r\n            </div>\r\n\r\n            <Button onClick={handleAddWaste} className=\"bg-red-600 hover:bg-red-700 w-full mt-6 shadow-md transition-all h-10 text-md font-semibold\">\r\n              Ø¥Ø¶Ø§ÙØ© Ø¥ÙŠØµØ§Ù„ Ù‡ÙˆØ§Ù„Ùƒ\r\n            </Button>\r\n            \r\n            <Button \r\n              variant=\"outline\" \r\n              onClick={() => setShowWasteHistory(true)} \r\n              className=\"w-full mt-2 border-red-200 text-red-600 hover:bg-red-50 hover:text-red-700 dark:border-red-900 dark:text-red-400 dark:hover:bg-red-900/20\"\r\n            >\r\n              Ø¹Ø±Ø¶ Ø¥ÙŠØµØ§Ù„Ø§Øª Ø§Ù„Ù‡ÙˆØ§Ù„Ùƒ\r\n            </Button>\r\n          </CardContent>\r\n        </Card>\r\n      </DialogContent>\r\n    </Dialog>\r\n\r\n    <Dialog open={showSuccessDialog} onOpenChange={setShowSuccessDialog}>\r\n      <DialogContent \r\n        className=\"sm:max-w-[350px] z-[10006] flex flex-col items-center justify-center text-center p-6 border-0 shadow-lg rounded-xl\"\r\n        overlayClassName=\"backdrop-blur-[5px] bg-black/10 !dark:bg-black/95\"\r\n      >\r\n        <div className=\"h-20 w-20 bg-green-100 rounded-full flex items-center justify-center mb-6 animate-in zoom-in duration-300\">\r\n          <CheckCircle className=\"h-12 w-12 text-green-600\" />\r\n        </div>\r\n        <h3 className=\"text-xl font-bold text-gray-900 dark:text-gray-100 mb-2\">ØªÙ…Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­!</h3>\r\n        <p className=\"text-gray-500 dark:text-gray-400 mb-8\">ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø¥ÙŠØµØ§Ù„ Ø§Ù„Ù‡ÙˆØ§Ù„Ùƒ ÙˆØ­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.</p>\r\n        <Button \r\n          onClick={() => setShowSuccessDialog(false)} \r\n          className=\"bg-green-600 hover:bg-green-700 w-full h-12 text-lg font-medium rounded-lg shadow-sm\"\r\n        >\r\n          Ø­Ø³Ù†Ø§Ù‹\r\n        </Button>\r\n      </DialogContent>\r\n    </Dialog>\r\n\r\n    <Dialog open={showWasteHistory} onOpenChange={setShowWasteHistory}>\r\n      <DialogContent \r\n        className=\"sm:max-w-[600px] z-[10007] max-h-[80vh] overflow-hidden flex flex-col\"\r\n        overlayClassName=\"backdrop-blur-[5px] bg-black/10 !dark:bg-black/95\"\r\n      >\r\n        <DialogHeader>\r\n          <DialogTitle className=\"flex items-center gap-2 text-xl\">\r\n            <span>ğŸ“‹</span>\r\n            Ø³Ø¬Ù„ Ø¥ÙŠØµØ§Ù„Ø§Øª Ø§Ù„Ù‡ÙˆØ§Ù„Ùƒ\r\n          </DialogTitle>\r\n        </DialogHeader>\r\n        \r\n        <div className=\"flex-1 overflow-y-auto pr-2 mt-4 space-y-3 custom-scrollbar\">\r\n          {wasteHistory.length === 0 ? (\r\n            <div className=\"text-center text-gray-500 py-8\">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥ÙŠØµØ§Ù„Ø§Øª Ù‡ÙˆØ§Ù„Ùƒ Ø³Ø§Ø¨Ù‚Ø©</div>\r\n          ) : (\r\n            wasteHistory.map((item) => (\r\n              <div key={item.id} className=\"bg-gray-50 dark:bg-gray-900/50 p-4 rounded-lg border border-gray-100 dark:border-gray-800 flex justify-between items-start\">\r\n                <div>\r\n                  <div className=\"font-semibold text-gray-900 dark:text-gray-100\">{item.note?.split(' - ')[0] || 'Ø¬Ù‡Ø§Ø² ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</div>\r\n                  <div className=\"text-sm text-gray-500 mt-1\">{item.note?.split(' - ')[1] || 'Ø¹Ø·Ù„ ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</div>\r\n                  <div className=\"text-xs text-gray-400 mt-2 flex items-center gap-1\">\r\n                    <Clock className=\"h-3 w-3\" />\r\n                    {item.createdAt?.toDate ? item.createdAt.toDate().toLocaleDateString('ar-EG', { year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit' }) : 'ØªØ§Ø±ÙŠØ® ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ'}\r\n                  </div>\r\n                </div>\r\n                <div className=\"text-red-600 font-bold text-lg dir-ltr\">\r\n                  -{formatMoney(item.amount)}\r\n                </div>\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n\r\n      <MasterPinDialog\r\n        open={pinDialogOpen}\r\n        onOpenChange={setPinDialogOpen}\r\n        onSuccess={() => {\r\n          setPinDialogOpen(false); // Close PIN dialog after successful verification\r\n          // Small delay to ensure PIN dialog overlay is gone\r\n          setTimeout(() => {\r\n            setShowProfit(true);\r\n          }, 100);\r\n        }}\r\n        className=\"z-[10003]\"\r\n        overlayClassName=\"backdrop-blur-[5px] bg-black/10 !dark:bg-black/95\"\r\n      />\r\n      <Dialog open={showProfit} onOpenChange={(open) => {\r\n        if (!open) {\r\n          setShowProfit(false);\r\n          setPinDialogOpen(false);\r\n        }\r\n      }}>\r\n        <DialogContent \r\n          className=\"z-[50000] max-w-md rounded-lg\" \r\n          hideClose\r\n          overlayClassName=\"backdrop-blur-[5px] bg-black/10 !dark:bg-black\"\r\n        >\r\n          <div className=\"flex items-center justify-between\">\r\n            <h3 className=\"text-lg font-semibold\">Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„ØµÙŠØ§Ù†Ø©</h3>\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              onClick={() => {\r\n                setShowProfit(false);\r\n                setPinDialogOpen(false);\r\n              }}\r\n            >\r\n              <X className=\"h-4 w-4\" />\r\n            </Button>\r\n          </div>\r\n          <div className=\"space-y-4\">\r\n            <div className=\"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg\">\r\n              <div className=\"text-sm text-blue-600 dark:text-blue-400 mb-1\">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„ÙŠÙˆÙ…</div>\r\n              <div className=\"text-2xl font-bold text-blue-800 dark:text-blue-200\">\r\n                {formatMoney(maintenanceDailyProfit)}\r\n              </div>\r\n            </div>\r\n            <div className=\"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg\">\r\n              <div className=\"text-sm text-green-600 dark:text-green-400 mb-1\">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„Ø´Ù‡Ø±</div>\r\n              <div className=\"text-2xl font-bold text-green-800 dark:text-green-200\">\r\n                {formatMoney(maintenanceMonthlyProfit)}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg\">\r\n              <div className=\"text-sm text-red-600 dark:text-red-400 mb-1\">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù‡ÙˆØ§Ù„Ùƒ Ø§Ù„Ø´Ù‡Ø±ÙŠØ©</div>\r\n              <div className=\"text-2xl font-bold text-red-800 dark:text-red-200\">\r\n                {formatMoney(monthlyWaste)}\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg space-y-3\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div className=\"text-sm text-purple-600 dark:text-purple-400\">Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­</div>\r\n                <Input\r\n                  type=\"date\"\r\n                  value={searchDate}\r\n                  onChange={(e) => {\r\n                    setSearchDate(e.target.value);\r\n                    computeProfit(items, e.target.value);\r\n                  }}\r\n                  className=\"w-40 h-8 text-xs bg-white dark:bg-gray-800 border-purple-200\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <div className=\"text-xs text-purple-600/70 dark:text-purple-400/70 mb-1\">\r\n                  Ø£Ø±Ø¨Ø§Ø­ ÙŠÙˆÙ… {new Date(searchDate).toLocaleDateString('ar-EG')}\r\n                </div>\r\n                <div className=\"text-xl font-bold text-purple-800 dark:text-purple-200\">\r\n                  {formatMoney(searchDateProfit)}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"pt-4 border-t border-gray-200 dark:border-gray-700\">\r\n              <Button \r\n                className=\"w-full bg-gray-600 hover:bg-gray-700 dark:bg-gray-700 dark:hover:bg-gray-600\"\r\n                onClick={() => {\r\n                  setShowProfit(false);\r\n                  setPinDialogOpen(false);\r\n                }}\r\n              >\r\n                Ø¥ØºÙ„Ø§Ù‚\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MaintenanceDialog;\r\n"],"names":["__iconNode","Truck","createLucideIcon","MaintenanceDialog","open","onOpenChange","user","useFirebaseAuth","shopIdCtx","profile","useShop","items","setItems","useState","productName","setProductName","faultType","setFaultType","customerName","setCustomerName","mobile","setMobile","repairPrice","setRepairPrice","wholesalePrice","setWholesalePrice","partialPayment","setPartialPayment","formVisible","setFormVisible","isRefreshing","setIsRefreshing","showProfit","setShowProfit","pinDialogOpen","setPinDialogOpen","maintenanceDailyProfit","setMaintenanceDailyProfit","maintenanceMonthlyProfit","setMaintenanceMonthlyProfit","monthlyWaste","setMonthlyWaste","showSuccessDialog","setShowSuccessDialog","showWasteHistory","setShowWasteHistory","wasteHistory","setWasteHistory","wasteDialogOpen","setWasteDialogOpen","wasteDevice","setWasteDevice","wasteFault","setWasteFault","wasteAmount","setWasteAmount","getLocalDateString","d","year","month","day","searchDate","setSearchDate","searchDateProfit","setSearchDateProfit","formatMoney","n","computeProfit","targetDateStr","now","today","thisMonth","sDate","targetDate","y","m","daily","monthly","searchProfit","item","itemDate","itemDay","profit","finalProfit","fetchItems","handleSnap","snap","list","data","_b","_a","_d","_c","q1","query","collection","db","where","orderBy","getDocs","err","q2","docs","a","b","da","e","fetchMonthlyWaste","startOfMonth","q","total","sum","doc","fetchWasteHistory","history","dateA","useEffect","resetForm","addItem","status","numericRepair","numericWholesale","numericPartial","payload","serverTimestamp","_fault","_customer","_mobile","docRef","addDoc","commonFields","syncErr","prev","amount","genericKey","shopKey","saved","newCash","userDataService","paidPart","mobileText","telegramNotifier","msg","markWaitingForDelivery","id","updateDoc","i","limit","markCompleted","updatePayload","fullPaid","updatedItems","shopId","pendingDoc","deleteDoc","delErr","ProfitService","profitError","removeItem","qPending","snapPending","qDone","snapDone","handleAddWaste","inProgressItems","it","waitingItems","completedItems","jsxs","Fragment","jsx","Dialog","DialogContent","DialogHeader","DialogTitle","Wrench","Button","RefreshCw","X","Card","CardHeader","CardTitle","CardContent","Input","Separator","Clock","Badge","Trash2","CheckCircle","MasterPinDialog"],"mappings":"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","x_google_ignoreList":[0]}